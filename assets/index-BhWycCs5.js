var Of=Object.defineProperty;var Df=(e,t,n)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jr=(e,t,n)=>Df(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ba(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const bt={},no=[],Hn=()=>{},Nf=()=>!1,Gi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wa=e=>e.startsWith("onUpdate:"),Wt=Object.assign,Sa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},$f=Object.prototype.hasOwnProperty,yt=(e,t)=>$f.call(e,t),Ke=Array.isArray,ro=e=>Xo(e)==="[object Map]",co=e=>Xo(e)==="[object Set]",lu=e=>Xo(e)==="[object Date]",We=e=>typeof e=="function",kt=e=>typeof e=="string",An=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",Cl=e=>(wt(e)||We(e))&&We(e.then)&&We(e.catch),xl=Object.prototype.toString,Xo=e=>xl.call(e),Bf=e=>Xo(e).slice(8,-1),El=e=>Xo(e)==="[object Object]",Ca=e=>kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ro=ba(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mf=/-(\w)/g,bn=Qi(e=>e.replace(Mf,(t,n)=>n?n.toUpperCase():"")),Lf=/\B([A-Z])/g,Fr=Qi(e=>e.replace(Lf,"-$1").toLowerCase()),Ji=Qi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=Qi(e=>e?`on${Ji(e)}`:""),_r=(e,t)=>!Object.is(e,t),$i=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Il=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Ki=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ff=e=>{const t=kt(e)?Number(e):NaN;return isNaN(t)?e:t};let cu;const Xi=()=>cu||(cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xa(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=kt(o)?qf(o):xa(o);if(s)for(const a in s)t[a]=s[a]}return t}else if(kt(e)||wt(e))return e}const jf=/;(?![^(]*\))/g,Kf=/:([^]+)/,Uf=/\/\*[^]*?\*\//g;function qf(e){const t={};return e.replace(Uf,"").split(jf).forEach(n=>{if(n){const o=n.split(Kf);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function mn(e){let t="";if(kt(e))t=e;else if(Ke(e))for(let n=0;n<e.length;n++){const o=mn(e[n]);o&&(t+=o+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Vf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hf=ba(Vf);function Tl(e){return!!e||e===""}function Wf(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Zo(e[o],t[o]);return n}function Zo(e,t){if(e===t)return!0;let n=lu(e),o=lu(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=An(e),o=An(t),n||o)return e===t;if(n=Ke(e),o=Ke(t),n||o)return n&&o?Wf(e,t):!1;if(n=wt(e),o=wt(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,a=Object.keys(t).length;if(s!==a)return!1;for(const c in e){const l=e.hasOwnProperty(c),d=t.hasOwnProperty(c);if(l&&!d||!l&&d||!Zo(e[c],t[c]))return!1}}return String(e)===String(t)}function Ea(e,t){return e.findIndex(n=>Zo(n,t))}const Al=e=>!!(e&&e.__v_isRef===!0),Le=e=>kt(e)?e:e==null?"":Ke(e)||wt(e)&&(e.toString===xl||!We(e.toString))?Al(e)?Le(e.value):JSON.stringify(e,Pl,2):String(e),Pl=(e,t)=>Al(t)?Pl(e,t.value):ro(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],a)=>(n[Ms(o,a)+" =>"]=s,n),{})}:co(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ms(n))}:An(t)?Ms(t):wt(t)&&!Ke(t)&&!El(t)?String(t):t,Ms=(e,t="")=>{var n;return An(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;class kl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=sn,!t&&sn&&(this.index=(sn.scopes||(sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=sn;try{return sn=this,t()}finally{sn=n}}}on(){sn=this}off(){sn=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Rl(e){return new kl(e)}function Ol(){return sn}function zf(e,t=!1){sn&&sn.cleanups.push(e)}let Ct;const Ls=new WeakSet;class Dl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,sn&&sn.active&&sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ls.has(this)&&(Ls.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$l(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fu(this),Bl(this);const t=Ct,n=xn;Ct=this,xn=!0;try{return this.fn()}finally{Ml(this),Ct=t,xn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Aa(t);this.deps=this.depsTail=void 0,fu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ls.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ta(this)&&this.run()}get dirty(){return ta(this)}}let Nl=0,Oo,Do;function $l(e,t=!1){if(e.flags|=8,t){e.next=Do,Do=e;return}e.next=Oo,Oo=e}function Ia(){Nl++}function Ta(){if(--Nl>0)return;if(Do){let t=Do;for(Do=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Oo;){let t=Oo;for(Oo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Bl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ml(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Aa(o),Yf(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function ta(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ll(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ll(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fo))return;e.globalVersion=Fo;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ta(e)){e.flags&=-3;return}const n=Ct,o=xn;Ct=e,xn=!0;try{Bl(e);const s=e.fn(e._value);(t.version===0||_r(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ct=n,xn=o,Ml(e),e.flags&=-3}}function Aa(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Aa(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Yf(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xn=!0;const Fl=[];function Cr(){Fl.push(xn),xn=!1}function xr(){const e=Fl.pop();xn=e===void 0?!0:e}function fu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ct;Ct=void 0;try{t()}finally{Ct=n}}}let Fo=0;class Gf{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ct||!xn||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new Gf(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,jl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=o)}return n}trigger(t){this.version++,Fo++,this.notify(t)}notify(t){Ia();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ta()}}}function jl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)jl(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ui=new WeakMap,Br=Symbol(""),na=Symbol(""),jo=Symbol("");function Xt(e,t,n){if(xn&&Ct){let o=Ui.get(e);o||Ui.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new Pa),s.map=o,s.key=n),s.track()}}function er(e,t,n,o,s,a){const c=Ui.get(e);if(!c){Fo++;return}const l=d=>{d&&d.trigger()};if(Ia(),t==="clear")c.forEach(l);else{const d=Ke(e),v=d&&Ca(n);if(d&&n==="length"){const p=Number(o);c.forEach((m,_)=>{(_==="length"||_===jo||!An(_)&&_>=p)&&l(m)})}else switch((n!==void 0||c.has(void 0))&&l(c.get(n)),v&&l(c.get(jo)),t){case"add":d?v&&l(c.get("length")):(l(c.get(Br)),ro(e)&&l(c.get(na)));break;case"delete":d||(l(c.get(Br)),ro(e)&&l(c.get(na)));break;case"set":ro(e)&&l(c.get(Br));break}}Ta()}function Qf(e,t){const n=Ui.get(e);return n&&n.get(t)}function Xr(e){const t=ht(e);return t===e?t:(Xt(t,"iterate",jo),_n(e)?t:t.map(Zt))}function Zi(e){return Xt(e=ht(e),"iterate",jo),e}const Jf={__proto__:null,[Symbol.iterator](){return Fs(this,Symbol.iterator,Zt)},concat(...e){return Xr(this).concat(...e.map(t=>Ke(t)?Xr(t):t))},entries(){return Fs(this,"entries",e=>(e[1]=Zt(e[1]),e))},every(e,t){return Qn(this,"every",e,t,void 0,arguments)},filter(e,t){return Qn(this,"filter",e,t,n=>n.map(Zt),arguments)},find(e,t){return Qn(this,"find",e,t,Zt,arguments)},findIndex(e,t){return Qn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Qn(this,"findLast",e,t,Zt,arguments)},findLastIndex(e,t){return Qn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Qn(this,"forEach",e,t,void 0,arguments)},includes(...e){return js(this,"includes",e)},indexOf(...e){return js(this,"indexOf",e)},join(e){return Xr(this).join(e)},lastIndexOf(...e){return js(this,"lastIndexOf",e)},map(e,t){return Qn(this,"map",e,t,void 0,arguments)},pop(){return Io(this,"pop")},push(...e){return Io(this,"push",e)},reduce(e,...t){return du(this,"reduce",e,t)},reduceRight(e,...t){return du(this,"reduceRight",e,t)},shift(){return Io(this,"shift")},some(e,t){return Qn(this,"some",e,t,void 0,arguments)},splice(...e){return Io(this,"splice",e)},toReversed(){return Xr(this).toReversed()},toSorted(e){return Xr(this).toSorted(e)},toSpliced(...e){return Xr(this).toSpliced(...e)},unshift(...e){return Io(this,"unshift",e)},values(){return Fs(this,"values",Zt)}};function Fs(e,t,n){const o=Zi(e),s=o[t]();return o!==e&&!_n(e)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const Xf=Array.prototype;function Qn(e,t,n,o,s,a){const c=Zi(e),l=c!==e&&!_n(e),d=c[t];if(d!==Xf[t]){const m=d.apply(e,a);return l?Zt(m):m}let v=n;c!==e&&(l?v=function(m,_){return n.call(this,Zt(m),_,e)}:n.length>2&&(v=function(m,_){return n.call(this,m,_,e)}));const p=d.call(c,v,o);return l&&s?s(p):p}function du(e,t,n,o){const s=Zi(e);let a=n;return s!==e&&(_n(e)?n.length>3&&(a=function(c,l,d){return n.call(this,c,l,d,e)}):a=function(c,l,d){return n.call(this,c,Zt(l),d,e)}),s[t](a,...o)}function js(e,t,n){const o=ht(e);Xt(o,"iterate",jo);const s=o[t](...n);return(s===-1||s===!1)&&Oa(n[0])?(n[0]=ht(n[0]),o[t](...n)):s}function Io(e,t,n=[]){Cr(),Ia();const o=ht(e)[t].apply(e,n);return Ta(),xr(),o}const Zf=ba("__proto__,__v_isRef,__isVue"),Kl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(An));function ed(e){An(e)||(e=String(e));const t=ht(this);return Xt(t,"has",e),t.hasOwnProperty(e)}class Ul{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return o===(s?a?cd:Wl:a?Hl:Vl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const c=Ke(t);if(!s){let d;if(c&&(d=Jf[n]))return d;if(n==="hasOwnProperty")return ed}const l=Reflect.get(t,n,$t(t)?t:o);return(An(n)?Kl.has(n):Zf(n))||(s||Xt(t,"get",n),a)?l:$t(l)?c&&Ca(n)?l:l.value:wt(l)?s?Yl(l):ei(l):l}}class ql extends Ul{constructor(t=!1){super(!1,t)}set(t,n,o,s){let a=t[n];if(!this._isShallow){const d=Lr(a);if(!_n(o)&&!Lr(o)&&(a=ht(a),o=ht(o)),!Ke(t)&&$t(a)&&!$t(o))return d?!1:(a.value=o,!0)}const c=Ke(t)&&Ca(n)?Number(n)<t.length:yt(t,n),l=Reflect.set(t,n,o,$t(t)?t:s);return t===ht(s)&&(c?_r(o,a)&&er(t,"set",n,o):er(t,"add",n,o)),l}deleteProperty(t,n){const o=yt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&er(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!An(n)||!Kl.has(n))&&Xt(t,"has",n),o}ownKeys(t){return Xt(t,"iterate",Ke(t)?"length":Br),Reflect.ownKeys(t)}}class td extends Ul{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nd=new ql,rd=new td,od=new ql(!0);const ra=e=>e,ki=e=>Reflect.getPrototypeOf(e);function id(e,t,n){return function(...o){const s=this.__v_raw,a=ht(s),c=ro(a),l=e==="entries"||e===Symbol.iterator&&c,d=e==="keys"&&c,v=s[e](...o),p=n?ra:t?oa:Zt;return!t&&Xt(a,"iterate",d?na:Br),{next(){const{value:m,done:_}=v.next();return _?{value:m,done:_}:{value:l?[p(m[0]),p(m[1])]:p(m),done:_}},[Symbol.iterator](){return this}}}}function Ri(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(e,t){const n={get(s){const a=this.__v_raw,c=ht(a),l=ht(s);e||(_r(s,l)&&Xt(c,"get",s),Xt(c,"get",l));const{has:d}=ki(c),v=t?ra:e?oa:Zt;if(d.call(c,s))return v(a.get(s));if(d.call(c,l))return v(a.get(l));a!==c&&a.get(s)},get size(){const s=this.__v_raw;return!e&&Xt(ht(s),"iterate",Br),Reflect.get(s,"size",s)},has(s){const a=this.__v_raw,c=ht(a),l=ht(s);return e||(_r(s,l)&&Xt(c,"has",s),Xt(c,"has",l)),s===l?a.has(s):a.has(s)||a.has(l)},forEach(s,a){const c=this,l=c.__v_raw,d=ht(l),v=t?ra:e?oa:Zt;return!e&&Xt(d,"iterate",Br),l.forEach((p,m)=>s.call(a,v(p),v(m),c))}};return Wt(n,e?{add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear")}:{add(s){!t&&!_n(s)&&!Lr(s)&&(s=ht(s));const a=ht(this);return ki(a).has.call(a,s)||(a.add(s),er(a,"add",s,s)),this},set(s,a){!t&&!_n(a)&&!Lr(a)&&(a=ht(a));const c=ht(this),{has:l,get:d}=ki(c);let v=l.call(c,s);v||(s=ht(s),v=l.call(c,s));const p=d.call(c,s);return c.set(s,a),v?_r(a,p)&&er(c,"set",s,a):er(c,"add",s,a),this},delete(s){const a=ht(this),{has:c,get:l}=ki(a);let d=c.call(a,s);d||(s=ht(s),d=c.call(a,s)),l&&l.call(a,s);const v=a.delete(s);return d&&er(a,"delete",s,void 0),v},clear(){const s=ht(this),a=s.size!==0,c=s.clear();return a&&er(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=id(s,e,t)}),n}function ka(e,t){const n=sd(e,t);return(o,s,a)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(yt(n,s)&&s in o?n:o,s,a)}const ad={get:ka(!1,!1)},ud={get:ka(!1,!0)},ld={get:ka(!0,!1)};const Vl=new WeakMap,Hl=new WeakMap,Wl=new WeakMap,cd=new WeakMap;function fd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dd(e){return e.__v_skip||!Object.isExtensible(e)?0:fd(Bf(e))}function ei(e){return Lr(e)?e:Ra(e,!1,nd,ad,Vl)}function zl(e){return Ra(e,!1,od,ud,Hl)}function Yl(e){return Ra(e,!0,rd,ld,Wl)}function Ra(e,t,n,o,s){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=s.get(e);if(a)return a;const c=dd(e);if(c===0)return e;const l=new Proxy(e,c===2?o:n);return s.set(e,l),l}function br(e){return Lr(e)?br(e.__v_raw):!!(e&&e.__v_isReactive)}function Lr(e){return!!(e&&e.__v_isReadonly)}function _n(e){return!!(e&&e.__v_isShallow)}function Oa(e){return e?!!e.__v_raw:!1}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function Da(e){return!yt(e,"__v_skip")&&Object.isExtensible(e)&&Il(e,"__v_skip",!0),e}const Zt=e=>wt(e)?ei(e):e,oa=e=>wt(e)?Yl(e):e;function $t(e){return e?e.__v_isRef===!0:!1}function Je(e){return Gl(e,!1)}function hd(e){return Gl(e,!0)}function Gl(e,t){return $t(e)?e:new pd(e,t)}class pd{constructor(t,n){this.dep=new Pa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ht(t),this._value=n?t:Zt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||_n(t)||Lr(t);t=o?t:ht(t),_r(t,n)&&(this._rawValue=t,this._value=o?t:Zt(t),this.dep.trigger())}}function et(e){return $t(e)?e.value:e}const md={get:(e,t,n)=>t==="__v_raw"?e:et(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return $t(s)&&!$t(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function Ql(e){return br(e)?e:new Proxy(e,md)}function vd(e){const t=Ke(e)?new Array(e.length):{};for(const n in e)t[n]=gd(e,n);return t}class yd{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Qf(ht(this._object),this._key)}}function gd(e,t,n){const o=e[t];return $t(o)?o:new yd(e,t,n)}class _d{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Pa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return $l(this,!0),!0}get value(){const t=this.dep.track();return Ll(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bd(e,t,n=!1){let o,s;return We(e)?o=e:(o=e.get,s=e.set),new _d(o,s,n)}const Oi={},qi=new WeakMap;let Nr;function wd(e,t=!1,n=Nr){if(n){let o=qi.get(n);o||qi.set(n,o=[]),o.push(e)}}function Sd(e,t,n=bt){const{immediate:o,deep:s,once:a,scheduler:c,augmentJob:l,call:d}=n,v=re=>s?re:_n(re)||s===!1||s===0?tr(re,1):tr(re);let p,m,_,C,H=!1,ne=!1;if($t(e)?(m=()=>e.value,H=_n(e)):br(e)?(m=()=>v(e),H=!0):Ke(e)?(ne=!0,H=e.some(re=>br(re)||_n(re)),m=()=>e.map(re=>{if($t(re))return re.value;if(br(re))return v(re);if(We(re))return d?d(re,2):re()})):We(e)?t?m=d?()=>d(e,2):e:m=()=>{if(_){Cr();try{_()}finally{xr()}}const re=Nr;Nr=p;try{return d?d(e,3,[C]):e(C)}finally{Nr=re}}:m=Hn,t&&s){const re=m,j=s===!0?1/0:s;m=()=>tr(re(),j)}const Ae=Ol(),W=()=>{p.stop(),Ae&&Ae.active&&Sa(Ae.effects,p)};if(a&&t){const re=t;t=(...j)=>{re(...j),W()}}let Q=ne?new Array(e.length).fill(Oi):Oi;const ce=re=>{if(!(!(p.flags&1)||!p.dirty&&!re))if(t){const j=p.run();if(s||H||(ne?j.some((_e,se)=>_r(_e,Q[se])):_r(j,Q))){_&&_();const _e=Nr;Nr=p;try{const se=[j,Q===Oi?void 0:ne&&Q[0]===Oi?[]:Q,C];d?d(t,3,se):t(...se),Q=j}finally{Nr=_e}}}else p.run()};return l&&l(ce),p=new Dl(m),p.scheduler=c?()=>c(ce,!1):ce,C=re=>wd(re,!1,p),_=p.onStop=()=>{const re=qi.get(p);if(re){if(d)d(re,4);else for(const j of re)j();qi.delete(p)}},t?o?ce(!0):Q=p.run():c?c(ce.bind(null,!0),!0):p.run(),W.pause=p.pause.bind(p),W.resume=p.resume.bind(p),W.stop=W,W}function tr(e,t=1/0,n){if(t<=0||!wt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,$t(e))tr(e.value,t,n);else if(Ke(e))for(let o=0;o<e.length;o++)tr(e[o],t,n);else if(co(e)||ro(e))e.forEach(o=>{tr(o,t,n)});else if(El(e)){for(const o in e)tr(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&tr(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ti(e,t,n,o){try{return o?e(...o):e()}catch(s){es(s,t,n)}}function Pn(e,t,n,o){if(We(e)){const s=ti(e,t,n,o);return s&&Cl(s)&&s.catch(a=>{es(a,t,n)}),s}if(Ke(e)){const s=[];for(let a=0;a<e.length;a++)s.push(Pn(e[a],t,n,o));return s}}function es(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||bt;if(t){let l=t.parent;const d=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](e,d,v)===!1)return}l=l.parent}if(a){Cr(),ti(a,null,10,[e,d,v]),xr();return}}Cd(e,n,s,o,c)}function Cd(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const un=[];let qn=-1;const oo=[];let pr=null,eo=0;const Jl=Promise.resolve();let Vi=null;function ts(e){const t=Vi||Jl;return e?t.then(this?e.bind(this):e):t}function xd(e){let t=qn+1,n=un.length;for(;t<n;){const o=t+n>>>1,s=un[o],a=Ko(s);a<e||a===e&&s.flags&2?t=o+1:n=o}return t}function Na(e){if(!(e.flags&1)){const t=Ko(e),n=un[un.length-1];!n||!(e.flags&2)&&t>=Ko(n)?un.push(e):un.splice(xd(t),0,e),e.flags|=1,Xl()}}function Xl(){Vi||(Vi=Jl.then(ec))}function Ed(e){Ke(e)?oo.push(...e):pr&&e.id===-1?pr.splice(eo+1,0,e):e.flags&1||(oo.push(e),e.flags|=1),Xl()}function hu(e,t,n=qn+1){for(;n<un.length;n++){const o=un[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;un.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Zl(e){if(oo.length){const t=[...new Set(oo)].sort((n,o)=>Ko(n)-Ko(o));if(oo.length=0,pr){pr.push(...t);return}for(pr=t,eo=0;eo<pr.length;eo++){const n=pr[eo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pr=null,eo=0}}const Ko=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ec(e){try{for(qn=0;qn<un.length;qn++){const t=un[qn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ti(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qn<un.length;qn++){const t=un[qn];t&&(t.flags&=-2)}qn=-1,un.length=0,Zl(),Vi=null,(un.length||oo.length)&&ec()}}let jt=null,tc=null;function Hi(e){const t=jt;return jt=e,tc=e&&e.type.__scopeId||null,t}function je(e,t=jt,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&xu(-1);const a=Hi(t);let c;try{c=e(...s)}finally{Hi(a),o._d&&xu(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function Cn(e,t){if(jt===null)return e;const n=as(jt),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,d=bt]=t[s];a&&(We(a)&&(a={mounted:a,updated:a}),a.deep&&tr(c),o.push({dir:a,instance:n,value:c,oldValue:void 0,arg:l,modifiers:d}))}return e}function kr(e,t,n,o){const s=e.dirs,a=t&&t.dirs;for(let c=0;c<s.length;c++){const l=s[c];a&&(l.oldValue=a[c].value);let d=l.dir[o];d&&(Cr(),Pn(d,n,8,[e.el,l,e,t]),xr())}}const Id=Symbol("_vte"),nc=e=>e.__isTeleport,mr=Symbol("_leaveCb"),Di=Symbol("_enterCb");function Td(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jr(()=>{e.isMounted=!0}),$a(()=>{e.isUnmounting=!0}),e}const gn=[Function,Array],rc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gn,onEnter:gn,onAfterEnter:gn,onEnterCancelled:gn,onBeforeLeave:gn,onLeave:gn,onAfterLeave:gn,onLeaveCancelled:gn,onBeforeAppear:gn,onAppear:gn,onAfterAppear:gn,onAppearCancelled:gn},oc=e=>{const t=e.subTree;return t.component?oc(t.component):t},Ad={name:"BaseTransition",props:rc,setup(e,{slots:t}){const n=Ch(),o=Td();return()=>{const s=t.default&&ac(t.default(),!0);if(!s||!s.length)return;const a=ic(s),c=ht(e),{mode:l}=c;if(o.isLeaving)return Ks(a);const d=pu(a);if(!d)return Ks(a);let v=ia(d,c,o,n,m=>v=m);d.type!==ln&&Uo(d,v);let p=n.subTree&&pu(n.subTree);if(p&&p.type!==ln&&!$r(d,p)&&oc(n).type!==ln){let m=ia(p,c,o,n);if(Uo(p,m),l==="out-in"&&d.type!==ln)return o.isLeaving=!0,m.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,p=void 0},Ks(a);l==="in-out"&&d.type!==ln?m.delayLeave=(_,C,H)=>{const ne=sc(o,p);ne[String(p.key)]=p,_[mr]=()=>{C(),_[mr]=void 0,delete v.delayedLeave,p=void 0},v.delayedLeave=()=>{H(),delete v.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return a}}};function ic(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ln){t=n;break}}return t}const Pd=Ad;function sc(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ia(e,t,n,o,s){const{appear:a,mode:c,persisted:l=!1,onBeforeEnter:d,onEnter:v,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:_,onLeave:C,onAfterLeave:H,onLeaveCancelled:ne,onBeforeAppear:Ae,onAppear:W,onAfterAppear:Q,onAppearCancelled:ce}=t,re=String(e.key),j=sc(n,e),_e=(J,we)=>{J&&Pn(J,o,9,we)},se=(J,we)=>{const Ie=we[1];_e(J,we),Ke(J)?J.every(ae=>ae.length<=1)&&Ie():J.length<=1&&Ie()},he={mode:c,persisted:l,beforeEnter(J){let we=d;if(!n.isMounted)if(a)we=Ae||d;else return;J[mr]&&J[mr](!0);const Ie=j[re];Ie&&$r(e,Ie)&&Ie.el[mr]&&Ie.el[mr](),_e(we,[J])},enter(J){let we=v,Ie=p,ae=m;if(!n.isMounted)if(a)we=W||v,Ie=Q||p,ae=ce||m;else return;let Ne=!1;const nt=J[Di]=_t=>{Ne||(Ne=!0,_t?_e(ae,[J]):_e(Ie,[J]),he.delayedLeave&&he.delayedLeave(),J[Di]=void 0)};we?se(we,[J,nt]):nt()},leave(J,we){const Ie=String(e.key);if(J[Di]&&J[Di](!0),n.isUnmounting)return we();_e(_,[J]);let ae=!1;const Ne=J[mr]=nt=>{ae||(ae=!0,we(),nt?_e(ne,[J]):_e(H,[J]),J[mr]=void 0,j[Ie]===e&&delete j[Ie])};j[Ie]=e,C?se(C,[J,Ne]):Ne()},clone(J){const we=ia(J,t,n,o,s);return s&&s(we),we}};return he}function Ks(e){if(ns(e))return e=Sr(e),e.children=null,e}function pu(e){if(!ns(e))return nc(e.type)&&e.children?ic(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&We(n.default))return n.default()}}function Uo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Uo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ac(e,t=!1,n){let o=[],s=0;for(let a=0;a<e.length;a++){let c=e[a];const l=n==null?c.key:String(n)+String(c.key!=null?c.key:a);c.type===tt?(c.patchFlag&128&&s++,o=o.concat(ac(c.children,t,l))):(t||c.type!==ln)&&o.push(l!=null?Sr(c,{key:l}):c)}if(s>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function dt(e,t){return We(e)?Wt({name:e.name},t,{setup:e}):e}function uc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Wi(e,t,n,o,s=!1){if(Ke(e)){e.forEach((H,ne)=>Wi(H,t&&(Ke(t)?t[ne]:t),n,o,s));return}if(io(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Wi(e,t,n,o.component.subTree);return}const a=o.shapeFlag&4?as(o.component):o.el,c=s?null:a,{i:l,r:d}=e,v=t&&t.r,p=l.refs===bt?l.refs={}:l.refs,m=l.setupState,_=ht(m),C=m===bt?()=>!1:H=>yt(_,H);if(v!=null&&v!==d&&(kt(v)?(p[v]=null,C(v)&&(m[v]=null)):$t(v)&&(v.value=null)),We(d))ti(d,l,12,[c,p]);else{const H=kt(d),ne=$t(d);if(H||ne){const Ae=()=>{if(e.f){const W=H?C(d)?m[d]:p[d]:d.value;s?Ke(W)&&Sa(W,a):Ke(W)?W.includes(a)||W.push(a):H?(p[d]=[a],C(d)&&(m[d]=p[d])):(d.value=[a],e.k&&(p[e.k]=d.value))}else H?(p[d]=c,C(d)&&(m[d]=c)):ne&&(d.value=c,e.k&&(p[e.k]=c))};c?(Ae.id=-1,hn(Ae,n)):Ae()}}}Xi().requestIdleCallback;Xi().cancelIdleCallback;const io=e=>!!e.type.__asyncLoader,ns=e=>e.type.__isKeepAlive;function kd(e,t){lc(e,"a",t)}function Rd(e,t){lc(e,"da",t)}function lc(e,t,n=Vt){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(rs(t,o,n),n){let s=n.parent;for(;s&&s.parent;)ns(s.parent.vnode)&&Od(o,t,n,s),s=s.parent}}function Od(e,t,n,o){const s=rs(t,e,o,!0);cc(()=>{Sa(o[t],s)},n)}function rs(e,t,n=Vt,o=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{Cr();const l=ni(n),d=Pn(t,n,e,c);return l(),xr(),d});return o?s.unshift(a):s.push(a),a}}const rr=e=>(t,n=Vt)=>{(!Ho||e==="sp")&&rs(e,(...o)=>t(...o),n)},Dd=rr("bm"),jr=rr("m"),Nd=rr("bu"),$d=rr("u"),$a=rr("bum"),cc=rr("um"),Bd=rr("sp"),Md=rr("rtg"),Ld=rr("rtc");function Fd(e,t=Vt){rs("ec",e,t)}const fc="components";function os(e,t){return hc(fc,e,!0,t)||e}const dc=Symbol.for("v-ndc");function jd(e){return kt(e)?hc(fc,e,!1)||e:e||dc}function hc(e,t,n=!0,o=!1){const s=jt||Vt;if(s){const a=s.type;{const l=Ah(a,!1);if(l&&(l===t||l===bn(t)||l===Ji(bn(t))))return a}const c=mu(s[e]||a[e],t)||mu(s.appContext[e],t);return!c&&o?a:c}}function mu(e,t){return e&&(e[t]||e[bn(t)]||e[Ji(bn(t))])}function an(e,t,n,o){let s;const a=n,c=Ke(e);if(c||kt(e)){const l=c&&br(e);let d=!1;l&&(d=!_n(e),e=Zi(e)),s=new Array(e.length);for(let v=0,p=e.length;v<p;v++)s[v]=t(d?Zt(e[v]):e[v],v,void 0,a)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,a)}else if(wt(e))if(e[Symbol.iterator])s=Array.from(e,(l,d)=>t(l,d,void 0,a));else{const l=Object.keys(e);s=new Array(l.length);for(let d=0,v=l.length;d<v;d++){const p=l[d];s[d]=t(e[p],p,d,a)}}else s=[];return s}function Kd(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(Ke(o))for(let s=0;s<o.length;s++)e[o[s].name]=o[s].fn;else o&&(e[o.name]=o.key?(...s)=>{const a=o.fn(...s);return a&&(a.key=o.key),a}:o.fn)}return e}function Lt(e,t,n={},o,s){if(jt.ce||jt.parent&&io(jt.parent)&&jt.parent.ce)return t!=="default"&&(n.name=t),z(),mt(tt,null,[ke("slot",n,o)],64);let a=e[t];a&&a._c&&(a._d=!1),z();const c=a&&pc(a(n)),l=n.key||c&&c.key,d=mt(tt,{key:(l&&!An(l)?l:`_${t}`)+""},c||[],c&&e._===1?64:-2);return!s&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),a&&a._c&&(a._d=!0),d}function pc(e){return e.some(t=>Vo(t)?!(t.type===ln||t.type===tt&&!pc(t.children)):!0)?e:null}const sa=e=>e?Bc(e)?as(e):sa(e.parent):null,No=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sa(e.parent),$root:e=>sa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vc(e),$forceUpdate:e=>e.f||(e.f=()=>{Na(e.update)}),$nextTick:e=>e.n||(e.n=ts.bind(e.proxy)),$watch:e=>lh.bind(e)}),Us=(e,t)=>e!==bt&&!e.__isScriptSetup&&yt(e,t),Ud={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:a,accessCache:c,type:l,appContext:d}=e;let v;if(t[0]!=="$"){const C=c[t];if(C!==void 0)switch(C){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(Us(o,t))return c[t]=1,o[t];if(s!==bt&&yt(s,t))return c[t]=2,s[t];if((v=e.propsOptions[0])&&yt(v,t))return c[t]=3,a[t];if(n!==bt&&yt(n,t))return c[t]=4,n[t];aa&&(c[t]=0)}}const p=No[t];let m,_;if(p)return t==="$attrs"&&Xt(e.attrs,"get",""),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==bt&&yt(n,t))return c[t]=4,n[t];if(_=d.config.globalProperties,yt(_,t))return _[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:a}=e;return Us(s,t)?(s[t]=n,!0):o!==bt&&yt(o,t)?(o[t]=n,!0):yt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:a}},c){let l;return!!n[c]||e!==bt&&yt(e,c)||Us(t,c)||(l=a[0])&&yt(l,c)||yt(o,c)||yt(No,c)||yt(s.config.globalProperties,c)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:yt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function vu(e){return Ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let aa=!0;function qd(e){const t=vc(e),n=e.proxy,o=e.ctx;aa=!1,t.beforeCreate&&yu(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:c,watch:l,provide:d,inject:v,created:p,beforeMount:m,mounted:_,beforeUpdate:C,updated:H,activated:ne,deactivated:Ae,beforeDestroy:W,beforeUnmount:Q,destroyed:ce,unmounted:re,render:j,renderTracked:_e,renderTriggered:se,errorCaptured:he,serverPrefetch:J,expose:we,inheritAttrs:Ie,components:ae,directives:Ne,filters:nt}=t;if(v&&Vd(v,o,null),c)for(const Ve in c){const Xe=c[Ve];We(Xe)&&(o[Ve]=Xe.bind(n))}if(s){const Ve=s.call(n,n);wt(Ve)&&(e.data=ei(Ve))}if(aa=!0,a)for(const Ve in a){const Xe=a[Ve],Kt=We(Xe)?Xe.bind(n,n):We(Xe.get)?Xe.get.bind(n,n):Hn,Bt=!We(Xe)&&We(Xe.set)?Xe.set.bind(n):Hn,Et=Qe({get:Kt,set:Bt});Object.defineProperty(o,Ve,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Ft=>Et.value=Ft})}if(l)for(const Ve in l)mc(l[Ve],o,n,Ve);if(d){const Ve=We(d)?d.call(n):d;Reflect.ownKeys(Ve).forEach(Xe=>{Bi(Xe,Ve[Xe])})}p&&yu(p,e,"c");function it(Ve,Xe){Ke(Xe)?Xe.forEach(Kt=>Ve(Kt.bind(n))):Xe&&Ve(Xe.bind(n))}if(it(Dd,m),it(jr,_),it(Nd,C),it($d,H),it(kd,ne),it(Rd,Ae),it(Fd,he),it(Ld,_e),it(Md,se),it($a,Q),it(cc,re),it(Bd,J),Ke(we))if(we.length){const Ve=e.exposed||(e.exposed={});we.forEach(Xe=>{Object.defineProperty(Ve,Xe,{get:()=>n[Xe],set:Kt=>n[Xe]=Kt})})}else e.exposed||(e.exposed={});j&&e.render===Hn&&(e.render=j),Ie!=null&&(e.inheritAttrs=Ie),ae&&(e.components=ae),Ne&&(e.directives=Ne),J&&uc(e)}function Vd(e,t,n=Hn){Ke(e)&&(e=ua(e));for(const o in e){const s=e[o];let a;wt(s)?"default"in s?a=En(s.from||o,s.default,!0):a=En(s.from||o):a=En(s),$t(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[o]=a}}function yu(e,t,n){Pn(Ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function mc(e,t,n,o){let s=o.includes(".")?kc(n,o):()=>n[o];if(kt(e)){const a=t[e];We(a)&&Wn(s,a)}else if(We(e))Wn(s,e.bind(n));else if(wt(e))if(Ke(e))e.forEach(a=>mc(a,t,n,o));else{const a=We(e.handler)?e.handler.bind(n):t[e.handler];We(a)&&Wn(s,a,e)}}function vc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,l=a.get(t);let d;return l?d=l:!s.length&&!n&&!o?d=t:(d={},s.length&&s.forEach(v=>zi(d,v,c,!0)),zi(d,t,c)),wt(t)&&a.set(t,d),d}function zi(e,t,n,o=!1){const{mixins:s,extends:a}=t;a&&zi(e,a,n,!0),s&&s.forEach(c=>zi(e,c,n,!0));for(const c in t)if(!(o&&c==="expose")){const l=Hd[c]||n&&n[c];e[c]=l?l(e[c],t[c]):t[c]}return e}const Hd={data:gu,props:_u,emits:_u,methods:Po,computed:Po,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:Po,directives:Po,watch:zd,provide:gu,inject:Wd};function gu(e,t){return t?e?function(){return Wt(We(e)?e.call(this,this):e,We(t)?t.call(this,this):t)}:t:e}function Wd(e,t){return Po(ua(e),ua(t))}function ua(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function on(e,t){return e?[...new Set([].concat(e,t))]:t}function Po(e,t){return e?Wt(Object.create(null),e,t):t}function _u(e,t){return e?Ke(e)&&Ke(t)?[...new Set([...e,...t])]:Wt(Object.create(null),vu(e),vu(t??{})):t}function zd(e,t){if(!e)return t;if(!t)return e;const n=Wt(Object.create(null),e);for(const o in t)n[o]=on(e[o],t[o]);return n}function yc(){return{app:null,config:{isNativeTag:Nf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yd=0;function Gd(e,t){return function(o,s=null){We(o)||(o=Wt({},o)),s!=null&&!wt(s)&&(s=null);const a=yc(),c=new WeakSet,l=[];let d=!1;const v=a.app={_uid:Yd++,_component:o,_props:s,_container:null,_context:a,_instance:null,version:kh,get config(){return a.config},set config(p){},use(p,...m){return c.has(p)||(p&&We(p.install)?(c.add(p),p.install(v,...m)):We(p)&&(c.add(p),p(v,...m))),v},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),v},component(p,m){return m?(a.components[p]=m,v):a.components[p]},directive(p,m){return m?(a.directives[p]=m,v):a.directives[p]},mount(p,m,_){if(!d){const C=v._ceVNode||ke(o,s);return C.appContext=a,_===!0?_="svg":_===!1&&(_=void 0),e(C,p,_),d=!0,v._container=p,p.__vue_app__=v,as(C.component)}},onUnmount(p){l.push(p)},unmount(){d&&(Pn(l,v._instance,16),e(null,v._container),delete v._container.__vue_app__)},provide(p,m){return a.provides[p]=m,v},runWithContext(p){const m=Mr;Mr=v;try{return p()}finally{Mr=m}}};return v}}let Mr=null;function Bi(e,t){if(Vt){let n=Vt.provides;const o=Vt.parent&&Vt.parent.provides;o===n&&(n=Vt.provides=Object.create(o)),n[e]=t}}function En(e,t,n=!1){const o=Vt||jt;if(o||Mr){const s=Mr?Mr._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&We(t)?t.call(o&&o.proxy):t}}function Qd(){return!!(Vt||jt||Mr)}const gc={},_c=()=>Object.create(gc),bc=e=>Object.getPrototypeOf(e)===gc;function Jd(e,t,n,o=!1){const s={},a=_c();e.propsDefaults=Object.create(null),wc(e,t,s,a);for(const c in e.propsOptions[0])c in s||(s[c]=void 0);n?e.props=o?s:zl(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function Xd(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:c}}=e,l=ht(s),[d]=e.propsOptions;let v=!1;if((o||c>0)&&!(c&16)){if(c&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let _=p[m];if(is(e.emitsOptions,_))continue;const C=t[_];if(d)if(yt(a,_))C!==a[_]&&(a[_]=C,v=!0);else{const H=bn(_);s[H]=la(d,l,H,C,e,!1)}else C!==a[_]&&(a[_]=C,v=!0)}}}else{wc(e,t,s,a)&&(v=!0);let p;for(const m in l)(!t||!yt(t,m)&&((p=Fr(m))===m||!yt(t,p)))&&(d?n&&(n[m]!==void 0||n[p]!==void 0)&&(s[m]=la(d,l,m,void 0,e,!0)):delete s[m]);if(a!==l)for(const m in a)(!t||!yt(t,m))&&(delete a[m],v=!0)}v&&er(e.attrs,"set","")}function wc(e,t,n,o){const[s,a]=e.propsOptions;let c=!1,l;if(t)for(let d in t){if(Ro(d))continue;const v=t[d];let p;s&&yt(s,p=bn(d))?!a||!a.includes(p)?n[p]=v:(l||(l={}))[p]=v:is(e.emitsOptions,d)||(!(d in o)||v!==o[d])&&(o[d]=v,c=!0)}if(a){const d=ht(n),v=l||bt;for(let p=0;p<a.length;p++){const m=a[p];n[m]=la(s,d,m,v[m],e,!yt(v,m))}}return c}function la(e,t,n,o,s,a){const c=e[n];if(c!=null){const l=yt(c,"default");if(l&&o===void 0){const d=c.default;if(c.type!==Function&&!c.skipFactory&&We(d)){const{propsDefaults:v}=s;if(n in v)o=v[n];else{const p=ni(s);o=v[n]=d.call(null,t),p()}}else o=d;s.ce&&s.ce._setProp(n,o)}c[0]&&(a&&!l?o=!1:c[1]&&(o===""||o===Fr(n))&&(o=!0))}return o}const Zd=new WeakMap;function Sc(e,t,n=!1){const o=n?Zd:t.propsCache,s=o.get(e);if(s)return s;const a=e.props,c={},l=[];let d=!1;if(!We(e)){const p=m=>{d=!0;const[_,C]=Sc(m,t,!0);Wt(c,_),C&&l.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!a&&!d)return wt(e)&&o.set(e,no),no;if(Ke(a))for(let p=0;p<a.length;p++){const m=bn(a[p]);bu(m)&&(c[m]=bt)}else if(a)for(const p in a){const m=bn(p);if(bu(m)){const _=a[p],C=c[m]=Ke(_)||We(_)?{type:_}:Wt({},_),H=C.type;let ne=!1,Ae=!0;if(Ke(H))for(let W=0;W<H.length;++W){const Q=H[W],ce=We(Q)&&Q.name;if(ce==="Boolean"){ne=!0;break}else ce==="String"&&(Ae=!1)}else ne=We(H)&&H.name==="Boolean";C[0]=ne,C[1]=Ae,(ne||yt(C,"default"))&&l.push(m)}}const v=[c,l];return wt(e)&&o.set(e,v),v}function bu(e){return e[0]!=="$"&&!Ro(e)}const Cc=e=>e[0]==="_"||e==="$stable",Ba=e=>Ke(e)?e.map(Vn):[Vn(e)],eh=(e,t,n)=>{if(t._n)return t;const o=je((...s)=>Ba(t(...s)),n);return o._c=!1,o},xc=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Cc(s))continue;const a=e[s];if(We(a))t[s]=eh(s,a,o);else if(a!=null){const c=Ba(a);t[s]=()=>c}}},Ec=(e,t)=>{const n=Ba(t);e.slots.default=()=>n},Ic=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},th=(e,t,n)=>{const o=e.slots=_c();if(e.vnode.shapeFlag&32){const s=t._;s?(Ic(o,t,n),n&&Il(o,"_",s,!0)):xc(t,o)}else t&&Ec(e,t)},nh=(e,t,n)=>{const{vnode:o,slots:s}=e;let a=!0,c=bt;if(o.shapeFlag&32){const l=t._;l?n&&l===1?a=!1:Ic(s,t,n):(a=!t.$stable,xc(t,s)),c=t}else t&&(Ec(e,t),c={default:1});if(a)for(const l in s)!Cc(l)&&c[l]==null&&delete s[l]},hn=vh;function rh(e){return oh(e)}function oh(e,t){const n=Xi();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:c,createText:l,createComment:d,setText:v,setElementText:p,parentNode:m,nextSibling:_,setScopeId:C=Hn,insertStaticContent:H}=e,ne=(S,E,K,Y=null,oe=null,te=null,Ee=void 0,be=null,ve=!!E.dynamicChildren)=>{if(S===E)return;S&&!$r(S,E)&&(Y=ee(S),Ft(S,oe,te,!0),S=null),E.patchFlag===-2&&(ve=!1,E.dynamicChildren=null);const{type:ie,ref:Fe,shapeFlag:Te}=E;switch(ie){case ss:Ae(S,E,K,Y);break;case ln:W(S,E,K,Y);break;case Vs:S==null&&Q(E,K,Y,Ee);break;case tt:ae(S,E,K,Y,oe,te,Ee,be,ve);break;default:Te&1?j(S,E,K,Y,oe,te,Ee,be,ve):Te&6?Ne(S,E,K,Y,oe,te,Ee,be,ve):(Te&64||Te&128)&&ie.process(S,E,K,Y,oe,te,Ee,be,ve,Be)}Fe!=null&&oe&&Wi(Fe,S&&S.ref,te,E||S,!E)},Ae=(S,E,K,Y)=>{if(S==null)o(E.el=l(E.children),K,Y);else{const oe=E.el=S.el;E.children!==S.children&&v(oe,E.children)}},W=(S,E,K,Y)=>{S==null?o(E.el=d(E.children||""),K,Y):E.el=S.el},Q=(S,E,K,Y)=>{[S.el,S.anchor]=H(S.children,E,K,Y,S.el,S.anchor)},ce=({el:S,anchor:E},K,Y)=>{let oe;for(;S&&S!==E;)oe=_(S),o(S,K,Y),S=oe;o(E,K,Y)},re=({el:S,anchor:E})=>{let K;for(;S&&S!==E;)K=_(S),s(S),S=K;s(E)},j=(S,E,K,Y,oe,te,Ee,be,ve)=>{E.type==="svg"?Ee="svg":E.type==="math"&&(Ee="mathml"),S==null?_e(E,K,Y,oe,te,Ee,be,ve):J(S,E,oe,te,Ee,be,ve)},_e=(S,E,K,Y,oe,te,Ee,be)=>{let ve,ie;const{props:Fe,shapeFlag:Te,transition:Me,dirs:Ue}=S;if(ve=S.el=c(S.type,te,Fe&&Fe.is,Fe),Te&8?p(ve,S.children):Te&16&&he(S.children,ve,null,Y,oe,qs(S,te),Ee,be),Ue&&kr(S,null,Y,"created"),se(ve,S,S.scopeId,Ee,Y),Fe){for(const st in Fe)st!=="value"&&!Ro(st)&&a(ve,st,null,Fe[st],te,Y);"value"in Fe&&a(ve,"value",null,Fe.value,te),(ie=Fe.onVnodeBeforeMount)&&Un(ie,Y,S)}Ue&&kr(S,null,Y,"beforeMount");const He=ih(oe,Me);He&&Me.beforeEnter(ve),o(ve,E,K),((ie=Fe&&Fe.onVnodeMounted)||He||Ue)&&hn(()=>{ie&&Un(ie,Y,S),He&&Me.enter(ve),Ue&&kr(S,null,Y,"mounted")},oe)},se=(S,E,K,Y,oe)=>{if(K&&C(S,K),Y)for(let te=0;te<Y.length;te++)C(S,Y[te]);if(oe){let te=oe.subTree;if(E===te||Oc(te.type)&&(te.ssContent===E||te.ssFallback===E)){const Ee=oe.vnode;se(S,Ee,Ee.scopeId,Ee.slotScopeIds,oe.parent)}}},he=(S,E,K,Y,oe,te,Ee,be,ve=0)=>{for(let ie=ve;ie<S.length;ie++){const Fe=S[ie]=be?vr(S[ie]):Vn(S[ie]);ne(null,Fe,E,K,Y,oe,te,Ee,be)}},J=(S,E,K,Y,oe,te,Ee)=>{const be=E.el=S.el;let{patchFlag:ve,dynamicChildren:ie,dirs:Fe}=E;ve|=S.patchFlag&16;const Te=S.props||bt,Me=E.props||bt;let Ue;if(K&&Rr(K,!1),(Ue=Me.onVnodeBeforeUpdate)&&Un(Ue,K,E,S),Fe&&kr(E,S,K,"beforeUpdate"),K&&Rr(K,!0),(Te.innerHTML&&Me.innerHTML==null||Te.textContent&&Me.textContent==null)&&p(be,""),ie?we(S.dynamicChildren,ie,be,K,Y,qs(E,oe),te):Ee||Xe(S,E,be,null,K,Y,qs(E,oe),te,!1),ve>0){if(ve&16)Ie(be,Te,Me,K,oe);else if(ve&2&&Te.class!==Me.class&&a(be,"class",null,Me.class,oe),ve&4&&a(be,"style",Te.style,Me.style,oe),ve&8){const He=E.dynamicProps;for(let st=0;st<He.length;st++){const lt=He[st],At=Te[lt],Ot=Me[lt];(Ot!==At||lt==="value")&&a(be,lt,At,Ot,oe,K)}}ve&1&&S.children!==E.children&&p(be,E.children)}else!Ee&&ie==null&&Ie(be,Te,Me,K,oe);((Ue=Me.onVnodeUpdated)||Fe)&&hn(()=>{Ue&&Un(Ue,K,E,S),Fe&&kr(E,S,K,"updated")},Y)},we=(S,E,K,Y,oe,te,Ee)=>{for(let be=0;be<E.length;be++){const ve=S[be],ie=E[be],Fe=ve.el&&(ve.type===tt||!$r(ve,ie)||ve.shapeFlag&70)?m(ve.el):K;ne(ve,ie,Fe,null,Y,oe,te,Ee,!0)}},Ie=(S,E,K,Y,oe)=>{if(E!==K){if(E!==bt)for(const te in E)!Ro(te)&&!(te in K)&&a(S,te,E[te],null,oe,Y);for(const te in K){if(Ro(te))continue;const Ee=K[te],be=E[te];Ee!==be&&te!=="value"&&a(S,te,be,Ee,oe,Y)}"value"in K&&a(S,"value",E.value,K.value,oe)}},ae=(S,E,K,Y,oe,te,Ee,be,ve)=>{const ie=E.el=S?S.el:l(""),Fe=E.anchor=S?S.anchor:l("");let{patchFlag:Te,dynamicChildren:Me,slotScopeIds:Ue}=E;Ue&&(be=be?be.concat(Ue):Ue),S==null?(o(ie,K,Y),o(Fe,K,Y),he(E.children||[],K,Fe,oe,te,Ee,be,ve)):Te>0&&Te&64&&Me&&S.dynamicChildren?(we(S.dynamicChildren,Me,K,oe,te,Ee,be),(E.key!=null||oe&&E===oe.subTree)&&Tc(S,E,!0)):Xe(S,E,K,Fe,oe,te,Ee,be,ve)},Ne=(S,E,K,Y,oe,te,Ee,be,ve)=>{E.slotScopeIds=be,S==null?E.shapeFlag&512?oe.ctx.activate(E,K,Y,Ee,ve):nt(E,K,Y,oe,te,Ee,ve):_t(S,E,ve)},nt=(S,E,K,Y,oe,te,Ee)=>{const be=S.component=Sh(S,Y,oe);if(ns(S)&&(be.ctx.renderer=Be),xh(be,!1,Ee),be.asyncDep){if(oe&&oe.registerDep(be,it,Ee),!S.el){const ve=be.subTree=ke(ln);W(null,ve,E,K)}}else it(be,S,E,K,oe,te,Ee)},_t=(S,E,K)=>{const Y=E.component=S.component;if(ph(S,E,K))if(Y.asyncDep&&!Y.asyncResolved){Ve(Y,E,K);return}else Y.next=E,Y.update();else E.el=S.el,Y.vnode=E},it=(S,E,K,Y,oe,te,Ee)=>{const be=()=>{if(S.isMounted){let{next:Te,bu:Me,u:Ue,parent:He,vnode:st}=S;{const Dt=Ac(S);if(Dt){Te&&(Te.el=st.el,Ve(S,Te,Ee)),Dt.asyncDep.then(()=>{S.isUnmounted||be()});return}}let lt=Te,At;Rr(S,!1),Te?(Te.el=st.el,Ve(S,Te,Ee)):Te=st,Me&&$i(Me),(At=Te.props&&Te.props.onVnodeBeforeUpdate)&&Un(At,He,Te,st),Rr(S,!0);const Ot=Su(S),Ut=S.subTree;S.subTree=Ot,ne(Ut,Ot,m(Ut.el),ee(Ut),S,oe,te),Te.el=Ot.el,lt===null&&mh(S,Ot.el),Ue&&hn(Ue,oe),(At=Te.props&&Te.props.onVnodeUpdated)&&hn(()=>Un(At,He,Te,st),oe)}else{let Te;const{el:Me,props:Ue}=E,{bm:He,m:st,parent:lt,root:At,type:Ot}=S,Ut=io(E);Rr(S,!1),He&&$i(He),!Ut&&(Te=Ue&&Ue.onVnodeBeforeMount)&&Un(Te,lt,E),Rr(S,!0);{At.ce&&At.ce._injectChildStyle(Ot);const Dt=S.subTree=Su(S);ne(null,Dt,K,Y,S,oe,te),E.el=Dt.el}if(st&&hn(st,oe),!Ut&&(Te=Ue&&Ue.onVnodeMounted)){const Dt=E;hn(()=>Un(Te,lt,Dt),oe)}(E.shapeFlag&256||lt&&io(lt.vnode)&&lt.vnode.shapeFlag&256)&&S.a&&hn(S.a,oe),S.isMounted=!0,E=K=Y=null}};S.scope.on();const ve=S.effect=new Dl(be);S.scope.off();const ie=S.update=ve.run.bind(ve),Fe=S.job=ve.runIfDirty.bind(ve);Fe.i=S,Fe.id=S.uid,ve.scheduler=()=>Na(Fe),Rr(S,!0),ie()},Ve=(S,E,K)=>{E.component=S;const Y=S.vnode.props;S.vnode=E,S.next=null,Xd(S,E.props,Y,K),nh(S,E.children,K),Cr(),hu(S),xr()},Xe=(S,E,K,Y,oe,te,Ee,be,ve=!1)=>{const ie=S&&S.children,Fe=S?S.shapeFlag:0,Te=E.children,{patchFlag:Me,shapeFlag:Ue}=E;if(Me>0){if(Me&128){Bt(ie,Te,K,Y,oe,te,Ee,be,ve);return}else if(Me&256){Kt(ie,Te,K,Y,oe,te,Ee,be,ve);return}}Ue&8?(Fe&16&&Rt(ie,oe,te),Te!==ie&&p(K,Te)):Fe&16?Ue&16?Bt(ie,Te,K,Y,oe,te,Ee,be,ve):Rt(ie,oe,te,!0):(Fe&8&&p(K,""),Ue&16&&he(Te,K,Y,oe,te,Ee,be,ve))},Kt=(S,E,K,Y,oe,te,Ee,be,ve)=>{S=S||no,E=E||no;const ie=S.length,Fe=E.length,Te=Math.min(ie,Fe);let Me;for(Me=0;Me<Te;Me++){const Ue=E[Me]=ve?vr(E[Me]):Vn(E[Me]);ne(S[Me],Ue,K,null,oe,te,Ee,be,ve)}ie>Fe?Rt(S,oe,te,!0,!1,Te):he(E,K,Y,oe,te,Ee,be,ve,Te)},Bt=(S,E,K,Y,oe,te,Ee,be,ve)=>{let ie=0;const Fe=E.length;let Te=S.length-1,Me=Fe-1;for(;ie<=Te&&ie<=Me;){const Ue=S[ie],He=E[ie]=ve?vr(E[ie]):Vn(E[ie]);if($r(Ue,He))ne(Ue,He,K,null,oe,te,Ee,be,ve);else break;ie++}for(;ie<=Te&&ie<=Me;){const Ue=S[Te],He=E[Me]=ve?vr(E[Me]):Vn(E[Me]);if($r(Ue,He))ne(Ue,He,K,null,oe,te,Ee,be,ve);else break;Te--,Me--}if(ie>Te){if(ie<=Me){const Ue=Me+1,He=Ue<Fe?E[Ue].el:Y;for(;ie<=Me;)ne(null,E[ie]=ve?vr(E[ie]):Vn(E[ie]),K,He,oe,te,Ee,be,ve),ie++}}else if(ie>Me)for(;ie<=Te;)Ft(S[ie],oe,te,!0),ie++;else{const Ue=ie,He=ie,st=new Map;for(ie=He;ie<=Me;ie++){const It=E[ie]=ve?vr(E[ie]):Vn(E[ie]);It.key!=null&&st.set(It.key,ie)}let lt,At=0;const Ot=Me-He+1;let Ut=!1,Dt=0;const cn=new Array(Ot);for(ie=0;ie<Ot;ie++)cn[ie]=0;for(ie=Ue;ie<=Te;ie++){const It=S[ie];if(At>=Ot){Ft(It,oe,te,!0);continue}let Re;if(It.key!=null)Re=st.get(It.key);else for(lt=He;lt<=Me;lt++)if(cn[lt-He]===0&&$r(It,E[lt])){Re=lt;break}Re===void 0?Ft(It,oe,te,!0):(cn[Re-He]=ie+1,Re>=Dt?Dt=Re:Ut=!0,ne(It,E[Re],K,null,oe,te,Ee,be,ve),At++)}const On=Ut?sh(cn):no;for(lt=On.length-1,ie=Ot-1;ie>=0;ie--){const It=He+ie,Re=E[It],vn=It+1<Fe?E[It+1].el:Y;cn[ie]===0?ne(null,Re,K,vn,oe,te,Ee,be,ve):Ut&&(lt<0||ie!==On[lt]?Et(Re,K,vn,2):lt--)}}},Et=(S,E,K,Y,oe=null)=>{const{el:te,type:Ee,transition:be,children:ve,shapeFlag:ie}=S;if(ie&6){Et(S.component.subTree,E,K,Y);return}if(ie&128){S.suspense.move(E,K,Y);return}if(ie&64){Ee.move(S,E,K,Be);return}if(Ee===tt){o(te,E,K);for(let Te=0;Te<ve.length;Te++)Et(ve[Te],E,K,Y);o(S.anchor,E,K);return}if(Ee===Vs){ce(S,E,K);return}if(Y!==2&&ie&1&&be)if(Y===0)be.beforeEnter(te),o(te,E,K),hn(()=>be.enter(te),oe);else{const{leave:Te,delayLeave:Me,afterLeave:Ue}=be,He=()=>o(te,E,K),st=()=>{Te(te,()=>{He(),Ue&&Ue()})};Me?Me(te,He,st):st()}else o(te,E,K)},Ft=(S,E,K,Y=!1,oe=!1)=>{const{type:te,props:Ee,ref:be,children:ve,dynamicChildren:ie,shapeFlag:Fe,patchFlag:Te,dirs:Me,cacheIndex:Ue}=S;if(Te===-2&&(oe=!1),be!=null&&Wi(be,null,K,S,!0),Ue!=null&&(E.renderCache[Ue]=void 0),Fe&256){E.ctx.deactivate(S);return}const He=Fe&1&&Me,st=!io(S);let lt;if(st&&(lt=Ee&&Ee.onVnodeBeforeUnmount)&&Un(lt,E,S),Fe&6)Sn(S.component,K,Y);else{if(Fe&128){S.suspense.unmount(K,Y);return}He&&kr(S,null,E,"beforeUnmount"),Fe&64?S.type.remove(S,E,K,Be,Y):ie&&!ie.hasOnce&&(te!==tt||Te>0&&Te&64)?Rt(ie,E,K,!1,!0):(te===tt&&Te&384||!oe&&Fe&16)&&Rt(ve,E,K),Y&&en(S)}(st&&(lt=Ee&&Ee.onVnodeUnmounted)||He)&&hn(()=>{lt&&Un(lt,E,S),He&&kr(S,null,E,"unmounted")},K)},en=S=>{const{type:E,el:K,anchor:Y,transition:oe}=S;if(E===tt){wn(K,Y);return}if(E===Vs){re(S);return}const te=()=>{s(K),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(S.shapeFlag&1&&oe&&!oe.persisted){const{leave:Ee,delayLeave:be}=oe,ve=()=>Ee(K,te);be?be(S.el,te,ve):ve()}else te()},wn=(S,E)=>{let K;for(;S!==E;)K=_(S),s(S),S=K;s(E)},Sn=(S,E,K)=>{const{bum:Y,scope:oe,job:te,subTree:Ee,um:be,m:ve,a:ie}=S;wu(ve),wu(ie),Y&&$i(Y),oe.stop(),te&&(te.flags|=8,Ft(Ee,S,E,K)),be&&hn(be,E),hn(()=>{S.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Rt=(S,E,K,Y=!1,oe=!1,te=0)=>{for(let Ee=te;Ee<S.length;Ee++)Ft(S[Ee],E,K,Y,oe)},ee=S=>{if(S.shapeFlag&6)return ee(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const E=_(S.anchor||S.el),K=E&&E[Id];return K?_(K):E};let Oe=!1;const G=(S,E,K)=>{S==null?E._vnode&&Ft(E._vnode,null,null,!0):ne(E._vnode||null,S,E,null,null,null,K),E._vnode=S,Oe||(Oe=!0,hu(),Zl(),Oe=!1)},Be={p:ne,um:Ft,m:Et,r:en,mt:nt,mc:he,pc:Xe,pbc:we,n:ee,o:e};return{render:G,hydrate:void 0,createApp:Gd(G)}}function qs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Rr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ih(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Tc(e,t,n=!1){const o=e.children,s=t.children;if(Ke(o)&&Ke(s))for(let a=0;a<o.length;a++){const c=o[a];let l=s[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[a]=vr(s[a]),l.el=c.el),!n&&l.patchFlag!==-2&&Tc(c,l)),l.type===ss&&(l.el=c.el)}}function sh(e){const t=e.slice(),n=[0];let o,s,a,c,l;const d=e.length;for(o=0;o<d;o++){const v=e[o];if(v!==0){if(s=n[n.length-1],e[s]<v){t[o]=s,n.push(o);continue}for(a=0,c=n.length-1;a<c;)l=a+c>>1,e[n[l]]<v?a=l+1:c=l;v<e[n[a]]&&(a>0&&(t[o]=n[a-1]),n[a]=o)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function Ac(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ac(t)}function wu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ah=Symbol.for("v-scx"),uh=()=>En(ah);function Wn(e,t,n){return Pc(e,t,n)}function Pc(e,t,n=bt){const{immediate:o,deep:s,flush:a,once:c}=n,l=Wt({},n),d=t&&o||!t&&a!=="post";let v;if(Ho){if(a==="sync"){const C=uh();v=C.__watcherHandles||(C.__watcherHandles=[])}else if(!d){const C=()=>{};return C.stop=Hn,C.resume=Hn,C.pause=Hn,C}}const p=Vt;l.call=(C,H,ne)=>Pn(C,p,H,ne);let m=!1;a==="post"?l.scheduler=C=>{hn(C,p&&p.suspense)}:a!=="sync"&&(m=!0,l.scheduler=(C,H)=>{H?C():Na(C)}),l.augmentJob=C=>{t&&(C.flags|=4),m&&(C.flags|=2,p&&(C.id=p.uid,C.i=p))};const _=Sd(e,t,l);return Ho&&(v?v.push(_):d&&_()),_}function lh(e,t,n){const o=this.proxy,s=kt(e)?e.includes(".")?kc(o,e):()=>o[e]:e.bind(o,o);let a;We(t)?a=t:(a=t.handler,n=t);const c=ni(this),l=Pc(s,a.bind(o),n);return c(),l}function kc(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const ch=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bn(t)}Modifiers`]||e[`${Fr(t)}Modifiers`];function fh(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||bt;let s=n;const a=t.startsWith("update:"),c=a&&ch(o,t.slice(7));c&&(c.trim&&(s=n.map(p=>kt(p)?p.trim():p)),c.number&&(s=n.map(Ki)));let l,d=o[l=Bs(t)]||o[l=Bs(bn(t))];!d&&a&&(d=o[l=Bs(Fr(t))]),d&&Pn(d,e,6,s);const v=o[l+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Pn(v,e,6,s)}}function Rc(e,t,n=!1){const o=t.emitsCache,s=o.get(e);if(s!==void 0)return s;const a=e.emits;let c={},l=!1;if(!We(e)){const d=v=>{const p=Rc(v,t,!0);p&&(l=!0,Wt(c,p))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!a&&!l?(wt(e)&&o.set(e,null),null):(Ke(a)?a.forEach(d=>c[d]=null):Wt(c,a),wt(e)&&o.set(e,c),c)}function is(e,t){return!e||!Gi(t)?!1:(t=t.slice(2).replace(/Once$/,""),yt(e,t[0].toLowerCase()+t.slice(1))||yt(e,Fr(t))||yt(e,t))}function Su(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[a],slots:c,attrs:l,emit:d,render:v,renderCache:p,props:m,data:_,setupState:C,ctx:H,inheritAttrs:ne}=e,Ae=Hi(e);let W,Q;try{if(n.shapeFlag&4){const re=s||o,j=re;W=Vn(v.call(j,re,p,m,C,_,H)),Q=l}else{const re=t;W=Vn(re.length>1?re(m,{attrs:l,slots:c,emit:d}):re(m,null)),Q=t.props?l:dh(l)}}catch(re){$o.length=0,es(re,e,1),W=ke(ln)}let ce=W;if(Q&&ne!==!1){const re=Object.keys(Q),{shapeFlag:j}=ce;re.length&&j&7&&(a&&re.some(wa)&&(Q=hh(Q,a)),ce=Sr(ce,Q,!1,!0))}return n.dirs&&(ce=Sr(ce,null,!1,!0),ce.dirs=ce.dirs?ce.dirs.concat(n.dirs):n.dirs),n.transition&&Uo(ce,n.transition),W=ce,Hi(Ae),W}const dh=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gi(n))&&((t||(t={}))[n]=e[n]);return t},hh=(e,t)=>{const n={};for(const o in e)(!wa(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function ph(e,t,n){const{props:o,children:s,component:a}=e,{props:c,children:l,patchFlag:d}=t,v=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return o?Cu(o,c,v):!!c;if(d&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const _=p[m];if(c[_]!==o[_]&&!is(v,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:o===c?!1:o?c?Cu(o,c,v):!0:!!c;return!1}function Cu(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const a=o[s];if(t[a]!==e[a]&&!is(n,a))return!0}return!1}function mh({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Oc=e=>e.__isSuspense;function vh(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):Ed(e)}const tt=Symbol.for("v-fgt"),ss=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),Vs=Symbol.for("v-stc"),$o=[];let pn=null;function z(e=!1){$o.push(pn=e?null:[])}function yh(){$o.pop(),pn=$o[$o.length-1]||null}let qo=1;function xu(e,t=!1){qo+=e,e<0&&pn&&t&&(pn.hasOnce=!0)}function Dc(e){return e.dynamicChildren=qo>0?pn||no:null,yh(),qo>0&&pn&&pn.push(e),e}function le(e,t,n,o,s,a){return Dc(N(e,t,n,o,s,a,!0))}function mt(e,t,n,o,s){return Dc(ke(e,t,n,o,s,!0))}function Vo(e){return e?e.__v_isVNode===!0:!1}function $r(e,t){return e.type===t.type&&e.key===t.key}const Nc=({key:e})=>e??null,Mi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?kt(e)||$t(e)||We(e)?{i:jt,r:e,k:t,f:!!n}:e:null);function N(e,t=null,n=null,o=0,s=null,a=e===tt?0:1,c=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nc(t),ref:t&&Mi(t),scopeId:tc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:jt};return l?(Ma(d,n),a&128&&e.normalize(d)):n&&(d.shapeFlag|=kt(n)?8:16),qo>0&&!c&&pn&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&pn.push(d),d}const ke=gh;function gh(e,t=null,n=null,o=0,s=null,a=!1){if((!e||e===dc)&&(e=ln),Vo(e)){const l=Sr(e,t,!0);return n&&Ma(l,n),qo>0&&!a&&pn&&(l.shapeFlag&6?pn[pn.indexOf(e)]=l:pn.push(l)),l.patchFlag=-2,l}if(Ph(e)&&(e=e.__vccOpts),t){t=_h(t);let{class:l,style:d}=t;l&&!kt(l)&&(t.class=mn(l)),wt(d)&&(Oa(d)&&!Ke(d)&&(d=Wt({},d)),t.style=xa(d))}const c=kt(e)?1:Oc(e)?128:nc(e)?64:wt(e)?4:We(e)?2:0;return N(e,t,n,o,s,c,a,!0)}function _h(e){return e?Oa(e)||bc(e)?Wt({},e):e:null}function Sr(e,t,n=!1,o=!1){const{props:s,ref:a,patchFlag:c,children:l,transition:d}=e,v=t?$c(s||{},t):s,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&Nc(v),ref:t&&t.ref?n&&a?Ke(a)?a.concat(Mi(t)):[a,Mi(t)]:Mi(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sr(e.ssContent),ssFallback:e.ssFallback&&Sr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&Uo(p,d.clone(p)),p}function Ht(e=" ",t=0){return ke(ss,null,e,t)}function ut(e="",t=!1){return t?(z(),mt(ln,null,e)):ke(ln,null,e)}function Vn(e){return e==null||typeof e=="boolean"?ke(ln):Ke(e)?ke(tt,null,e.slice()):Vo(e)?vr(e):ke(ss,null,String(e))}function vr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Sr(e)}function Ma(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ke(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),Ma(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!bc(t)?t._ctx=jt:s===3&&jt&&(jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else We(t)?(t={default:t,_ctx:jt},n=32):(t=String(t),o&64?(n=16,t=[Ht(t)]):n=8);e.children=t,e.shapeFlag|=n}function $c(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=mn([t.class,o.class]));else if(s==="style")t.style=xa([t.style,o.style]);else if(Gi(s)){const a=t[s],c=o[s];c&&a!==c&&!(Ke(a)&&a.includes(c))&&(t[s]=a?[].concat(a,c):c)}else s!==""&&(t[s]=o[s])}return t}function Un(e,t,n,o=null){Pn(e,t,7,[n,o])}const bh=yc();let wh=0;function Sh(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||bh,a={uid:wh++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sc(o,s),emitsOptions:Rc(o,s),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:o.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=fh.bind(null,a),e.ce&&e.ce(a),a}let Vt=null;const Ch=()=>Vt||jt;let Yi,ca;{const e=Xi(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),a=>{s.length>1?s.forEach(c=>c(a)):s[0](a)}};Yi=t("__VUE_INSTANCE_SETTERS__",n=>Vt=n),ca=t("__VUE_SSR_SETTERS__",n=>Ho=n)}const ni=e=>{const t=Vt;return Yi(e),e.scope.on(),()=>{e.scope.off(),Yi(t)}},Eu=()=>{Vt&&Vt.scope.off(),Yi(null)};function Bc(e){return e.vnode.shapeFlag&4}let Ho=!1;function xh(e,t=!1,n=!1){t&&ca(t);const{props:o,children:s}=e.vnode,a=Bc(e);Jd(e,o,a,t),th(e,s,n);const c=a?Eh(e,t):void 0;return t&&ca(!1),c}function Eh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ud);const{setup:o}=n;if(o){Cr();const s=e.setupContext=o.length>1?Th(e):null,a=ni(e),c=ti(o,e,0,[e.props,s]),l=Cl(c);if(xr(),a(),(l||e.sp)&&!io(e)&&uc(e),l){if(c.then(Eu,Eu),t)return c.then(d=>{Iu(e,d)}).catch(d=>{es(d,e,0)});e.asyncDep=c}else Iu(e,c)}else Mc(e)}function Iu(e,t,n){We(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=Ql(t)),Mc(e)}function Mc(e,t,n){const o=e.type;e.render||(e.render=o.render||Hn);{const s=ni(e);Cr();try{qd(e)}finally{xr(),s()}}}const Ih={get(e,t){return Xt(e,"get",""),e[t]}};function Th(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ih),slots:e.slots,emit:e.emit,expose:t}}function as(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ql(Da(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in No)return No[n](e)},has(t,n){return n in t||n in No}})):e.proxy}function Ah(e,t=!0){return We(e)?e.displayName||e.name:e.name||t&&e.__name}function Ph(e){return We(e)&&"__vccOpts"in e}const Qe=(e,t)=>bd(e,t,Ho);function La(e,t,n){const o=arguments.length;return o===2?wt(t)&&!Ke(t)?Vo(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Vo(n)&&(n=[n]),ke(e,t,n))}const kh="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fa;const Tu=typeof window<"u"&&window.trustedTypes;if(Tu)try{fa=Tu.createPolicy("vue",{createHTML:e=>e})}catch{}const Lc=fa?e=>fa.createHTML(e):e=>e,Rh="http://www.w3.org/2000/svg",Oh="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,Au=Zn&&Zn.createElement("template"),Dh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?Zn.createElementNS(Rh,e):t==="mathml"?Zn.createElementNS(Oh,e):n?Zn.createElement(e,{is:n}):Zn.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>Zn.createTextNode(e),createComment:e=>Zn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,a){const c=n?n.previousSibling:t.lastChild;if(s&&(s===a||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{Au.innerHTML=Lc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Au.content;if(o==="svg"||o==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fr="transition",To="animation",Wo=Symbol("_vtc"),Fc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Nh=Wt({},rc,Fc),$h=e=>(e.displayName="Transition",e.props=Nh,e),jc=$h((e,{slots:t})=>La(Pd,Bh(e),t)),Or=(e,t=[])=>{Ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},Pu=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function Bh(e){const t={};for(const ae in e)ae in Fc||(t[ae]=e[ae]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:d=a,appearActiveClass:v=c,appearToClass:p=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=e,H=Mh(s),ne=H&&H[0],Ae=H&&H[1],{onBeforeEnter:W,onEnter:Q,onEnterCancelled:ce,onLeave:re,onLeaveCancelled:j,onBeforeAppear:_e=W,onAppear:se=Q,onAppearCancelled:he=ce}=t,J=(ae,Ne,nt,_t)=>{ae._enterCancelled=_t,Dr(ae,Ne?p:l),Dr(ae,Ne?v:c),nt&&nt()},we=(ae,Ne)=>{ae._isLeaving=!1,Dr(ae,m),Dr(ae,C),Dr(ae,_),Ne&&Ne()},Ie=ae=>(Ne,nt)=>{const _t=ae?se:Q,it=()=>J(Ne,ae,nt);Or(_t,[Ne,it]),ku(()=>{Dr(Ne,ae?d:a),Jn(Ne,ae?p:l),Pu(_t)||Ru(Ne,o,ne,it)})};return Wt(t,{onBeforeEnter(ae){Or(W,[ae]),Jn(ae,a),Jn(ae,c)},onBeforeAppear(ae){Or(_e,[ae]),Jn(ae,d),Jn(ae,v)},onEnter:Ie(!1),onAppear:Ie(!0),onLeave(ae,Ne){ae._isLeaving=!0;const nt=()=>we(ae,Ne);Jn(ae,m),ae._enterCancelled?(Jn(ae,_),Nu()):(Nu(),Jn(ae,_)),ku(()=>{ae._isLeaving&&(Dr(ae,m),Jn(ae,C),Pu(re)||Ru(ae,o,Ae,nt))}),Or(re,[ae,nt])},onEnterCancelled(ae){J(ae,!1,void 0,!0),Or(ce,[ae])},onAppearCancelled(ae){J(ae,!0,void 0,!0),Or(he,[ae])},onLeaveCancelled(ae){we(ae),Or(j,[ae])}})}function Mh(e){if(e==null)return null;if(wt(e))return[Hs(e.enter),Hs(e.leave)];{const t=Hs(e);return[t,t]}}function Hs(e){return Ff(e)}function Jn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Wo]||(e[Wo]=new Set)).add(t)}function Dr(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Wo];n&&(n.delete(t),n.size||(e[Wo]=void 0))}function ku(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Lh=0;function Ru(e,t,n,o){const s=e._endId=++Lh,a=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(a,n);const{type:c,timeout:l,propCount:d}=Fh(e,t);if(!c)return o();const v=c+"end";let p=0;const m=()=>{e.removeEventListener(v,_),a()},_=C=>{C.target===e&&++p>=d&&m()};setTimeout(()=>{p<d&&m()},l+1),e.addEventListener(v,_)}function Fh(e,t){const n=window.getComputedStyle(e),o=H=>(n[H]||"").split(", "),s=o(`${fr}Delay`),a=o(`${fr}Duration`),c=Ou(s,a),l=o(`${To}Delay`),d=o(`${To}Duration`),v=Ou(l,d);let p=null,m=0,_=0;t===fr?c>0&&(p=fr,m=c,_=a.length):t===To?v>0&&(p=To,m=v,_=d.length):(m=Math.max(c,v),p=m>0?c>v?fr:To:null,_=p?p===fr?a.length:d.length:0);const C=p===fr&&/\b(transform|all)(,|$)/.test(o(`${fr}Property`).toString());return{type:p,timeout:m,propCount:_,hasTransform:C}}function Ou(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Du(n)+Du(e[o])))}function Du(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Nu(){return document.body.offsetHeight}function jh(e,t,n){const o=e[Wo];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const $u=Symbol("_vod"),Kh=Symbol("_vsh"),Uh=Symbol(""),qh=/(^|;)\s*display\s*:/;function Vh(e,t,n){const o=e.style,s=kt(n);let a=!1;if(n&&!s){if(t)if(kt(t))for(const c of t.split(";")){const l=c.slice(0,c.indexOf(":")).trim();n[l]==null&&Li(o,l,"")}else for(const c in t)n[c]==null&&Li(o,c,"");for(const c in n)c==="display"&&(a=!0),Li(o,c,n[c])}else if(s){if(t!==n){const c=o[Uh];c&&(n+=";"+c),o.cssText=n,a=qh.test(n)}}else t&&e.removeAttribute("style");$u in e&&(e[$u]=a?o.display:"",e[Kh]&&(o.display="none"))}const Bu=/\s*!important$/;function Li(e,t,n){if(Ke(n))n.forEach(o=>Li(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Hh(e,t);Bu.test(n)?e.setProperty(Fr(o),n.replace(Bu,""),"important"):e[o]=n}}const Mu=["Webkit","Moz","ms"],Ws={};function Hh(e,t){const n=Ws[t];if(n)return n;let o=bn(t);if(o!=="filter"&&o in e)return Ws[t]=o;o=Ji(o);for(let s=0;s<Mu.length;s++){const a=Mu[s]+o;if(a in e)return Ws[t]=a}return t}const Lu="http://www.w3.org/1999/xlink";function Fu(e,t,n,o,s,a=Hf(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Lu,t.slice(6,t.length)):e.setAttributeNS(Lu,t,n):n==null||a&&!Tl(n)?e.removeAttribute(t):e.setAttribute(t,a?"":An(n)?String(n):n)}function ju(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Lc(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(l!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Tl(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(s||t)}function gr(e,t,n,o){e.addEventListener(t,n,o)}function Wh(e,t,n,o){e.removeEventListener(t,n,o)}const Ku=Symbol("_vei");function zh(e,t,n,o,s=null){const a=e[Ku]||(e[Ku]={}),c=a[t];if(o&&c)c.value=o;else{const[l,d]=Yh(t);if(o){const v=a[t]=Jh(o,s);gr(e,l,v,d)}else c&&(Wh(e,l,c,d),a[t]=void 0)}}const Uu=/(?:Once|Passive|Capture)$/;function Yh(e){let t;if(Uu.test(e)){t={};let o;for(;o=e.match(Uu);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fr(e.slice(2)),t]}let zs=0;const Gh=Promise.resolve(),Qh=()=>zs||(Gh.then(()=>zs=0),zs=Date.now());function Jh(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Pn(Xh(o,n.value),t,5,[o])};return n.value=e,n.attached=Qh(),n}function Xh(e,t){if(Ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const qu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Zh=(e,t,n,o,s,a)=>{const c=s==="svg";t==="class"?jh(e,o,c):t==="style"?Vh(e,n,o):Gi(t)?wa(t)||zh(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ep(e,t,o,c))?(ju(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fu(e,t,o,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!kt(o))?ju(e,bn(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fu(e,t,o,c))};function ep(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&qu(t)&&We(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return qu(t)&&kt(n)?!1:t in e}const ao=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?n=>$i(t,n):t};function tp(e){e.target.composing=!0}function Vu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nr=Symbol("_assign"),wr={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[nr]=ao(s);const a=o||s.props&&s.props.type==="number";gr(e,t?"change":"input",c=>{if(c.target.composing)return;let l=e.value;n&&(l=l.trim()),a&&(l=Ki(l)),e[nr](l)}),n&&gr(e,"change",()=>{e.value=e.value.trim()}),t||(gr(e,"compositionstart",tp),gr(e,"compositionend",Vu),gr(e,"change",Vu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:a}},c){if(e[nr]=ao(c),e.composing)return;const l=(a||e.type==="number")&&!/^0\d/.test(e.value)?Ki(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===d)||(e.value=d))}},np={deep:!0,created(e,t,n){e[nr]=ao(n),gr(e,"change",()=>{const o=e._modelValue,s=zo(e),a=e.checked,c=e[nr];if(Ke(o)){const l=Ea(o,s),d=l!==-1;if(a&&!d)c(o.concat(s));else if(!a&&d){const v=[...o];v.splice(l,1),c(v)}}else if(co(o)){const l=new Set(o);a?l.add(s):l.delete(s),c(l)}else c(Kc(e,a))})},mounted:Hu,beforeUpdate(e,t,n){e[nr]=ao(n),Hu(e,t,n)}};function Hu(e,{value:t,oldValue:n},o){e._modelValue=t;let s;if(Ke(t))s=Ea(t,o.props.value)>-1;else if(co(t))s=t.has(o.props.value);else{if(t===n)return;s=Zo(t,Kc(e,!0))}e.checked!==s&&(e.checked=s)}const Wu={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=co(t);gr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Ki(zo(c)):zo(c));e[nr](e.multiple?s?new Set(a):a:a[0]),e._assigning=!0,ts(()=>{e._assigning=!1})}),e[nr]=ao(o)},mounted(e,{value:t}){zu(e,t)},beforeUpdate(e,t,n){e[nr]=ao(n)},updated(e,{value:t}){e._assigning||zu(e,t)}};function zu(e,t){const n=e.multiple,o=Ke(t);if(!(n&&!o&&!co(t))){for(let s=0,a=e.options.length;s<a;s++){const c=e.options[s],l=zo(c);if(n)if(o){const d=typeof l;d==="string"||d==="number"?c.selected=t.some(v=>String(v)===String(l)):c.selected=Ea(t,l)>-1}else c.selected=t.has(l);else if(Zo(zo(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zo(e){return"_value"in e?e._value:e.value}function Kc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const rp=["ctrl","shift","alt","meta"],op={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rp.some(n=>e[`${n}Key`]&&!t.includes(n))},In=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(s,...a)=>{for(let c=0;c<t.length;c++){const l=op[t[c]];if(l&&l(s,t))return}return e(s,...a)})},ip=Wt({patchProp:Zh},Dh);let Yu;function sp(){return Yu||(Yu=rh(ip))}const ap=(...e)=>{const t=sp().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=lp(o);if(!s)return;const a=t._component;!We(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=n(s,!1,up(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},t};function up(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lp(e){return kt(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Uc;const us=e=>Uc=e,qc=Symbol();function da(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bo||(Bo={}));function cp(){const e=Rl(!0),t=e.run(()=>Je({}));let n=[],o=[];const s=Da({install(a){us(s),s._a=a,a.provide(qc,s),a.config.globalProperties.$pinia=s,o.forEach(c=>n.push(c)),o=[]},use(a){return this._a?n.push(a):o.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Vc=()=>{};function Gu(e,t,n,o=Vc){e.push(t);const s=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&Ol()&&zf(s),s}function Zr(e,...t){e.slice().forEach(n=>{n(...t)})}const fp=e=>e(),Qu=Symbol(),Ys=Symbol();function ha(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],s=e[n];da(s)&&da(o)&&e.hasOwnProperty(n)&&!$t(o)&&!br(o)?e[n]=ha(s,o):e[n]=o}return e}const dp=Symbol();function hp(e){return!da(e)||!e.hasOwnProperty(dp)}const{assign:hr}=Object;function pp(e){return!!($t(e)&&e.effect)}function mp(e,t,n,o){const{state:s,actions:a,getters:c}=t,l=n.state.value[e];let d;function v(){l||(n.state.value[e]=s?s():{});const p=vd(n.state.value[e]);return hr(p,a,Object.keys(c||{}).reduce((m,_)=>(m[_]=Da(Qe(()=>{us(n);const C=n._s.get(e);return c[_].call(C,C)})),m),{}))}return d=Hc(e,v,t,n,o,!0),d}function Hc(e,t,n={},o,s,a){let c;const l=hr({actions:{}},n),d={deep:!0};let v,p,m=[],_=[],C;const H=o.state.value[e];!a&&!H&&(o.state.value[e]={}),Je({});let ne;function Ae(he){let J;v=p=!1,typeof he=="function"?(he(o.state.value[e]),J={type:Bo.patchFunction,storeId:e,events:C}):(ha(o.state.value[e],he),J={type:Bo.patchObject,payload:he,storeId:e,events:C});const we=ne=Symbol();ts().then(()=>{ne===we&&(v=!0)}),p=!0,Zr(m,J,o.state.value[e])}const W=a?function(){const{state:J}=n,we=J?J():{};this.$patch(Ie=>{hr(Ie,we)})}:Vc;function Q(){c.stop(),m=[],_=[],o._s.delete(e)}const ce=(he,J="")=>{if(Qu in he)return he[Ys]=J,he;const we=function(){us(o);const Ie=Array.from(arguments),ae=[],Ne=[];function nt(Ve){ae.push(Ve)}function _t(Ve){Ne.push(Ve)}Zr(_,{args:Ie,name:we[Ys],store:j,after:nt,onError:_t});let it;try{it=he.apply(this&&this.$id===e?this:j,Ie)}catch(Ve){throw Zr(Ne,Ve),Ve}return it instanceof Promise?it.then(Ve=>(Zr(ae,Ve),Ve)).catch(Ve=>(Zr(Ne,Ve),Promise.reject(Ve))):(Zr(ae,it),it)};return we[Qu]=!0,we[Ys]=J,we},re={_p:o,$id:e,$onAction:Gu.bind(null,_),$patch:Ae,$reset:W,$subscribe(he,J={}){const we=Gu(m,he,J.detached,()=>Ie()),Ie=c.run(()=>Wn(()=>o.state.value[e],ae=>{(J.flush==="sync"?p:v)&&he({storeId:e,type:Bo.direct,events:C},ae)},hr({},d,J)));return we},$dispose:Q},j=ei(re);o._s.set(e,j);const se=(o._a&&o._a.runWithContext||fp)(()=>o._e.run(()=>(c=Rl()).run(()=>t({action:ce}))));for(const he in se){const J=se[he];if($t(J)&&!pp(J)||br(J))a||(H&&hp(J)&&($t(J)?J.value=H[he]:ha(J,H[he])),o.state.value[e][he]=J);else if(typeof J=="function"){const we=ce(J,he);se[he]=we,l.actions[he]=J}}return hr(j,se),hr(ht(j),se),Object.defineProperty(j,"$state",{get:()=>o.state.value[e],set:he=>{Ae(J=>{hr(J,he)})}}),o._p.forEach(he=>{hr(j,c.run(()=>he({store:j,app:o._a,pinia:o,options:l})))}),H&&a&&n.hydrate&&n.hydrate(j.$state,H),v=!0,p=!0,j}/*! #__NO_SIDE_EFFECTS__ */function ri(e,t,n){let o,s;const a=typeof t=="function";typeof e=="string"?(o=e,s=a?n:t):(s=e,o=e.id);function c(l,d){const v=Qd();return l=l||(v?En(qc,null):null),l&&us(l),l=Uc,l._s.has(o)||(a?Hc(o,t,s,l):mp(o,s,l)),l._s.get(o)}return c.$id=o,c}const vp=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yp=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,gp=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function _p(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){bp(e);return}return t}function bp(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function wp(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const o=n.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!gp.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(vp.test(e)||yp.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,_p)}return JSON.parse(e)}catch(o){if(t.strict)throw o;return e}}function Sp(e,t){if(e==null)return;let n=e;for(let o=0;o<t.length;o++){if(n==null||n[t[o]]==null)return;n=n[t[o]]}return n}function Fa(e,t,n){if(n.length===0)return t;const o=n[0];return n.length>1&&(t=Fa(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,o)?Number.isInteger(Number(n[1]))?[]:{}:e[o],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(o))&&Array.isArray(e)?e.slice()[o]:Object.assign({},e,{[o]:t})}function Wc(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const o in e)n[o]=e[o];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const o in e)n[o]=e[o];return n}return Fa(e,Wc(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function zc(e,t){return t.map(n=>n.split(".")).map(n=>[n,Sp(e,n)]).filter(n=>n[1]!==void 0).reduce((n,o)=>Fa(n,o[1],o[0]),{})}function Yc(e,t){return t.map(n=>n.split(".")).reduce((n,o)=>Wc(n,o),e)}function Ju(e,{storage:t,serializer:n,key:o,debug:s,pick:a,omit:c,beforeHydrate:l,afterHydrate:d},v,p=!0){try{p&&(l==null||l(v));const m=t.getItem(o);if(m){const _=n.deserialize(m),C=a?zc(_,a):_,H=c?Yc(C,c):C;e.$patch(H)}p&&(d==null||d(v))}catch(m){s&&console.error("[pinia-plugin-persistedstate]",m)}}function Xu(e,{storage:t,serializer:n,key:o,debug:s,pick:a,omit:c}){try{const l=a?zc(e,a):e,d=c?Yc(l,c):l,v=n.serialize(d);t.setItem(o,v)}catch(l){s&&console.error("[pinia-plugin-persistedstate]",l)}}function Cp(e,t,n){const{pinia:o,store:s,options:{persist:a=n}}=e;if(!a)return;if(!(s.$id in o.state.value)){const d=o._s.get(s.$id.replace("__hot:",""));d&&Promise.resolve().then(()=>d.$persist());return}const l=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(t);s.$hydrate=({runHooks:d=!0}={})=>{l.forEach(v=>{Ju(s,v,e,d)})},s.$persist=()=>{l.forEach(d=>{Xu(s.$state,d)})},l.forEach(d=>{Ju(s,d,e),s.$subscribe((v,p)=>Xu(p,d),{detached:!0})})}function xp(e={}){return function(t){Cp(t,n=>({key:(e.key?e.key:o=>o)(n.key??t.store.$id),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>wp(o)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),e.auto??!1)}}var Ep=xp(),ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ni(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gs={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Zu;function Ip(){return Zu||(Zu=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(o,s,a){function c(v,p){if(!s[v]){if(!o[v]){var m=typeof Ni=="function"&&Ni;if(!p&&m)return m(v,!0);if(l)return l(v,!0);var _=new Error("Cannot find module '"+v+"'");throw _.code="MODULE_NOT_FOUND",_}var C=s[v]={exports:{}};o[v][0].call(C.exports,function(H){var ne=o[v][1][H];return c(ne||H)},C,C.exports,n,o,s,a)}return s[v].exports}for(var l=typeof Ni=="function"&&Ni,d=0;d<a.length;d++)c(a[d]);return c}({1:[function(n,o,s){(function(a){var c=a.MutationObserver||a.WebKitMutationObserver,l;if(c){var d=0,v=new c(H),p=a.document.createTextNode("");v.observe(p,{characterData:!0}),l=function(){p.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var m=new a.MessageChannel;m.port1.onmessage=H,l=function(){m.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var Ae=a.document.createElement("script");Ae.onreadystatechange=function(){H(),Ae.onreadystatechange=null,Ae.parentNode.removeChild(Ae),Ae=null},a.document.documentElement.appendChild(Ae)}:l=function(){setTimeout(H,0)};var _,C=[];function H(){_=!0;for(var Ae,W,Q=C.length;Q;){for(W=C,C=[],Ae=-1;++Ae<Q;)W[Ae]();Q=C.length}_=!1}o.exports=ne;function ne(Ae){C.push(Ae)===1&&!_&&l()}}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,o,s){var a=n(1);function c(){}var l={},d=["REJECTED"],v=["FULFILLED"],p=["PENDING"];o.exports=m;function m(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,j!==c&&ne(this,j)}m.prototype.catch=function(j){return this.then(null,j)},m.prototype.then=function(j,_e){if(typeof j!="function"&&this.state===v||typeof _e!="function"&&this.state===d)return this;var se=new this.constructor(c);if(this.state!==p){var he=this.state===v?j:_e;C(se,he,this.outcome)}else this.queue.push(new _(se,j,_e));return se};function _(j,_e,se){this.promise=j,typeof _e=="function"&&(this.onFulfilled=_e,this.callFulfilled=this.otherCallFulfilled),typeof se=="function"&&(this.onRejected=se,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(j){l.resolve(this.promise,j)},_.prototype.otherCallFulfilled=function(j){C(this.promise,this.onFulfilled,j)},_.prototype.callRejected=function(j){l.reject(this.promise,j)},_.prototype.otherCallRejected=function(j){C(this.promise,this.onRejected,j)};function C(j,_e,se){a(function(){var he;try{he=_e(se)}catch(J){return l.reject(j,J)}he===j?l.reject(j,new TypeError("Cannot resolve promise with itself")):l.resolve(j,he)})}l.resolve=function(j,_e){var se=Ae(H,_e);if(se.status==="error")return l.reject(j,se.value);var he=se.value;if(he)ne(j,he);else{j.state=v,j.outcome=_e;for(var J=-1,we=j.queue.length;++J<we;)j.queue[J].callFulfilled(_e)}return j},l.reject=function(j,_e){j.state=d,j.outcome=_e;for(var se=-1,he=j.queue.length;++se<he;)j.queue[se].callRejected(_e);return j};function H(j){var _e=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof _e=="function")return function(){_e.apply(j,arguments)}}function ne(j,_e){var se=!1;function he(ae){se||(se=!0,l.reject(j,ae))}function J(ae){se||(se=!0,l.resolve(j,ae))}function we(){_e(J,he)}var Ie=Ae(we);Ie.status==="error"&&he(Ie.value)}function Ae(j,_e){var se={};try{se.value=j(_e),se.status="success"}catch(he){se.status="error",se.value=he}return se}m.resolve=W;function W(j){return j instanceof this?j:l.resolve(new this(c),j)}m.reject=Q;function Q(j){var _e=new this(c);return l.reject(_e,j)}m.all=ce;function ce(j){var _e=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var se=j.length,he=!1;if(!se)return this.resolve([]);for(var J=new Array(se),we=0,Ie=-1,ae=new this(c);++Ie<se;)Ne(j[Ie],Ie);return ae;function Ne(nt,_t){_e.resolve(nt).then(it,function(Ve){he||(he=!0,l.reject(ae,Ve))});function it(Ve){J[_t]=Ve,++we===se&&!he&&(he=!0,l.resolve(ae,J))}}}m.race=re;function re(j){var _e=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var se=j.length,he=!1;if(!se)return this.resolve([]);for(var J=-1,we=new this(c);++J<se;)Ie(j[J]);return we;function Ie(ae){_e.resolve(ae).then(function(Ne){he||(he=!0,l.resolve(we,Ne))},function(Ne){he||(he=!0,l.reject(we,Ne))})}}},{1:1}],3:[function(n,o,s){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,o,s){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function c(g,T){if(!(g instanceof T))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function v(){try{if(!d||!d.open)return!1;var g=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),T=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!g||T)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(g,T){g=g||[],T=T||{};try{return new Blob(g,T)}catch(k){if(k.name!=="TypeError")throw k;for(var w=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new w,M=0;M<g.length;M+=1)A.append(g[M]);return A.getBlob(T.type)}}typeof Promise>"u"&&n(3);var m=Promise;function _(g,T){T&&g.then(function(w){T(null,w)},function(w){T(w)})}function C(g,T,w){typeof T=="function"&&g.then(T),typeof w=="function"&&g.catch(w)}function H(g){return typeof g!="string"&&(console.warn(g+" used as a key, but it is not a string."),g=String(g)),g}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Ae="local-forage-detect-blob-support",W=void 0,Q={},ce=Object.prototype.toString,re="readonly",j="readwrite";function _e(g){for(var T=g.length,w=new ArrayBuffer(T),A=new Uint8Array(w),M=0;M<T;M++)A[M]=g.charCodeAt(M);return w}function se(g){return new m(function(T){var w=g.transaction(Ae,j),A=p([""]);w.objectStore(Ae).put(A,"key"),w.onabort=function(M){M.preventDefault(),M.stopPropagation(),T(!1)},w.oncomplete=function(){var M=navigator.userAgent.match(/Chrome\/(\d+)/),k=navigator.userAgent.match(/Edge\//);T(k||!M||parseInt(M[1],10)>=43)}}).catch(function(){return!1})}function he(g){return typeof W=="boolean"?m.resolve(W):se(g).then(function(T){return W=T,W})}function J(g){var T=Q[g.name],w={};w.promise=new m(function(A,M){w.resolve=A,w.reject=M}),T.deferredOperations.push(w),T.dbReady?T.dbReady=T.dbReady.then(function(){return w.promise}):T.dbReady=w.promise}function we(g){var T=Q[g.name],w=T.deferredOperations.pop();if(w)return w.resolve(),w.promise}function Ie(g,T){var w=Q[g.name],A=w.deferredOperations.pop();if(A)return A.reject(T),A.promise}function ae(g,T){return new m(function(w,A){if(Q[g.name]=Q[g.name]||Ft(),g.db)if(T)J(g),g.db.close();else return w(g.db);var M=[g.name];T&&M.push(g.version);var k=d.open.apply(d,M);T&&(k.onupgradeneeded=function(X){var ue=k.result;try{ue.createObjectStore(g.storeName),X.oldVersion<=1&&ue.createObjectStore(Ae)}catch(fe){if(fe.name==="ConstraintError")console.warn('The database "'+g.name+'" has been upgraded from version '+X.oldVersion+" to version "+X.newVersion+', but the storage "'+g.storeName+'" already exists.');else throw fe}}),k.onerror=function(X){X.preventDefault(),A(k.error)},k.onsuccess=function(){var X=k.result;X.onversionchange=function(ue){ue.target.close()},w(X),we(g)}})}function Ne(g){return ae(g,!1)}function nt(g){return ae(g,!0)}function _t(g,T){if(!g.db)return!0;var w=!g.db.objectStoreNames.contains(g.storeName),A=g.version<g.db.version,M=g.version>g.db.version;if(A&&(g.version!==T&&console.warn('The database "'+g.name+`" can't be downgraded from version `+g.db.version+" to version "+g.version+"."),g.version=g.db.version),M||w){if(w){var k=g.db.version+1;k>g.version&&(g.version=k)}return!0}return!1}function it(g){return new m(function(T,w){var A=new FileReader;A.onerror=w,A.onloadend=function(M){var k=btoa(M.target.result||"");T({__local_forage_encoded_blob:!0,data:k,type:g.type})},A.readAsBinaryString(g)})}function Ve(g){var T=_e(atob(g.data));return p([T],{type:g.type})}function Xe(g){return g&&g.__local_forage_encoded_blob}function Kt(g){var T=this,w=T._initReady().then(function(){var A=Q[T._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return C(w,g,g),w}function Bt(g){J(g);for(var T=Q[g.name],w=T.forages,A=0;A<w.length;A++){var M=w[A];M._dbInfo.db&&(M._dbInfo.db.close(),M._dbInfo.db=null)}return g.db=null,Ne(g).then(function(k){return g.db=k,_t(g)?nt(g):k}).then(function(k){g.db=T.db=k;for(var X=0;X<w.length;X++)w[X]._dbInfo.db=k}).catch(function(k){throw Ie(g,k),k})}function Et(g,T,w,A){A===void 0&&(A=1);try{var M=g.db.transaction(g.storeName,T);w(null,M)}catch(k){if(A>0&&(!g.db||k.name==="InvalidStateError"||k.name==="NotFoundError"))return m.resolve().then(function(){if(!g.db||k.name==="NotFoundError"&&!g.db.objectStoreNames.contains(g.storeName)&&g.version<=g.db.version)return g.db&&(g.version=g.db.version+1),nt(g)}).then(function(){return Bt(g).then(function(){Et(g,T,w,A-1)})}).catch(w);w(k)}}function Ft(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function en(g){var T=this,w={db:null};if(g)for(var A in g)w[A]=g[A];var M=Q[w.name];M||(M=Ft(),Q[w.name]=M),M.forages.push(T),T._initReady||(T._initReady=T.ready,T.ready=Kt);var k=[];function X(){return m.resolve()}for(var ue=0;ue<M.forages.length;ue++){var fe=M.forages[ue];fe!==T&&k.push(fe._initReady().catch(X))}var de=M.forages.slice(0);return m.all(k).then(function(){return w.db=M.db,Ne(w)}).then(function(ye){return w.db=ye,_t(w,T._defaultConfig.version)?nt(w):ye}).then(function(ye){w.db=M.db=ye,T._dbInfo=w;for(var $e=0;$e<de.length;$e++){var Ze=de[$e];Ze!==T&&(Ze._dbInfo.db=w.db,Ze._dbInfo.version=w.version)}})}function wn(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){Et(w._dbInfo,re,function(X,ue){if(X)return k(X);try{var fe=ue.objectStore(w._dbInfo.storeName),de=fe.get(g);de.onsuccess=function(){var ye=de.result;ye===void 0&&(ye=null),Xe(ye)&&(ye=Ve(ye)),M(ye)},de.onerror=function(){k(de.error)}}catch(ye){k(ye)}})}).catch(k)});return _(A,T),A}function Sn(g,T){var w=this,A=new m(function(M,k){w.ready().then(function(){Et(w._dbInfo,re,function(X,ue){if(X)return k(X);try{var fe=ue.objectStore(w._dbInfo.storeName),de=fe.openCursor(),ye=1;de.onsuccess=function(){var $e=de.result;if($e){var Ze=$e.value;Xe(Ze)&&(Ze=Ve(Ze));var ct=g(Ze,$e.key,ye++);ct!==void 0?M(ct):$e.continue()}else M()},de.onerror=function(){k(de.error)}}catch($e){k($e)}})}).catch(k)});return _(A,T),A}function Rt(g,T,w){var A=this;g=H(g);var M=new m(function(k,X){var ue;A.ready().then(function(){return ue=A._dbInfo,ce.call(T)==="[object Blob]"?he(ue.db).then(function(fe){return fe?T:it(T)}):T}).then(function(fe){Et(A._dbInfo,j,function(de,ye){if(de)return X(de);try{var $e=ye.objectStore(A._dbInfo.storeName);fe===null&&(fe=void 0);var Ze=$e.put(fe,g);ye.oncomplete=function(){fe===void 0&&(fe=null),k(fe)},ye.onabort=ye.onerror=function(){var ct=Ze.error?Ze.error:Ze.transaction.error;X(ct)}}catch(ct){X(ct)}})}).catch(X)});return _(M,w),M}function ee(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){Et(w._dbInfo,j,function(X,ue){if(X)return k(X);try{var fe=ue.objectStore(w._dbInfo.storeName),de=fe.delete(g);ue.oncomplete=function(){M()},ue.onerror=function(){k(de.error)},ue.onabort=function(){var ye=de.error?de.error:de.transaction.error;k(ye)}}catch(ye){k(ye)}})}).catch(k)});return _(A,T),A}function Oe(g){var T=this,w=new m(function(A,M){T.ready().then(function(){Et(T._dbInfo,j,function(k,X){if(k)return M(k);try{var ue=X.objectStore(T._dbInfo.storeName),fe=ue.clear();X.oncomplete=function(){A()},X.onabort=X.onerror=function(){var de=fe.error?fe.error:fe.transaction.error;M(de)}}catch(de){M(de)}})}).catch(M)});return _(w,g),w}function G(g){var T=this,w=new m(function(A,M){T.ready().then(function(){Et(T._dbInfo,re,function(k,X){if(k)return M(k);try{var ue=X.objectStore(T._dbInfo.storeName),fe=ue.count();fe.onsuccess=function(){A(fe.result)},fe.onerror=function(){M(fe.error)}}catch(de){M(de)}})}).catch(M)});return _(w,g),w}function Be(g,T){var w=this,A=new m(function(M,k){if(g<0){M(null);return}w.ready().then(function(){Et(w._dbInfo,re,function(X,ue){if(X)return k(X);try{var fe=ue.objectStore(w._dbInfo.storeName),de=!1,ye=fe.openKeyCursor();ye.onsuccess=function(){var $e=ye.result;if(!$e){M(null);return}g===0||de?M($e.key):(de=!0,$e.advance(g))},ye.onerror=function(){k(ye.error)}}catch($e){k($e)}})}).catch(k)});return _(A,T),A}function ft(g){var T=this,w=new m(function(A,M){T.ready().then(function(){Et(T._dbInfo,re,function(k,X){if(k)return M(k);try{var ue=X.objectStore(T._dbInfo.storeName),fe=ue.openKeyCursor(),de=[];fe.onsuccess=function(){var ye=fe.result;if(!ye){A(de);return}de.push(ye.key),ye.continue()},fe.onerror=function(){M(fe.error)}}catch(ye){M(ye)}})}).catch(M)});return _(w,g),w}function S(g,T){T=ne.apply(this,arguments);var w=this.config();g=typeof g!="function"&&g||{},g.name||(g.name=g.name||w.name,g.storeName=g.storeName||w.storeName);var A=this,M;if(!g.name)M=m.reject("Invalid arguments");else{var k=g.name===w.name&&A._dbInfo.db,X=k?m.resolve(A._dbInfo.db):Ne(g).then(function(ue){var fe=Q[g.name],de=fe.forages;fe.db=ue;for(var ye=0;ye<de.length;ye++)de[ye]._dbInfo.db=ue;return ue});g.storeName?M=X.then(function(ue){if(ue.objectStoreNames.contains(g.storeName)){var fe=ue.version+1;J(g);var de=Q[g.name],ye=de.forages;ue.close();for(var $e=0;$e<ye.length;$e++){var Ze=ye[$e];Ze._dbInfo.db=null,Ze._dbInfo.version=fe}var ct=new m(function(pt,Pt){var qe=d.open(g.name,fe);qe.onerror=function(Yt){var Ir=qe.result;Ir.close(),Pt(Yt)},qe.onupgradeneeded=function(){var Yt=qe.result;Yt.deleteObjectStore(g.storeName)},qe.onsuccess=function(){var Yt=qe.result;Yt.close(),pt(Yt)}});return ct.then(function(pt){de.db=pt;for(var Pt=0;Pt<ye.length;Pt++){var qe=ye[Pt];qe._dbInfo.db=pt,we(qe._dbInfo)}}).catch(function(pt){throw(Ie(g,pt)||m.resolve()).catch(function(){}),pt})}}):M=X.then(function(ue){J(g);var fe=Q[g.name],de=fe.forages;ue.close();for(var ye=0;ye<de.length;ye++){var $e=de[ye];$e._dbInfo.db=null}var Ze=new m(function(ct,pt){var Pt=d.deleteDatabase(g.name);Pt.onerror=function(){var qe=Pt.result;qe&&qe.close(),pt(Pt.error)},Pt.onblocked=function(){console.warn('dropInstance blocked for database "'+g.name+'" until all open connections are closed')},Pt.onsuccess=function(){var qe=Pt.result;qe&&qe.close(),ct(qe)}});return Ze.then(function(ct){fe.db=ct;for(var pt=0;pt<de.length;pt++){var Pt=de[pt];we(Pt._dbInfo)}}).catch(function(ct){throw(Ie(g,ct)||m.resolve()).catch(function(){}),ct})})}return _(M,T),M}var E={_driver:"asyncStorage",_initStorage:en,_support:v(),iterate:Sn,getItem:wn,setItem:Rt,removeItem:ee,clear:Oe,length:G,key:Be,keys:ft,dropInstance:S};function K(){return typeof openDatabase=="function"}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe="~~local_forage_type~",te=/^~~local_forage_type~([^~]+)~/,Ee="__lfsc__:",be=Ee.length,ve="arbf",ie="blob",Fe="si08",Te="ui08",Me="uic8",Ue="si16",He="si32",st="ur16",lt="ui32",At="fl32",Ot="fl64",Ut=be+ve.length,Dt=Object.prototype.toString;function cn(g){var T=g.length*.75,w=g.length,A,M=0,k,X,ue,fe;g[g.length-1]==="="&&(T--,g[g.length-2]==="="&&T--);var de=new ArrayBuffer(T),ye=new Uint8Array(de);for(A=0;A<w;A+=4)k=Y.indexOf(g[A]),X=Y.indexOf(g[A+1]),ue=Y.indexOf(g[A+2]),fe=Y.indexOf(g[A+3]),ye[M++]=k<<2|X>>4,ye[M++]=(X&15)<<4|ue>>2,ye[M++]=(ue&3)<<6|fe&63;return de}function On(g){var T=new Uint8Array(g),w="",A;for(A=0;A<T.length;A+=3)w+=Y[T[A]>>2],w+=Y[(T[A]&3)<<4|T[A+1]>>4],w+=Y[(T[A+1]&15)<<2|T[A+2]>>6],w+=Y[T[A+2]&63];return T.length%3===2?w=w.substring(0,w.length-1)+"=":T.length%3===1&&(w=w.substring(0,w.length-2)+"=="),w}function It(g,T){var w="";if(g&&(w=Dt.call(g)),g&&(w==="[object ArrayBuffer]"||g.buffer&&Dt.call(g.buffer)==="[object ArrayBuffer]")){var A,M=Ee;g instanceof ArrayBuffer?(A=g,M+=ve):(A=g.buffer,w==="[object Int8Array]"?M+=Fe:w==="[object Uint8Array]"?M+=Te:w==="[object Uint8ClampedArray]"?M+=Me:w==="[object Int16Array]"?M+=Ue:w==="[object Uint16Array]"?M+=st:w==="[object Int32Array]"?M+=He:w==="[object Uint32Array]"?M+=lt:w==="[object Float32Array]"?M+=At:w==="[object Float64Array]"?M+=Ot:T(new Error("Failed to get type for BinaryArray"))),T(M+On(A))}else if(w==="[object Blob]"){var k=new FileReader;k.onload=function(){var X=oe+g.type+"~"+On(this.result);T(Ee+ie+X)},k.readAsArrayBuffer(g)}else try{T(JSON.stringify(g))}catch(X){console.error("Couldn't convert value into a JSON string: ",g),T(null,X)}}function Re(g){if(g.substring(0,be)!==Ee)return JSON.parse(g);var T=g.substring(Ut),w=g.substring(be,Ut),A;if(w===ie&&te.test(T)){var M=T.match(te);A=M[1],T=T.substring(M[0].length)}var k=cn(T);switch(w){case ve:return k;case ie:return p([k],{type:A});case Fe:return new Int8Array(k);case Te:return new Uint8Array(k);case Me:return new Uint8ClampedArray(k);case Ue:return new Int16Array(k);case st:return new Uint16Array(k);case He:return new Int32Array(k);case lt:return new Uint32Array(k);case At:return new Float32Array(k);case Ot:return new Float64Array(k);default:throw new Error("Unkown type: "+w)}}var vn={serialize:It,deserialize:Re,stringToBuffer:cn,bufferToString:On};function Dn(g,T,w,A){g.executeSql("CREATE TABLE IF NOT EXISTS "+T.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],w,A)}function Ur(g){var T=this,w={db:null};if(g)for(var A in g)w[A]=typeof g[A]!="string"?g[A].toString():g[A];var M=new m(function(k,X){try{w.db=openDatabase(w.name,String(w.version),w.description,w.size)}catch(ue){return X(ue)}w.db.transaction(function(ue){Dn(ue,w,function(){T._dbInfo=w,k()},function(fe,de){X(de)})},X)});return w.serializer=vn,M}function Se(g,T,w,A,M,k){g.executeSql(w,A,M,function(X,ue){ue.code===ue.SYNTAX_ERR?X.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[T.storeName],function(fe,de){de.rows.length?k(fe,ue):Dn(fe,T,function(){fe.executeSql(w,A,M,k)},k)},k):k(X,ue)},k)}function fo(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){var X=w._dbInfo;X.db.transaction(function(ue){Se(ue,X,"SELECT * FROM "+X.storeName+" WHERE key = ? LIMIT 1",[g],function(fe,de){var ye=de.rows.length?de.rows.item(0).value:null;ye&&(ye=X.serializer.deserialize(ye)),M(ye)},function(fe,de){k(de)})})}).catch(k)});return _(A,T),A}function li(g,T){var w=this,A=new m(function(M,k){w.ready().then(function(){var X=w._dbInfo;X.db.transaction(function(ue){Se(ue,X,"SELECT * FROM "+X.storeName,[],function(fe,de){for(var ye=de.rows,$e=ye.length,Ze=0;Ze<$e;Ze++){var ct=ye.item(Ze),pt=ct.value;if(pt&&(pt=X.serializer.deserialize(pt)),pt=g(pt,ct.key,Ze+1),pt!==void 0){M(pt);return}}M()},function(fe,de){k(de)})})}).catch(k)});return _(A,T),A}function qr(g,T,w,A){var M=this;g=H(g);var k=new m(function(X,ue){M.ready().then(function(){T===void 0&&(T=null);var fe=T,de=M._dbInfo;de.serializer.serialize(T,function(ye,$e){$e?ue($e):de.db.transaction(function(Ze){Se(Ze,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[g,ye],function(){X(fe)},function(ct,pt){ue(pt)})},function(Ze){if(Ze.code===Ze.QUOTA_ERR){if(A>0){X(qr.apply(M,[g,fe,w,A-1]));return}ue(Ze)}})})}).catch(ue)});return _(k,w),k}function ci(g,T,w){return qr.apply(this,[g,T,w,1])}function ho(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){var X=w._dbInfo;X.db.transaction(function(ue){Se(ue,X,"DELETE FROM "+X.storeName+" WHERE key = ?",[g],function(){M()},function(fe,de){k(de)})})}).catch(k)});return _(A,T),A}function cs(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var k=T._dbInfo;k.db.transaction(function(X){Se(X,k,"DELETE FROM "+k.storeName,[],function(){A()},function(ue,fe){M(fe)})})}).catch(M)});return _(w,g),w}function fs(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var k=T._dbInfo;k.db.transaction(function(X){Se(X,k,"SELECT COUNT(key) as c FROM "+k.storeName,[],function(ue,fe){var de=fe.rows.item(0).c;A(de)},function(ue,fe){M(fe)})})}).catch(M)});return _(w,g),w}function or(g,T){var w=this,A=new m(function(M,k){w.ready().then(function(){var X=w._dbInfo;X.db.transaction(function(ue){Se(ue,X,"SELECT key FROM "+X.storeName+" WHERE id = ? LIMIT 1",[g+1],function(fe,de){var ye=de.rows.length?de.rows.item(0).key:null;M(ye)},function(fe,de){k(de)})})}).catch(k)});return _(A,T),A}function ir(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var k=T._dbInfo;k.db.transaction(function(X){Se(X,k,"SELECT key FROM "+k.storeName,[],function(ue,fe){for(var de=[],ye=0;ye<fe.rows.length;ye++)de.push(fe.rows.item(ye).key);A(de)},function(ue,fe){M(fe)})})}).catch(M)});return _(w,g),w}function po(g){return new m(function(T,w){g.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(M,k){for(var X=[],ue=0;ue<k.rows.length;ue++)X.push(k.rows.item(ue).name);T({db:g,storeNames:X})},function(M,k){w(k)})},function(A){w(A)})})}function Vr(g,T){T=ne.apply(this,arguments);var w=this.config();g=typeof g!="function"&&g||{},g.name||(g.name=g.name||w.name,g.storeName=g.storeName||w.storeName);var A=this,M;return g.name?M=new m(function(k){var X;g.name===w.name?X=A._dbInfo.db:X=openDatabase(g.name,"","",0),g.storeName?k({db:X,storeNames:[g.storeName]}):k(po(X))}).then(function(k){return new m(function(X,ue){k.db.transaction(function(fe){function de(ct){return new m(function(pt,Pt){fe.executeSql("DROP TABLE IF EXISTS "+ct,[],function(){pt()},function(qe,Yt){Pt(Yt)})})}for(var ye=[],$e=0,Ze=k.storeNames.length;$e<Ze;$e++)ye.push(de(k.storeNames[$e]));m.all(ye).then(function(){X()}).catch(function(ct){ue(ct)})},function(fe){ue(fe)})})}):M=m.reject("Invalid arguments"),_(M,T),M}var St={_driver:"webSQLStorage",_initStorage:Ur,_support:K(),iterate:li,getItem:fo,setItem:ci,removeItem:ho,clear:cs,length:fs,key:or,keys:ir,dropInstance:Vr};function Mt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function fi(g,T){var w=g.name+"/";return g.storeName!==T.storeName&&(w+=g.storeName+"/"),w}function Hr(){var g="_localforage_support_test";try{return localStorage.setItem(g,!0),localStorage.removeItem(g),!1}catch{return!0}}function Wr(){return!Hr()||localStorage.length>0}function zr(g){var T=this,w={};if(g)for(var A in g)w[A]=g[A];return w.keyPrefix=fi(g,T._defaultConfig),Wr()?(T._dbInfo=w,w.serializer=vn,m.resolve()):m.reject()}function ds(g){var T=this,w=T.ready().then(function(){for(var A=T._dbInfo.keyPrefix,M=localStorage.length-1;M>=0;M--){var k=localStorage.key(M);k.indexOf(A)===0&&localStorage.removeItem(k)}});return _(w,g),w}function Nn(g,T){var w=this;g=H(g);var A=w.ready().then(function(){var M=w._dbInfo,k=localStorage.getItem(M.keyPrefix+g);return k&&(k=M.serializer.deserialize(k)),k});return _(A,T),A}function sr(g,T){var w=this,A=w.ready().then(function(){for(var M=w._dbInfo,k=M.keyPrefix,X=k.length,ue=localStorage.length,fe=1,de=0;de<ue;de++){var ye=localStorage.key(de);if(ye.indexOf(k)===0){var $e=localStorage.getItem(ye);if($e&&($e=M.serializer.deserialize($e)),$e=g($e,ye.substring(X),fe++),$e!==void 0)return $e}}});return _(A,T),A}function $n(g,T){var w=this,A=w.ready().then(function(){var M=w._dbInfo,k;try{k=localStorage.key(g)}catch{k=null}return k&&(k=k.substring(M.keyPrefix.length)),k});return _(A,T),A}function Yr(g){var T=this,w=T.ready().then(function(){for(var A=T._dbInfo,M=localStorage.length,k=[],X=0;X<M;X++){var ue=localStorage.key(X);ue.indexOf(A.keyPrefix)===0&&k.push(ue.substring(A.keyPrefix.length))}return k});return _(w,g),w}function hs(g){var T=this,w=T.keys().then(function(A){return A.length});return _(w,g),w}function Bn(g,T){var w=this;g=H(g);var A=w.ready().then(function(){var M=w._dbInfo;localStorage.removeItem(M.keyPrefix+g)});return _(A,T),A}function di(g,T,w){var A=this;g=H(g);var M=A.ready().then(function(){T===void 0&&(T=null);var k=T;return new m(function(X,ue){var fe=A._dbInfo;fe.serializer.serialize(T,function(de,ye){if(ye)ue(ye);else try{localStorage.setItem(fe.keyPrefix+g,de),X(k)}catch($e){($e.name==="QuotaExceededError"||$e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ue($e),ue($e)}})})});return _(M,w),M}function zn(g,T){if(T=ne.apply(this,arguments),g=typeof g!="function"&&g||{},!g.name){var w=this.config();g.name=g.name||w.name,g.storeName=g.storeName||w.storeName}var A=this,M;return g.name?M=new m(function(k){g.storeName?k(fi(g,A._defaultConfig)):k(g.name+"/")}).then(function(k){for(var X=localStorage.length-1;X>=0;X--){var ue=localStorage.key(X);ue.indexOf(k)===0&&localStorage.removeItem(ue)}}):M=m.reject("Invalid arguments"),_(M,T),M}var hi={_driver:"localStorageWrapper",_initStorage:zr,_support:Mt(),iterate:sr,getItem:Nn,setItem:di,removeItem:Bn,clear:ds,length:hs,key:$n,keys:Yr,dropInstance:zn},mo=function(T,w){return T===w||typeof T=="number"&&typeof w=="number"&&isNaN(T)&&isNaN(w)},Tt=function(T,w){for(var A=T.length,M=0;M<A;){if(mo(T[M],w))return!0;M++}return!1},Mn=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"},tn={},vo={},fn={INDEXEDDB:E,WEBSQL:St,LOCALSTORAGE:hi},Gr=[fn.INDEXEDDB._driver,fn.WEBSQL._driver,fn.LOCALSTORAGE._driver],ar=["dropInstance"],Er=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ar),Yn={description:"",driver:Gr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pi(g,T){g[T]=function(){var w=arguments;return g.ready().then(function(){return g[T].apply(g,w)})}}function ur(){for(var g=1;g<arguments.length;g++){var T=arguments[g];if(T)for(var w in T)T.hasOwnProperty(w)&&(Mn(T[w])?arguments[0][w]=T[w].slice():arguments[0][w]=T[w])}return arguments[0]}var mi=function(){function g(T){c(this,g);for(var w in fn)if(fn.hasOwnProperty(w)){var A=fn[w],M=A._driver;this[w]=M,tn[M]||this.defineDriver(A)}this._defaultConfig=ur({},Yn),this._config=ur({},this._defaultConfig,T),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return g.prototype.config=function(w){if((typeof w>"u"?"undefined":a(w))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in w){if(A==="storeName"&&(w[A]=w[A].replace(/\W/g,"_")),A==="version"&&typeof w[A]!="number")return new Error("Database version must be a number.");this._config[A]=w[A]}return"driver"in w&&w.driver?this.setDriver(this._config.driver):!0}else return typeof w=="string"?this._config[w]:this._config},g.prototype.defineDriver=function(w,A,M){var k=new m(function(X,ue){try{var fe=w._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!w._driver){ue(de);return}for(var ye=Er.concat("_initStorage"),$e=0,Ze=ye.length;$e<Ze;$e++){var ct=ye[$e],pt=!Tt(ar,ct);if((pt||w[ct])&&typeof w[ct]!="function"){ue(de);return}}var Pt=function(){for(var Ir=function(Fn){return function(){var vi=new Error("Method "+Fn+" is not implemented by the current driver"),_o=m.reject(vi);return _(_o,arguments[arguments.length-1]),_o}},yo=0,nn=ar.length;yo<nn;yo++){var Ln=ar[yo];w[Ln]||(w[Ln]=Ir(Ln))}};Pt();var qe=function(Ir){tn[fe]&&console.info("Redefining LocalForage driver: "+fe),tn[fe]=w,vo[fe]=Ir,X()};"_support"in w?w._support&&typeof w._support=="function"?w._support().then(qe,ue):qe(!!w._support):qe(!0)}catch(Yt){ue(Yt)}});return C(k,A,M),k},g.prototype.driver=function(){return this._driver||null},g.prototype.getDriver=function(w,A,M){var k=tn[w]?m.resolve(tn[w]):m.reject(new Error("Driver not found."));return C(k,A,M),k},g.prototype.getSerializer=function(w){var A=m.resolve(vn);return C(A,w),A},g.prototype.ready=function(w){var A=this,M=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return C(M,w,w),M},g.prototype.setDriver=function(w,A,M){var k=this;Mn(w)||(w=[w]);var X=this._getSupportedDrivers(w);function ue(){k._config.driver=k.driver()}function fe($e){return k._extend($e),ue(),k._ready=k._initStorage(k._config),k._ready}function de($e){return function(){var Ze=0;function ct(){for(;Ze<$e.length;){var pt=$e[Ze];return Ze++,k._dbInfo=null,k._ready=null,k.getDriver(pt).then(fe).catch(ct)}ue();var Pt=new Error("No available storage method found.");return k._driverSet=m.reject(Pt),k._driverSet}return ct()}}var ye=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=ye.then(function(){var $e=X[0];return k._dbInfo=null,k._ready=null,k.getDriver($e).then(function(Ze){k._driver=Ze._driver,ue(),k._wrapLibraryMethodsWithReady(),k._initDriver=de(X)})}).catch(function(){ue();var $e=new Error("No available storage method found.");return k._driverSet=m.reject($e),k._driverSet}),C(this._driverSet,A,M),this._driverSet},g.prototype.supports=function(w){return!!vo[w]},g.prototype._extend=function(w){ur(this,w)},g.prototype._getSupportedDrivers=function(w){for(var A=[],M=0,k=w.length;M<k;M++){var X=w[M];this.supports(X)&&A.push(X)}return A},g.prototype._wrapLibraryMethodsWithReady=function(){for(var w=0,A=Er.length;w<A;w++)pi(this,Er[w])},g.prototype.createInstance=function(w){return new g(w)},g}(),at=new mi;o.exports=at},{3:3}]},{},[4])(4)})}(Gs)),Gs.exports}var Tp=Ip();const Ap=Gc(Tp);function Pp(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got ${typeof e}`);e=[...e];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var Fi={exports:{}},kp=Fi.exports,el;function Rp(){return el||(el=1,function(e,t){(function(n,o){e.exports=o()})(kp,function(){var n=function(r,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])})(r,i)},o=function(){return(o=Object.assign||function(r){for(var i,u=1,f=arguments.length;u<f;u++)for(var h in i=arguments[u])Object.prototype.hasOwnProperty.call(i,h)&&(r[h]=i[h]);return r}).apply(this,arguments)};function s(r,i,u){for(var f,h=0,y=i.length;h<y;h++)!f&&h in i||((f=f||Array.prototype.slice.call(i,0,h))[h]=i[h]);return r.concat(f||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ko,c=Object.keys,l=Array.isArray;function d(r,i){return typeof i!="object"||c(i).forEach(function(u){r[u]=i[u]}),r}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var v=Object.getPrototypeOf,p={}.hasOwnProperty;function m(r,i){return p.call(r,i)}function _(r,i){typeof i=="function"&&(i=i(v(r))),(typeof Reflect>"u"?c:Reflect.ownKeys)(i).forEach(function(u){H(r,u,i[u])})}var C=Object.defineProperty;function H(r,i,u,f){C(r,i,d(u&&m(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function ne(r){return{from:function(i){return r.prototype=Object.create(i.prototype),H(r.prototype,"constructor",r),{extend:_.bind(null,r.prototype)}}}}var Ae=Object.getOwnPropertyDescriptor,W=[].slice;function Q(r,i,u){return W.call(r,i,u)}function ce(r,i){return i(r)}function re(r){if(!r)throw new Error("Assertion Failed")}function j(r){a.setImmediate?setImmediate(r):setTimeout(r,0)}function _e(r,i){if(typeof i=="string"&&m(r,i))return r[i];if(!i)return r;if(typeof i!="string"){for(var u=[],f=0,h=i.length;f<h;++f){var y=_e(r,i[f]);u.push(y)}return u}var b=i.indexOf(".");if(b!==-1){var x=r[i.substr(0,b)];return x==null?void 0:_e(x,i.substr(b+1))}}function se(r,i,u){if(r&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof i!="string"&&"length"in i){re(typeof u!="string"&&"length"in u);for(var f=0,h=i.length;f<h;++f)se(r,i[f],u[f])}else{var y,b,x=i.indexOf(".");x!==-1?(y=i.substr(0,x),(b=i.substr(x+1))===""?u===void 0?l(r)&&!isNaN(parseInt(y))?r.splice(y,1):delete r[y]:r[y]=u:se(x=!(x=r[y])||!m(r,y)?r[y]={}:x,b,u)):u===void 0?l(r)&&!isNaN(parseInt(i))?r.splice(i,1):delete r[i]:r[i]=u}}function he(r){var i,u={};for(i in r)m(r,i)&&(u[i]=r[i]);return u}var J=[].concat;function we(r){return J.apply([],r)}var He="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(we([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(i){return i+r+"Array"})}))).filter(function(r){return a[r]}),Ie=new Set(He.map(function(r){return a[r]})),ae=null;function Ne(r){return ae=new WeakMap,r=function i(u){if(!u||typeof u!="object")return u;var f=ae.get(u);if(f)return f;if(l(u)){f=[],ae.set(u,f);for(var h=0,y=u.length;h<y;++h)f.push(i(u[h]))}else if(Ie.has(u.constructor))f=u;else{var b,x=v(u);for(b in f=x===Object.prototype?{}:Object.create(x),ae.set(u,f),u)m(u,b)&&(f[b]=i(u[b]))}return f}(r),ae=null,r}var nt={}.toString;function _t(r){return nt.call(r).slice(8,-1)}var it=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof it=="symbol"?function(r){var i;return r!=null&&(i=r[it])&&i.apply(r)}:function(){return null};function Xe(r,i){return i=r.indexOf(i),0<=i&&r.splice(i,1),0<=i}var Kt={};function Bt(r){var i,u,f,h;if(arguments.length===1){if(l(r))return r.slice();if(this===Kt&&typeof r=="string")return[r];if(h=Ve(r)){for(u=[];!(f=h.next()).done;)u.push(f.value);return u}if(r==null)return[r];if(typeof(i=r.length)!="number")return[r];for(u=new Array(i);i--;)u[i]=r[i];return u}for(i=arguments.length,u=new Array(i);i--;)u[i]=arguments[i];return u}var Et=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ue),Ft={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function en(r,i){this.name=r,this.message=i}function wn(r,i){return r+". Errors: "+Object.keys(i).map(function(u){return i[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function Sn(r,i,u,f){this.failures=i,this.failedKeys=f,this.successCount=u,this.message=wn(r,i)}function Rt(r,i){this.name="BulkError",this.failures=Object.keys(i).map(function(u){return i[u]}),this.failuresByPos=i,this.message=wn(r,this.failures)}ne(en).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ne(Sn).from(en),ne(Rt).from(en);var ee=yn.reduce(function(r,i){return r[i]=i+"Error",r},{}),Oe=en,G=yn.reduce(function(r,i){var u=i+"Error";function f(h,y){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(y?`
 `+y:""),this.inner=y||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ft[i]||u,this.inner=null)}return ne(f).from(Oe),r[i]=f,r},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var Be=Ue.reduce(function(r,i){return r[i+"Error"]=G[i],r},{}),ft=yn.reduce(function(r,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(r[i+"Error"]=G[i]),r},{});function S(){}function E(r){return r}function K(r,i){return r==null||r===E?i:function(u){return i(r(u))}}function Y(r,i){return function(){r.apply(this,arguments),i.apply(this,arguments)}}function oe(r,i){return r===S?i:function(){var u=r.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var y=i.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?Y(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Y(h,this.onerror):h),y!==void 0?y:u}}function te(r,i){return r===S?i:function(){r.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Y(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Y(f,this.onerror):f)}}function Ee(r,i){return r===S?i:function(u){var f=r.apply(this,arguments);d(u,f);var h=this.onsuccess,y=this.onerror;return this.onsuccess=null,this.onerror=null,u=i.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?Y(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Y(y,this.onerror):y),f===void 0?u===void 0?void 0:u:d(f,u)}}function be(r,i){return r===S?i:function(){return i.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function ve(r,i){return r===S?i:function(){var u=r.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,y=new Array(h);h--;)y[h]=arguments[h];return u.then(function(){return i.apply(f,y)})}return i.apply(this,arguments)}}ft.ModifyError=Sn,ft.DexieError=en,ft.BulkError=Rt;var ie=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fe(r){ie=r}var Te={},Me=100,He=typeof Promise>"u"?[]:function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,v(r),r];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,v(i),r]}(),Ue=He[0],yn=He[1],He=He[2],yn=yn&&yn.then,st=Ue&&Ue.constructor,lt=!!He,At=function(r,i){vn.push([r,i]),Ut&&(queueMicrotask(fs),Ut=!1)},Ot=!0,Ut=!0,Dt=[],cn=[],On=E,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:S,pgp:!1,env:{},finalize:S},Re=It,vn=[],Dn=0,Ur=[];function Se(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=Re;if(typeof r!="function"){if(r!==Te)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qr(this,this._value))}this._state=null,this._value=null,++i.ref,function u(f,h){try{h(function(y){if(f._state===null){if(y===f)throw new TypeError("A promise cannot be resolved with itself.");var b=f._lib&&or();y&&typeof y.then=="function"?u(f,function(x,P){y instanceof Se?y._then(x,P):y.then(x,P)}):(f._state=!0,f._value=y,ci(f)),b&&ir()}},qr.bind(null,f))}catch(y){qr(f,y)}}(this,r)}var fo={get:function(){var r=Re,i=zr;function u(f,h){var y=this,b=!r.global&&(r!==Re||i!==zr),x=b&&!$n(),P=new Se(function(O,B){ho(y,new li(hi(f,r,b,x),hi(h,r,b,x),O,B,r))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return u.prototype=Te,u},set:function(r){H(this,"then",r&&r.prototype===Te?fo:{get:function(){return r},set:fo.set})}};function li(r,i,u,f,h){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof i=="function"?i:null,this.resolve=u,this.reject=f,this.psd=h}function qr(r,i){var u,f;cn.push(i),r._state===null&&(u=r._lib&&or(),i=On(i),r._state=!1,r._value=i,f=r,Dt.some(function(h){return h._value===f._value})||Dt.push(f),ci(r),u&&ir())}function ci(r){var i=r._listeners;r._listeners=[];for(var u=0,f=i.length;u<f;++u)ho(r,i[u]);var h=r._PSD;--h.ref||h.finalize(),Dn===0&&(++Dn,At(function(){--Dn==0&&po()},[]))}function ho(r,i){if(r._state!==null){var u=r._state?i.onFulfilled:i.onRejected;if(u===null)return(r._state?i.resolve:i.reject)(r._value);++i.psd.ref,++Dn,At(cs,[u,r,i])}else r._listeners.push(i)}function cs(r,i,u){try{var f,h=i._value;!i._state&&cn.length&&(cn=[]),f=ie&&i._consoleTask?i._consoleTask.run(function(){return r(h)}):r(h),i._state||cn.indexOf(h)!==-1||function(y){for(var b=Dt.length;b;)if(Dt[--b]._value===y._value)return Dt.splice(b,1)}(i),u.resolve(f)}catch(y){u.reject(y)}finally{--Dn==0&&po(),--u.psd.ref||u.psd.finalize()}}function fs(){zn(It,function(){or()&&ir()})}function or(){var r=Ot;return Ut=Ot=!1,r}function ir(){var r,i,u;do for(;0<vn.length;)for(r=vn,vn=[],u=r.length,i=0;i<u;++i){var f=r[i];f[0].apply(null,f[1])}while(0<vn.length);Ut=Ot=!0}function po(){var r=Dt;Dt=[],r.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var i=Ur.slice(0),u=i.length;u;)i[--u]()}function Vr(r){return new Se(Te,!1,r)}function St(r,i){var u=Re;return function(){var f=or(),h=Re;try{return Bn(u,!0),r.apply(this,arguments)}catch(y){i&&i(y)}finally{Bn(h,!1),f&&ir()}}}_(Se.prototype,{then:fo,_then:function(r,i){ho(this,new li(null,null,r,i,Re))},catch:function(r){if(arguments.length===1)return this.then(null,r);var i=r,u=arguments[1];return typeof i=="function"?this.then(null,function(f){return(f instanceof i?u:Vr)(f)}):this.then(null,function(f){return(f&&f.name===i?u:Vr)(f)})},finally:function(r){return this.then(function(i){return Se.resolve(r()).then(function(){return i})},function(i){return Se.resolve(r()).then(function(){return Vr(i)})})},timeout:function(r,i){var u=this;return r<1/0?new Se(function(f,h){var y=setTimeout(function(){return h(new G.Timeout(i))},r);u.then(f,h).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&H(Se.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=di(),_(Se,{all:function(){var r=Bt.apply(null,arguments).map(Yr);return new Se(function(i,u){r.length===0&&i([]);var f=r.length;r.forEach(function(h,y){return Se.resolve(h).then(function(b){r[y]=b,--f||i(r)},u)})})},resolve:function(r){return r instanceof Se?r:r&&typeof r.then=="function"?new Se(function(i,u){r.then(i,u)}):new Se(Te,!0,r)},reject:Vr,race:function(){var r=Bt.apply(null,arguments).map(Yr);return new Se(function(i,u){r.map(function(f){return Se.resolve(f).then(i,u)})})},PSD:{get:function(){return Re},set:function(r){return Re=r}},totalEchoes:{get:function(){return zr}},newPSD:Nn,usePSD:zn,scheduler:{get:function(){return At},set:function(r){At=r}},rejectionMapper:{get:function(){return On},set:function(r){On=r}},follow:function(r,i){return new Se(function(u,f){return Nn(function(h,y){var b=Re;b.unhandleds=[],b.onunhandled=y,b.finalize=Y(function(){var x,P=this;x=function(){P.unhandleds.length===0?h():y(P.unhandleds[0])},Ur.push(function O(){x(),Ur.splice(Ur.indexOf(O),1)}),++Dn,At(function(){--Dn==0&&po()},[])},b.finalize),r()},i,u,f)})}}),st&&(st.allSettled&&H(Se,"allSettled",function(){var r=Bt.apply(null,arguments).map(Yr);return new Se(function(i){r.length===0&&i([]);var u=r.length,f=new Array(u);r.forEach(function(h,y){return Se.resolve(h).then(function(b){return f[y]={status:"fulfilled",value:b}},function(b){return f[y]={status:"rejected",reason:b}}).then(function(){return--u||i(f)})})})}),st.any&&typeof AggregateError<"u"&&H(Se,"any",function(){var r=Bt.apply(null,arguments).map(Yr);return new Se(function(i,u){r.length===0&&u(new AggregateError([]));var f=r.length,h=new Array(f);r.forEach(function(y,b){return Se.resolve(y).then(function(x){return i(x)},function(x){h[b]=x,--f||u(new AggregateError(h))})})})}),st.withResolvers&&(Se.withResolvers=st.withResolvers));var Mt={awaits:0,echoes:0,id:0},fi=0,Hr=[],Wr=0,zr=0,ds=0;function Nn(r,i,u,f){var h=Re,y=Object.create(h);return y.parent=h,y.ref=0,y.global=!1,y.id=++ds,It.env,y.env=lt?{Promise:Se,PromiseProp:{value:Se,configurable:!0,writable:!0},all:Se.all,race:Se.race,allSettled:Se.allSettled,any:Se.any,resolve:Se.resolve,reject:Se.reject}:{},i&&d(y,i),++h.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()},f=zn(y,r,u,f),y.ref===0&&y.finalize(),f}function sr(){return Mt.id||(Mt.id=++fi),++Mt.awaits,Mt.echoes+=Me,Mt.id}function $n(){return!!Mt.awaits&&(--Mt.awaits==0&&(Mt.id=0),Mt.echoes=Mt.awaits*Me,!0)}function Yr(r){return Mt.echoes&&r&&r.constructor===st?(sr(),r.then(function(i){return $n(),i},function(i){return $n(),Tt(i)})):r}function hs(){var r=Hr[Hr.length-1];Hr.pop(),Bn(r,!1)}function Bn(r,i){var u,f=Re;(i?!Mt.echoes||Wr++&&r===Re:!Wr||--Wr&&r===Re)||queueMicrotask(i?(function(h){++zr,Mt.echoes&&--Mt.echoes!=0||(Mt.echoes=Mt.awaits=Mt.id=0),Hr.push(Re),Bn(h,!0)}).bind(null,r):hs),r!==Re&&(Re=r,f===It&&(It.env=di()),lt&&(u=It.env.Promise,i=r.env,(f.global||r.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),u.all=i.all,u.race=i.race,u.resolve=i.resolve,u.reject=i.reject,i.allSettled&&(u.allSettled=i.allSettled),i.any&&(u.any=i.any))))}function di(){var r=a.Promise;return lt?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function zn(r,i,u,f,h){var y=Re;try{return Bn(r,!0),i(u,f,h)}finally{Bn(y,!1)}}function hi(r,i,u,f){return typeof r!="function"?r:function(){var h=Re;u&&sr(),Bn(i,!0);try{return r.apply(this,arguments)}finally{Bn(h,!1),f&&queueMicrotask($n)}}}function mo(r){Promise===st&&Mt.echoes===0?Wr===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+yn).indexOf("[native code]")===-1&&(sr=$n=S);var Tt=Se.reject,Mn="￿",tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vo="String expected.",fn=[],Gr="__dbnames",ar="readonly",Er="readwrite";function Yn(r,i){return r?i?function(){return r.apply(this,arguments)&&i.apply(this,arguments)}:r:i}var pi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ur(r){return typeof r!="string"||/\./.test(r)?function(i){return i}:function(i){return i[r]===void 0&&r in i&&delete(i=Ne(i))[r],i}}function mi(){throw G.Type()}function at(r,i){try{var u=g(r),f=g(i);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return i<r?1:r<i?-1:0;case"binary":return function(h,y){for(var b=h.length,x=y.length,P=b<x?b:x,O=0;O<P;++O)if(h[O]!==y[O])return h[O]<y[O]?-1:1;return b===x?0:b<x?-1:1}(T(r),T(i));case"Array":return function(h,y){for(var b=h.length,x=y.length,P=b<x?b:x,O=0;O<P;++O){var B=at(h[O],y[O]);if(B!==0)return B}return b===x?0:b<x?-1:1}(r,i)}}catch{}return NaN}function g(r){var i=typeof r;return i!="object"?i:ArrayBuffer.isView(r)?"binary":(r=_t(r),r==="ArrayBuffer"?"binary":r)}function T(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}var w=(A.prototype._trans=function(r,i,u){var f=this._tx||Re.trans,h=this.name,y=ie&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function b(O,B,I){if(!I.schema[h])throw new G.NotFound("Table "+h+" not part of transaction");return i(I.idbtrans,I)}var x=or();try{var P=f&&f.db._novip===this.db._novip?f===Re.trans?f._promise(r,b,u):Nn(function(){return f._promise(r,b,u)},{trans:f,transless:Re.transless||Re}):function O(B,I,F,R){if(B.idbdb&&(B._state.openComplete||Re.letThrough||B._vip)){var $=B._createTransaction(I,F,B._dbSchema);try{$.create(),B._state.PR1398_maxLoop=3}catch(L){return L.name===ee.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return O(B,I,F,R)})):Tt(L)}return $._promise(I,function(L,D){return Nn(function(){return Re.trans=$,R(L,D,$)})}).then(function(L){if(I==="readwrite")try{$.idbtrans.commit()}catch{}return I==="readonly"?L:$._completion.then(function(){return L})})}if(B._state.openComplete)return Tt(new G.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return Tt(new G.DatabaseClosed);B.open().catch(S)}return B._state.dbReadyPromise.then(function(){return O(B,I,F,R)})}(this.db,r,[this.name],b);return y&&(P._consoleTask=y,P=P.catch(function(O){return console.trace(O),Tt(O)})),P}finally{x&&ir()}},A.prototype.get=function(r,i){var u=this;return r&&r.constructor===Object?this.where(r).first(i):r==null?Tt(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:r}).then(function(h){return u.hook.reading.fire(h)})}).then(i)},A.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(l(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var i=c(r);if(i.length===1)return this.where(i[0]).equals(r[i[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&i.every(function(O){return 0<=x.keyPath.indexOf(O)})){for(var P=0;P<i.length;++P)if(i.indexOf(x.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(x,P){return x.keyPath.length-P.keyPath.length})[0];if(u&&this.db._maxKey!==Mn){var y=u.keyPath.slice(0,i.length);return this.where(y).equals(y.map(function(P){return r[P]}))}!u&&ie&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var f=this.schema.idxByName;function h(x,P){return at(x,P)===0}var b=i.reduce(function(I,P){var O=I[0],B=I[1],I=f[P],F=r[P];return[O||I,O||!I?Yn(B,I&&I.multi?function(R){return R=_e(R,P),l(R)&&R.some(function($){return h(F,$)})}:function(R){return h(F,_e(R,P))}):B]},[null,null]),y=b[0],b=b[1];return y?this.where(y.name).equals(r[y.keyPath]).filter(b):u?this.filter(b):this.where(i).equals("")},A.prototype.filter=function(r){return this.toCollection().and(r)},A.prototype.count=function(r){return this.toCollection().count(r)},A.prototype.offset=function(r){return this.toCollection().offset(r)},A.prototype.limit=function(r){return this.toCollection().limit(r)},A.prototype.each=function(r){return this.toCollection().each(r)},A.prototype.toArray=function(r){return this.toCollection().toArray(r)},A.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},A.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,l(r)?"[".concat(r.join("+"),"]"):r))},A.prototype.reverse=function(){return this.toCollection().reverse()},A.prototype.mapToClass=function(r){var i,u=this.db,f=this.name;function h(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof mi&&(function(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function B(){this.constructor=P}n(P,O),P.prototype=O===null?Object.create(O):(B.prototype=O.prototype,new B)}(h,i=r),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},r=h);for(var y=new Set,b=r.prototype;b;b=v(b))Object.getOwnPropertyNames(b).forEach(function(P){return y.add(P)});function x(P){if(!P)return P;var O,B=Object.create(r.prototype);for(O in P)if(!y.has(O))try{B[O]=P[O]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),r},A.prototype.defineClass=function(){return this.mapToClass(function(r){d(this,r)})},A.prototype.add=function(r,i){var u=this,f=this.schema.primKey,h=f.auto,y=f.keyPath,b=r;return y&&h&&(b=ur(y)(r)),this._trans("readwrite",function(x){return u.core.mutate({trans:x,type:"add",keys:i!=null?[i]:null,values:[b]})}).then(function(x){return x.numFailures?Se.reject(x.failures[0]):x.lastResult}).then(function(x){if(y)try{se(r,y,x)}catch{}return x})},A.prototype.update=function(r,i){return typeof r!="object"||l(r)?this.where(":id").equals(r).modify(i):(r=_e(r,this.schema.primKey.keyPath),r===void 0?Tt(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(i))},A.prototype.put=function(r,i){var u=this,f=this.schema.primKey,h=f.auto,y=f.keyPath,b=r;return y&&h&&(b=ur(y)(r)),this._trans("readwrite",function(x){return u.core.mutate({trans:x,type:"put",values:[b],keys:i!=null?[i]:null})}).then(function(x){return x.numFailures?Se.reject(x.failures[0]):x.lastResult}).then(function(x){if(y)try{se(r,y,x)}catch{}return x})},A.prototype.delete=function(r){var i=this;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:[r]})}).then(function(u){return u.numFailures?Se.reject(u.failures[0]):void 0})},A.prototype.clear=function(){var r=this;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"deleteRange",range:pi})}).then(function(i){return i.numFailures?Se.reject(i.failures[0]):void 0})},A.prototype.bulkGet=function(r){var i=this;return this._trans("readonly",function(u){return i.core.getMany({keys:r,trans:u}).then(function(f){return f.map(function(h){return i.hook.reading.fire(h)})})})},A.prototype.bulkAdd=function(r,i,u){var f=this,h=Array.isArray(i)?i:void 0,y=(u=u||(h?void 0:i))?u.allKeys:void 0;return this._trans("readwrite",function(b){var O=f.schema.primKey,x=O.auto,O=O.keyPath;if(O&&h)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==r.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var P=r.length,O=O&&x?r.map(ur(O)):r;return f.core.mutate({trans:b,type:"add",keys:h,values:O,wantResults:y}).then(function($){var I=$.numFailures,F=$.results,R=$.lastResult,$=$.failures;if(I===0)return y?F:R;throw new Rt("".concat(f.name,".bulkAdd(): ").concat(I," of ").concat(P," operations failed"),$)})})},A.prototype.bulkPut=function(r,i,u){var f=this,h=Array.isArray(i)?i:void 0,y=(u=u||(h?void 0:i))?u.allKeys:void 0;return this._trans("readwrite",function(b){var O=f.schema.primKey,x=O.auto,O=O.keyPath;if(O&&h)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==r.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var P=r.length,O=O&&x?r.map(ur(O)):r;return f.core.mutate({trans:b,type:"put",keys:h,values:O,wantResults:y}).then(function($){var I=$.numFailures,F=$.results,R=$.lastResult,$=$.failures;if(I===0)return y?F:R;throw new Rt("".concat(f.name,".bulkPut(): ").concat(I," of ").concat(P," operations failed"),$)})})},A.prototype.bulkUpdate=function(r){var i=this,u=this.core,f=r.map(function(b){return b.key}),h=r.map(function(b){return b.changes}),y=[];return this._trans("readwrite",function(b){return u.getMany({trans:b,keys:f,cache:"clone"}).then(function(x){var P=[],O=[];r.forEach(function(I,F){var R=I.key,$=I.changes,L=x[F];if(L){for(var D=0,U=Object.keys($);D<U.length;D++){var q=U[D],V=$[q];if(q===i.schema.primKey.keyPath){if(at(V,R)!==0)throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else se(L,q,V)}y.push(F),P.push(R),O.push(L)}});var B=P.length;return u.mutate({trans:b,type:"put",keys:P,values:O,updates:{keys:f,changeSpecs:h}}).then(function(I){var F=I.numFailures,R=I.failures;if(F===0)return B;for(var $=0,L=Object.keys(R);$<L.length;$++){var D,U=L[$],q=y[Number(U)];q!=null&&(D=R[U],delete R[U],R[q]=D)}throw new Rt("".concat(i.name,".bulkUpdate(): ").concat(F," of ").concat(B," operations failed"),R)})})})},A.prototype.bulkDelete=function(r){var i=this,u=r.length;return this._trans("readwrite",function(f){return i.core.mutate({trans:f,type:"delete",keys:r})}).then(function(b){var h=b.numFailures,y=b.lastResult,b=b.failures;if(h===0)return y;throw new Rt("".concat(i.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),b)})},A);function A(){}function M(r){function i(b,x){if(x){for(var P=arguments.length,O=new Array(P-1);--P;)O[P-1]=arguments[P];return u[b].subscribe.apply(null,O),r}if(typeof b=="string")return u[b]}var u={};i.addEventType=y;for(var f=1,h=arguments.length;f<h;++f)y(arguments[f]);return i;function y(b,x,P){if(typeof b!="object"){var O;x=x||be;var B={subscribers:[],fire:P=P||S,subscribe:function(I){B.subscribers.indexOf(I)===-1&&(B.subscribers.push(I),B.fire=x(B.fire,I))},unsubscribe:function(I){B.subscribers=B.subscribers.filter(function(F){return F!==I}),B.fire=B.subscribers.reduce(x,P)}};return u[b]=i[b]=B}c(O=b).forEach(function(I){var F=O[I];if(l(F))y(I,O[I][0],O[I][1]);else{if(F!=="asap")throw new G.InvalidArgument("Invalid event config");var R=y(I,E,function(){for(var $=arguments.length,L=new Array($);$--;)L[$]=arguments[$];R.subscribers.forEach(function(D){j(function(){D.apply(null,L)})})})}})}}function k(r,i){return ne(i).from({prototype:r}),i}function X(r,i){return!(r.filter||r.algorithm||r.or)&&(i?r.justLimit:!r.replayFilter)}function ue(r,i){r.filter=Yn(r.filter,i)}function fe(r,i,u){var f=r.replayFilter;r.replayFilter=f?function(){return Yn(f(),i())}:i,r.justLimit=u&&!f}function de(r,i){if(r.isPrimKey)return i.primaryKey;var u=i.getIndexByKeyPath(r.index);if(!u)throw new G.Schema("KeyPath "+r.index+" on object store "+i.name+" is not indexed");return u}function ye(r,i,u){var f=de(r,i.schema);return i.openCursor({trans:u,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:f,range:r.range}})}function $e(r,i,u,f){var h=r.replayFilter?Yn(r.filter,r.replayFilter()):r.filter;if(r.or){var y={},b=function(x,P,O){var B,I;h&&!h(P,O,function(F){return P.stop(F)},function(F){return P.fail(F)})||((I=""+(B=P.primaryKey))=="[object ArrayBuffer]"&&(I=""+new Uint8Array(B)),m(y,I)||(y[I]=!0,i(x,P,O)))};return Promise.all([r.or._iterate(b,u),Ze(ye(r,f,u),r.algorithm,b,!r.keysOnly&&r.valueMapper)])}return Ze(ye(r,f,u),Yn(r.algorithm,h),i,!r.keysOnly&&r.valueMapper)}function Ze(r,i,u,f){var h=St(f?function(y,b,x){return u(f(y),b,x)}:u);return r.then(function(y){if(y)return y.start(function(){var b=function(){return y.continue()};i&&!i(y,function(x){return b=x},function(x){y.stop(x),b=S},function(x){y.fail(x),b=S})||h(y.value,y,function(x){return b=x}),b()})})}var ct=(pt.prototype.execute=function(r){var i=this["@@propmod"];if(i.add!==void 0){var u=i.add;if(l(u))return s(s([],l(r)?r:[],!0),u).sort();if(typeof u=="number")return(Number(r)||0)+u;if(typeof u=="bigint")try{return BigInt(r)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(i.remove!==void 0){var f=i.remove;if(l(f))return l(r)?r.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(r)-f;if(typeof f=="bigint")try{return BigInt(r)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return u=(u=i.replacePrefix)===null||u===void 0?void 0:u[0],u&&typeof r=="string"&&r.startsWith(u)?i.replacePrefix[1]+r.substring(u.length):r},pt);function pt(r){this["@@propmod"]=r}var Pt=(qe.prototype._read=function(r,i){var u=this._ctx;return u.error?u.table._trans(null,Tt.bind(null,u.error)):u.table._trans("readonly",r).then(i)},qe.prototype._write=function(r){var i=this._ctx;return i.error?i.table._trans(null,Tt.bind(null,i.error)):i.table._trans("readwrite",r,"locked")},qe.prototype._addAlgorithm=function(r){var i=this._ctx;i.algorithm=Yn(i.algorithm,r)},qe.prototype._iterate=function(r,i){return $e(this._ctx,r,i,this._ctx.table.core)},qe.prototype.clone=function(r){var i=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return r&&d(u,r),i._ctx=u,i},qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},qe.prototype.each=function(r){var i=this._ctx;return this._read(function(u){return $e(i,r,u,i.table.core)})},qe.prototype.count=function(r){var i=this;return this._read(function(u){var f=i._ctx,h=f.table.core;if(X(f,!0))return h.count({trans:u,query:{index:de(f,h.schema),range:f.range}}).then(function(b){return Math.min(b,f.limit)});var y=0;return $e(f,function(){return++y,!1},u,h).then(function(){return y})}).then(r)},qe.prototype.sortBy=function(r,i){var u=r.split(".").reverse(),f=u[0],h=u.length-1;function y(P,O){return O?y(P[u[O]],O-1):P[f]}var b=this._ctx.dir==="next"?1:-1;function x(P,O){return at(y(P,h),y(O,h))*b}return this.toArray(function(P){return P.sort(x)}).then(i)},qe.prototype.toArray=function(r){var i=this;return this._read(function(u){var f=i._ctx;if(f.dir==="next"&&X(f,!0)&&0<f.limit){var h=f.valueMapper,y=de(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:y,range:f.range}}).then(function(x){return x=x.result,h?x.map(h):x})}var b=[];return $e(f,function(x){return b.push(x)},u,f.table.core).then(function(){return b})},r)},qe.prototype.offset=function(r){var i=this._ctx;return r<=0||(i.offset+=r,X(i)?fe(i,function(){var u=r;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):fe(i,function(){var u=r;return function(){return--u<0}})),this},qe.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),fe(this._ctx,function(){var i=r;return function(u,f,h){return--i<=0&&f(h),0<=i}},!0),this},qe.prototype.until=function(r,i){return ue(this._ctx,function(u,f,h){return!r(u.value)||(f(h),i)}),this},qe.prototype.first=function(r){return this.limit(1).toArray(function(i){return i[0]}).then(r)},qe.prototype.last=function(r){return this.reverse().first(r)},qe.prototype.filter=function(r){var i;return ue(this._ctx,function(u){return r(u.value)}),(i=this._ctx).isMatch=Yn(i.isMatch,r),this},qe.prototype.and=function(r){return this.filter(r)},qe.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qe.prototype.desc=function(){return this.reverse()},qe.prototype.eachKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(u,f){r(f.key,f)})},qe.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},qe.prototype.eachPrimaryKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(u,f){r(f.primaryKey,f)})},qe.prototype.keys=function(r){var i=this._ctx;i.keysOnly=!i.isMatch;var u=[];return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(r)},qe.prototype.primaryKeys=function(r){var i=this._ctx;if(i.dir==="next"&&X(i,!0)&&0<i.limit)return this._read(function(f){var h=de(i,i.table.core.schema);return i.table.core.query({trans:f,values:!1,limit:i.limit,query:{index:h,range:i.range}})}).then(function(f){return f.result}).then(r);i.keysOnly=!i.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(r)},qe.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},qe.prototype.firstKey=function(r){return this.limit(1).keys(function(i){return i[0]}).then(r)},qe.prototype.lastKey=function(r){return this.reverse().firstKey(r)},qe.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var i={};return ue(this._ctx,function(h){var f=h.primaryKey.toString(),h=m(i,f);return i[f]=!0,!h}),this},qe.prototype.modify=function(r){var i=this,u=this._ctx;return this._write(function(f){var h,y,b;b=typeof r=="function"?r:(h=c(r),y=h.length,function(D){for(var U=!1,q=0;q<y;++q){var V=h[q],Z=r[V],pe=_e(D,V);Z instanceof ct?(se(D,V,Z.execute(pe)),U=!0):pe!==Z&&(se(D,V,Z),U=!0)}return U});var x=u.table.core,I=x.schema.primaryKey,P=I.outbound,O=I.extractKey,B=200,I=i.db._options.modifyChunkSize;I&&(B=typeof I=="object"?I[x.name]||I["*"]||200:I);function F(D,V){var q=V.failures,V=V.numFailures;$+=D-V;for(var Z=0,pe=c(q);Z<pe.length;Z++){var xe=pe[Z];R.push(q[xe])}}var R=[],$=0,L=[];return i.clone().primaryKeys().then(function(D){function U(V){var Z=Math.min(B,D.length-V);return x.getMany({trans:f,keys:D.slice(V,V+Z),cache:"immutable"}).then(function(pe){for(var xe=[],me=[],ge=P?[]:null,Pe=[],Ce=0;Ce<Z;++Ce){var De=pe[Ce],Ye={value:Ne(De),primKey:D[V+Ce]};b.call(Ye,Ye.value,Ye)!==!1&&(Ye.value==null?Pe.push(D[V+Ce]):P||at(O(De),O(Ye.value))===0?(me.push(Ye.value),P&&ge.push(D[V+Ce])):(Pe.push(D[V+Ce]),xe.push(Ye.value)))}return Promise.resolve(0<xe.length&&x.mutate({trans:f,type:"add",values:xe}).then(function(rt){for(var ot in rt.failures)Pe.splice(parseInt(ot),1);F(xe.length,rt)})).then(function(){return(0<me.length||q&&typeof r=="object")&&x.mutate({trans:f,type:"put",keys:ge,values:me,criteria:q,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<V}).then(function(rt){return F(me.length,rt)})}).then(function(){return(0<Pe.length||q&&r===Yt)&&x.mutate({trans:f,type:"delete",keys:Pe,criteria:q,isAdditionalChunk:0<V}).then(function(rt){return F(Pe.length,rt)})}).then(function(){return D.length>V+Z&&U(V+B)})})}var q=X(u)&&u.limit===1/0&&(typeof r!="function"||r===Yt)&&{index:u.index,range:u.range};return U(0).then(function(){if(0<R.length)throw new Sn("Error modifying one or more objects",R,$,L);return D.length})})})},qe.prototype.delete=function(){var r=this._ctx,i=r.range;return X(r)&&(r.isPrimKey||i.type===3)?this._write(function(u){var f=r.table.core.schema.primaryKey,h=i;return r.table.core.count({trans:u,query:{index:f,range:h}}).then(function(y){return r.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(b){var x=b.failures;if(b.lastResult,b.results,b=b.numFailures,b)throw new Sn("Could not delete some values",Object.keys(x).map(function(P){return x[P]}),y-b);return y-b})})}):this.modify(Yt)},qe);function qe(){}var Yt=function(r,i){return i.value=null};function Ir(r,i){return r<i?-1:r===i?0:1}function yo(r,i){return i<r?-1:r===i?0:1}function nn(r,i,u){return r=r instanceof _o?new r.Collection(r):r,r._ctx.error=new(u||TypeError)(i),r}function Ln(r){return new r.Collection(r,function(){return vi("")}).limit(0)}function go(r,i,u,f){var h,y,b,x,P,O,B,I=u.length;if(!u.every(function($){return typeof $=="string"}))return nn(r,vo);function F($){h=$==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},y=$==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=$==="next"?Ir:yo;var L=u.map(function(D){return{lower:y(D),upper:h(D)}}).sort(function(D,U){return b(D.lower,U.lower)});x=L.map(function(D){return D.upper}),P=L.map(function(D){return D.lower}),B=(O=$)==="next"?"":f}F("next"),r=new r.Collection(r,function(){return Fn(x[0],P[I-1]+f)}),r._ondirectionchange=function($){F($)};var R=0;return r._addAlgorithm(function($,L,D){var U=$.key;if(typeof U!="string")return!1;var q=y(U);if(i(q,P,R))return!0;for(var V=null,Z=R;Z<I;++Z){var pe=function(xe,me,ge,Pe,Ce,De){for(var Ye=Math.min(xe.length,Pe.length),rt=-1,ot=0;ot<Ye;++ot){var dn=me[ot];if(dn!==Pe[ot])return Ce(xe[ot],ge[ot])<0?xe.substr(0,ot)+ge[ot]+ge.substr(ot+1):Ce(xe[ot],Pe[ot])<0?xe.substr(0,ot)+Pe[ot]+ge.substr(ot+1):0<=rt?xe.substr(0,rt)+me[rt]+ge.substr(rt+1):null;Ce(xe[ot],dn)<0&&(rt=ot)}return Ye<Pe.length&&De==="next"?xe+ge.substr(xe.length):Ye<xe.length&&De==="prev"?xe.substr(0,ge.length):rt<0?null:xe.substr(0,rt)+Pe[rt]+ge.substr(rt+1)}(U,q,x[Z],P[Z],b,O);pe===null&&V===null?R=Z+1:(V===null||0<b(V,pe))&&(V=pe)}return L(V!==null?function(){$.continue(V+B)}:D),!1}),r}function Fn(r,i,u,f){return{type:2,lower:r,upper:i,lowerOpen:u,upperOpen:f}}function vi(r){return{type:1,lower:r,upper:r}}var _o=(Object.defineProperty(qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),qt.prototype.between=function(r,i,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(r,i)||this._cmp(r,i)===0&&(u||f)&&(!u||!f)?Ln(this):new this.Collection(this,function(){return Fn(r,i,!u,!f)})}catch{return nn(this,tn)}},qt.prototype.equals=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return vi(r)})},qt.prototype.above=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(r,void 0,!0)})},qt.prototype.aboveOrEqual=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(r,void 0,!1)})},qt.prototype.below=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(void 0,r,!1,!0)})},qt.prototype.belowOrEqual=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(void 0,r)})},qt.prototype.startsWith=function(r){return typeof r!="string"?nn(this,vo):this.between(r,r+Mn,!0,!0)},qt.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):go(this,function(i,u){return i.indexOf(u[0])===0},[r],Mn)},qt.prototype.equalsIgnoreCase=function(r){return go(this,function(i,u){return i===u[0]},[r],"")},qt.prototype.anyOfIgnoreCase=function(){var r=Bt.apply(Kt,arguments);return r.length===0?Ln(this):go(this,function(i,u){return u.indexOf(i)!==-1},r,"")},qt.prototype.startsWithAnyOfIgnoreCase=function(){var r=Bt.apply(Kt,arguments);return r.length===0?Ln(this):go(this,function(i,u){return u.some(function(f){return i.indexOf(f)===0})},r,Mn)},qt.prototype.anyOf=function(){var r=this,i=Bt.apply(Kt,arguments),u=this._cmp;try{i.sort(u)}catch{return nn(this,tn)}if(i.length===0)return Ln(this);var f=new this.Collection(this,function(){return Fn(i[0],i[i.length-1])});f._ondirectionchange=function(y){u=y==="next"?r._ascending:r._descending,i.sort(u)};var h=0;return f._addAlgorithm(function(y,b,x){for(var P=y.key;0<u(P,i[h]);)if(++h===i.length)return b(x),!1;return u(P,i[h])===0||(b(function(){y.continue(i[h])}),!1)}),f},qt.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},qt.prototype.noneOf=function(){var r=Bt.apply(Kt,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return nn(this,tn)}var i=r.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return i.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},qt.prototype.inAnyRange=function(U,i){var u=this,f=this._cmp,h=this._ascending,y=this._descending,b=this._min,x=this._max;if(U.length===0)return Ln(this);if(!U.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&h(q[0],q[1])<=0}))return nn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var P=!i||i.includeLowers!==!1,O=i&&i.includeUppers===!0,B,I=h;function F(q,V){return I(q[0],V[0])}try{(B=U.reduce(function(q,V){for(var Z=0,pe=q.length;Z<pe;++Z){var xe=q[Z];if(f(V[0],xe[1])<0&&0<f(V[1],xe[0])){xe[0]=b(xe[0],V[0]),xe[1]=x(xe[1],V[1]);break}}return Z===pe&&q.push(V),q},[])).sort(F)}catch{return nn(this,tn)}var R=0,$=O?function(q){return 0<h(q,B[R][1])}:function(q){return 0<=h(q,B[R][1])},L=P?function(q){return 0<y(q,B[R][0])}:function(q){return 0<=y(q,B[R][0])},D=$,U=new this.Collection(this,function(){return Fn(B[0][0],B[B.length-1][1],!P,!O)});return U._ondirectionchange=function(q){I=q==="next"?(D=$,h):(D=L,y),B.sort(F)},U._addAlgorithm(function(q,V,Z){for(var pe,xe=q.key;D(xe);)if(++R===B.length)return V(Z),!1;return!$(pe=xe)&&!L(pe)||(u._cmp(xe,B[R][1])===0||u._cmp(xe,B[R][0])===0||V(function(){I===h?q.continue(B[R][0]):q.continue(B[R][1])}),!1)}),U},qt.prototype.startsWithAnyOf=function(){var r=Bt.apply(Kt,arguments);return r.every(function(i){return typeof i=="string"})?r.length===0?Ln(this):this.inAnyRange(r.map(function(i){return[i,i+Mn]})):nn(this,"startsWithAnyOf() only works with strings")},qt);function qt(){}function jn(r){return St(function(i){return bo(i),r(i.target.error),!1})}function bo(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var wo="storagemutated",ps="x-storagemutated-1",lr=M(null,wo),mf=(Kn.prototype._lock=function(){return re(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},Kn.prototype._unlock=function(){if(re(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{zn(r[1],r[0])}catch{}}return this},Kn.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},Kn.prototype.create=function(r){var i=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(re(!this.idbtrans),!r&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new G.DatabaseClosed(f);case"MissingAPIError":throw new G.MissingAPI(f.message,f);default:throw new G.OpenFailed(f)}if(!this.active)throw new G.TransactionInactive;return re(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=St(function(h){bo(h),i._reject(r.error)}),r.onabort=St(function(h){bo(h),i.active&&i._reject(new G.Abort(r.error)),i.active=!1,i.on("abort").fire(h)}),r.oncomplete=St(function(){i.active=!1,i._resolve(),"mutatedParts"in r&&lr.storagemutated.fire(r.mutatedParts)}),this},Kn.prototype._promise=function(r,i,u){var f=this;if(r==="readwrite"&&this.mode!=="readwrite")return Tt(new G.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new G.TransactionInactive);if(this._locked())return new Se(function(y,b){f._blockedFuncs.push([function(){f._promise(r,i,u).then(y,b)},Re])});if(u)return Nn(function(){var y=new Se(function(b,x){f._lock();var P=i(b,x,f);P&&P.then&&P.then(b,x)});return y.finally(function(){return f._unlock()}),y._lib=!0,y});var h=new Se(function(y,b){var x=i(y,b,f);x&&x.then&&x.then(y,b)});return h._lib=!0,h},Kn.prototype._root=function(){return this.parent?this.parent._root():this},Kn.prototype.waitFor=function(r){var i,u=this._root(),f=Se.resolve(r);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],i=u.idbtrans.objectStore(u.storeNames[0]),function y(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(i.get(-1/0).onsuccess=y)}());var h=u._waitingFor;return new Se(function(y,b){f.then(function(x){return u._waitingQueue.push(St(y.bind(null,x)))},function(x){return u._waitingQueue.push(St(b.bind(null,x)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},Kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},Kn.prototype.table=function(r){var i=this._memoizedTables||(this._memoizedTables={});if(m(i,r))return i[r];var u=this.schema[r];if(!u)throw new G.NotFound("Table "+r+" not part of transaction");return u=new this.db.Table(r,u,this),u.core=this.db.core.table(r),i[r]=u},Kn);function Kn(){}function ms(r,i,u,f,h,y,b){return{name:r,keyPath:i,unique:u,multi:f,auto:h,compound:y,src:(u&&!b?"&":"")+(f?"*":"")+(h?"++":"")+za(i)}}function za(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function vs(r,i,u){return{name:r,primKey:i,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,y,b){return b=f(y,b),b&&(h[b[0]]=b[1]),h},{}))};var f}var So=function(r){try{return r.only([[]]),So=function(){return[[]]},[[]]}catch{return So=function(){return Mn},Mn}};function ys(r){return r==null?function(){}:typeof r=="string"?(i=r).split(".").length===1?function(u){return u[i]}:function(u){return _e(u,i)}:function(u){return _e(u,r)};var i}function Ya(r){return[].slice.call(r)}var vf=0;function Co(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function yf(r,i,P){function f(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var R=D.lower,$=D.upper,L=D.lowerOpen,D=D.upperOpen;return R===void 0?$===void 0?null:i.upperBound($,!!D):$===void 0?i.lowerBound(R,!!L):i.bound(R,$,!!L,!!D)}function h(F){var R,$=F.name;return{name:$,schema:F,mutate:function(L){var D=L.trans,U=L.type,q=L.keys,V=L.values,Z=L.range;return new Promise(function(pe,xe){pe=St(pe);var me=D.objectStore($),ge=me.keyPath==null,Pe=U==="put"||U==="add";if(!Pe&&U!=="delete"&&U!=="deleteRange")throw new Error("Invalid operation type: "+U);var Ce,De=(q||V||{length:1}).length;if(q&&V&&q.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return pe({numFailures:0,failures:{},results:[],lastResult:void 0});function Ye(rn){++dn,bo(rn)}var rt=[],ot=[],dn=0;if(U==="deleteRange"){if(Z.type===4)return pe({numFailures:dn,failures:ot,results:[],lastResult:void 0});Z.type===3?rt.push(Ce=me.clear()):rt.push(Ce=me.delete(f(Z)))}else{var ge=Pe?ge?[V,q]:[V,null]:[q,null],ze=ge[0],Qt=ge[1];if(Pe)for(var Jt=0;Jt<De;++Jt)rt.push(Ce=Qt&&Qt[Jt]!==void 0?me[U](ze[Jt],Qt[Jt]):me[U](ze[Jt])),Ce.onerror=Ye;else for(Jt=0;Jt<De;++Jt)rt.push(Ce=me[U](ze[Jt])),Ce.onerror=Ye}function Pi(rn){rn=rn.target.result,rt.forEach(function(Pr,$s){return Pr.error!=null&&(ot[$s]=Pr.error)}),pe({numFailures:dn,failures:ot,results:U==="delete"?q:rt.map(function(Pr){return Pr.result}),lastResult:rn})}Ce.onerror=function(rn){Ye(rn),Pi(rn)},Ce.onsuccess=Pi})},getMany:function(L){var D=L.trans,U=L.keys;return new Promise(function(q,V){q=St(q);for(var Z,pe=D.objectStore($),xe=U.length,me=new Array(xe),ge=0,Pe=0,Ce=function(rt){rt=rt.target,me[rt._pos]=rt.result,++Pe===ge&&q(me)},De=jn(V),Ye=0;Ye<xe;++Ye)U[Ye]!=null&&((Z=pe.get(U[Ye]))._pos=Ye,Z.onsuccess=Ce,Z.onerror=De,++ge);ge===0&&q(me)})},get:function(L){var D=L.trans,U=L.key;return new Promise(function(q,V){q=St(q);var Z=D.objectStore($).get(U);Z.onsuccess=function(pe){return q(pe.target.result)},Z.onerror=jn(V)})},query:(R=O,function(L){return new Promise(function(D,U){D=St(D);var q,V,Z,ge=L.trans,pe=L.values,xe=L.limit,Ce=L.query,me=xe===1/0?void 0:xe,Pe=Ce.index,Ce=Ce.range,ge=ge.objectStore($),Pe=Pe.isPrimaryKey?ge:ge.index(Pe.name),Ce=f(Ce);if(xe===0)return D({result:[]});R?((me=pe?Pe.getAll(Ce,me):Pe.getAllKeys(Ce,me)).onsuccess=function(De){return D({result:De.target.result})},me.onerror=jn(U)):(q=0,V=!pe&&"openKeyCursor"in Pe?Pe.openKeyCursor(Ce):Pe.openCursor(Ce),Z=[],V.onsuccess=function(De){var Ye=V.result;return Ye?(Z.push(pe?Ye.value:Ye.primaryKey),++q===xe?D({result:Z}):void Ye.continue()):D({result:Z})},V.onerror=jn(U))})}),openCursor:function(L){var D=L.trans,U=L.values,q=L.query,V=L.reverse,Z=L.unique;return new Promise(function(pe,xe){pe=St(pe);var Pe=q.index,me=q.range,ge=D.objectStore($),ge=Pe.isPrimaryKey?ge:ge.index(Pe.name),Pe=V?Z?"prevunique":"prev":Z?"nextunique":"next",Ce=!U&&"openKeyCursor"in ge?ge.openKeyCursor(f(me),Pe):ge.openCursor(f(me),Pe);Ce.onerror=jn(xe),Ce.onsuccess=St(function(De){var Ye,rt,ot,dn,ze=Ce.result;ze?(ze.___id=++vf,ze.done=!1,Ye=ze.continue.bind(ze),rt=(rt=ze.continuePrimaryKey)&&rt.bind(ze),ot=ze.advance.bind(ze),dn=function(){throw new Error("Cursor not stopped")},ze.trans=D,ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=function(){throw new Error("Cursor not started")},ze.fail=St(xe),ze.next=function(){var Qt=this,Jt=1;return this.start(function(){return Jt--?Qt.continue():Qt.stop()}).then(function(){return Qt})},ze.start=function(Qt){function Jt(){if(Ce.result)try{Qt()}catch(rn){ze.fail(rn)}else ze.done=!0,ze.start=function(){throw new Error("Cursor behind last entry")},ze.stop()}var Pi=new Promise(function(rn,Pr){rn=St(rn),Ce.onerror=jn(Pr),ze.fail=Pr,ze.stop=function($s){ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=dn,rn($s)}});return Ce.onsuccess=St(function(rn){Ce.onsuccess=Jt,Jt()}),ze.continue=Ye,ze.continuePrimaryKey=rt,ze.advance=ot,Jt(),Pi},pe(ze)):pe(null)},xe)})},count:function(L){var D=L.query,U=L.trans,q=D.index,V=D.range;return new Promise(function(Z,pe){var xe=U.objectStore($),me=q.isPrimaryKey?xe:xe.index(q.name),xe=f(V),me=xe?me.count(xe):me.count();me.onsuccess=St(function(ge){return Z(ge.target.result)}),me.onerror=jn(pe)})}}}var y,b,x,B=(b=P,x=Ya((y=r).objectStoreNames),{schema:{name:y.name,tables:x.map(function(F){return b.objectStore(F)}).map(function(F){var R=F.keyPath,D=F.autoIncrement,$=l(R),L={},D={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:R==null,compound:$,keyPath:R,autoIncrement:D,unique:!0,extractKey:ys(R)},indexes:Ya(F.indexNames).map(function(U){return F.index(U)}).map(function(Z){var q=Z.name,V=Z.unique,pe=Z.multiEntry,Z=Z.keyPath,pe={name:q,compound:l(Z),keyPath:Z,unique:V,multiEntry:pe,extractKey:ys(Z)};return L[Co(Z)]=pe}),getIndexByKeyPath:function(U){return L[Co(U)]}};return L[":id"]=D.primaryKey,R!=null&&(L[Co(R)]=D.primaryKey),D})},hasGetAll:0<x.length&&"getAll"in b.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),P=B.schema,O=B.hasGetAll,B=P.tables.map(h),I={};return B.forEach(function(F){return I[F.name]=F}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(F){if(!I[F])throw new Error("Table '".concat(F,"' not found"));return I[F]},MIN_KEY:-1/0,MAX_KEY:So(i),schema:P}}function gf(r,i,u,f){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=yf(i,h,f),r.dbcore.reduce(function(y,b){return b=b.create,o(o({},y),b(y))},f))}}function yi(r,f){var u=f.db,f=gf(r._middlewares,u,r._deps,f);r.core=f.dbcore,r.tables.forEach(function(h){var y=h.name;r.core.schema.tables.some(function(b){return b.name===y})&&(h.core=r.core.table(y),r[y]instanceof r.Table&&(r[y].core=h.core))})}function gi(r,i,u,f){u.forEach(function(h){var y=f[h];i.forEach(function(b){var x=function P(O,B){return Ae(O,B)||(O=v(O))&&P(O,B)}(b,h);(!x||"value"in x&&x.value===void 0)&&(b===r.Transaction.prototype||b instanceof r.Transaction?H(b,h,{get:function(){return this.table(h)},set:function(P){C(this,h,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):b[h]=new r.Table(h,y))})})}function gs(r,i){i.forEach(function(u){for(var f in u)u[f]instanceof r.Table&&delete u[f]})}function _f(r,i){return r._cfg.version-i._cfg.version}function bf(r,i,u,f){var h=r._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=vs("$meta",Qa("")[0],[]),r._storeNames.push("$meta"));var y=r._createTransaction("readwrite",r._storeNames,h);y.create(u),y._completion.catch(f);var b=y._reject.bind(y),x=Re.transless||Re;Nn(function(){return Re.trans=y,Re.transless=x,i!==0?(yi(r,u),O=i,((P=y).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(B){return B??O}):Se.resolve(O)).then(function(B){return F=B,R=y,$=u,L=[],B=(I=r)._versions,D=I._dbSchema=bi(0,I.idbdb,$),(B=B.filter(function(U){return U._cfg.version>=F})).length!==0?(B.forEach(function(U){L.push(function(){var q=D,V=U._cfg.dbschema;wi(I,q,$),wi(I,V,$),D=I._dbSchema=V;var Z=_s(q,V);Z.add.forEach(function(Pe){bs($,Pe[0],Pe[1].primKey,Pe[1].indexes)}),Z.change.forEach(function(Pe){if(Pe.recreate)throw new G.Upgrade("Not yet support for changing primary key");var Ce=$.objectStore(Pe.name);Pe.add.forEach(function(De){return _i(Ce,De)}),Pe.change.forEach(function(De){Ce.deleteIndex(De.name),_i(Ce,De)}),Pe.del.forEach(function(De){return Ce.deleteIndex(De)})});var pe=U._cfg.contentUpgrade;if(pe&&U._cfg.version>F){yi(I,$),R._memoizedTables={};var xe=he(V);Z.del.forEach(function(Pe){xe[Pe]=q[Pe]}),gs(I,[I.Transaction.prototype]),gi(I,[I.Transaction.prototype],c(xe),xe),R.schema=xe;var me,ge=Et(pe);return ge&&sr(),Z=Se.follow(function(){var Pe;(me=pe(R))&&ge&&(Pe=$n.bind(null,null),me.then(Pe,Pe))}),me&&typeof me.then=="function"?Se.resolve(me):Z.then(function(){return me})}}),L.push(function(q){var V,Z,pe=U._cfg.dbschema;V=pe,Z=q,[].slice.call(Z.db.objectStoreNames).forEach(function(xe){return V[xe]==null&&Z.db.deleteObjectStore(xe)}),gs(I,[I.Transaction.prototype]),gi(I,[I.Transaction.prototype],I._storeNames,I._dbSchema),R.schema=I._dbSchema}),L.push(function(q){I.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(I.idbdb.version/10)===U._cfg.version?(I.idbdb.deleteObjectStore("$meta"),delete I._dbSchema.$meta,I._storeNames=I._storeNames.filter(function(V){return V!=="$meta"})):q.objectStore("$meta").put(U._cfg.version,"version"))})}),function U(){return L.length?Se.resolve(L.shift()(R.idbtrans)).then(U):Se.resolve()}().then(function(){Ga(D,$)})):Se.resolve();var I,F,R,$,L,D}).catch(b)):(c(h).forEach(function(B){bs(u,B,h[B].primKey,h[B].indexes)}),yi(r,u),void Se.follow(function(){return r.on.populate.fire(y)}).catch(b));var P,O})}function wf(r,i){Ga(r._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var u=bi(0,r.idbdb,i);wi(r,r._dbSchema,i);for(var f=0,h=_s(u,r._dbSchema).change;f<h.length;f++){var y=function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=i.objectStore(b.name);b.add.forEach(function(P){ie&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(P.src)),_i(x,P)})}(h[f]);if(typeof y=="object")return y.value}}function _s(r,i){var u,f={del:[],add:[],change:[]};for(u in r)i[u]||f.del.push(u);for(u in i){var h=r[u],y=i[u];if(h){var b={name:u,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||h.primKey.auto!==y.primKey.auto)b.recreate=!0,f.change.push(b);else{var x=h.idxByName,P=y.idxByName,O=void 0;for(O in x)P[O]||b.del.push(O);for(O in P){var B=x[O],I=P[O];B?B.src!==I.src&&b.change.push(I):b.add.push(I)}(0<b.del.length||0<b.add.length||0<b.change.length)&&f.change.push(b)}}else f.add.push([u,y])}return f}function bs(r,i,u,f){var h=r.db.createObjectStore(i,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(y){return _i(h,y)}),h}function Ga(r,i){c(r).forEach(function(u){i.db.objectStoreNames.contains(u)||(ie&&console.debug("Dexie: Creating missing table",u),bs(i,u,r[u].primKey,r[u].indexes))})}function _i(r,i){r.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function bi(r,i,u){var f={};return Q(i.objectStoreNames,0).forEach(function(h){for(var y=u.objectStore(h),b=ms(za(O=y.keyPath),O||"",!0,!1,!!y.autoIncrement,O&&typeof O!="string",!0),x=[],P=0;P<y.indexNames.length;++P){var B=y.index(y.indexNames[P]),O=B.keyPath,B=ms(B.name,O,!!B.unique,!!B.multiEntry,!1,O&&typeof O!="string",!1);x.push(B)}f[h]=vs(h,b,x)}),f}function wi(r,i,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var y=f[h],b=u.objectStore(y);r._hasGetAll="getAll"in b;for(var x=0;x<b.indexNames.length;++x){var P=b.indexNames[x],O=b.index(P).keyPath,B=typeof O=="string"?O:"["+Q(O).join("+")+"]";!i[y]||(O=i[y].idxByName[B])&&(O.name=P,delete i[y].idxByName[B],i[y].idxByName[P]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Qa(r){return r.split(",").map(function(i,u){var f=(i=i.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return ms(f,h||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),l(h),u===0)})}var Sf=(Si.prototype._parseStoresSpec=function(r,i){c(r).forEach(function(u){if(r[u]!==null){var f=Qa(r[u]),h=f.shift();if(h.unique=!0,h.multi)throw new G.Schema("Primary key cannot be multi-valued");f.forEach(function(y){if(y.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),i[u]=vs(u,h,f)}})},Si.prototype.stores=function(u){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,u):u;var u=i._versions,f={},h={};return u.forEach(function(y){d(f,y._cfg.storesSource),h=y._cfg.dbschema={},y._parseStoresSpec(f,h)}),i._dbSchema=h,gs(i,[i._allTables,i,i.Transaction.prototype]),gi(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],c(h),h),i._storeNames=c(h),this},Si.prototype.upgrade=function(r){return this._cfg.contentUpgrade=ve(this._cfg.contentUpgrade||S,r),this},Si);function Si(){}function ws(r,i){var u=r._dbNamesDB;return u||(u=r._dbNamesDB=new Gn(Gr,{addons:[],indexedDB:r,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Ss(r){return r&&typeof r.databases=="function"}function Cs(r){return Nn(function(){return Re.letThrough=!0,r()})}function xs(r){return!("from"in r)}var Gt=function(r,i){if(!this){var u=new Gt;return r&&"d"in r&&d(u,r),u}d(this,arguments.length?{d:1,from:r,to:1<arguments.length?i:r}:{d:0})};function xo(r,i,u){var f=at(i,u);if(!isNaN(f)){if(0<f)throw RangeError();if(xs(r))return d(r,{from:i,to:u,d:1});var h=r.l,f=r.r;if(at(u,r.from)<0)return h?xo(h,i,u):r.l={from:i,to:u,d:1,l:null,r:null},Xa(r);if(0<at(i,r.to))return f?xo(f,i,u):r.r={from:i,to:u,d:1,l:null,r:null},Xa(r);at(i,r.from)<0&&(r.from=i,r.l=null,r.d=f?f.d+1:1),0<at(u,r.to)&&(r.to=u,r.r=null,r.d=r.l?r.l.d+1:1),u=!r.r,h&&!r.l&&Eo(r,h),f&&u&&Eo(r,f)}}function Eo(r,i){xs(i)||function u(f,P){var y=P.from,b=P.to,x=P.l,P=P.r;xo(f,y,b),x&&u(f,x),P&&u(f,P)}(r,i)}function Ja(r,i){var u=Ci(i),f=u.next();if(f.done)return!1;for(var h=f.value,y=Ci(r),b=y.next(h.from),x=b.value;!f.done&&!b.done;){if(at(x.from,h.to)<=0&&0<=at(x.to,h.from))return!0;at(h.from,x.from)<0?h=(f=u.next(x.from)).value:x=(b=y.next(h.from)).value}return!1}function Ci(r){var i=xs(r)?null:{s:0,n:r};return{next:function(u){for(var f=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,f)for(;i.n.l&&at(u,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!f||at(u,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Xa(r){var i,u,f=(((i=r.r)===null||i===void 0?void 0:i.d)||0)-(((u=r.l)===null||u===void 0?void 0:u.d)||0),h=1<f?"r":f<-1?"l":"";h&&(i=h=="r"?"l":"r",u=o({},r),f=r[h],r.from=f.from,r.to=f.to,r[h]=f[h],u[h]=f[i],(r[i]=u).d=Za(u)),r.d=Za(r)}function Za(u){var i=u.r,u=u.l;return(i?u?Math.max(i.d,u.d):i.d:u?u.d:0)+1}function xi(r,i){return c(i).forEach(function(u){r[u]?Eo(r[u],i[u]):r[u]=function f(h){var y,b,x={};for(y in h)m(h,y)&&(b=h[y],x[y]=!b||typeof b!="object"||Ie.has(b.constructor)?b:f(b));return x}(i[u])}),r}function Es(r,i){return r.all||i.all||Object.keys(r).some(function(u){return i[u]&&Ja(i[u],r[u])})}_(Gt.prototype,((yn={add:function(r){return Eo(this,r),this},addKey:function(r){return xo(this,r,r),this},addKeys:function(r){var i=this;return r.forEach(function(u){return xo(i,u,u)}),this},hasKey:function(r){var i=Ci(this).next(r).value;return i&&at(i.from,r)<=0&&0<=at(i.to,r)}})[it]=function(){return Ci(this)},yn));var Tr={},Is={},Ts=!1;function Ei(r){xi(Is,r),Ts||(Ts=!0,setTimeout(function(){Ts=!1,As(Is,!(Is={}))},0))}function As(r,i){i===void 0&&(i=!1);var u=new Set;if(r.all)for(var f=0,h=Object.values(Tr);f<h.length;f++)eu(b=h[f],r,u,i);else for(var y in r){var b,x=/^idb\:\/\/(.*)\/(.*)\//.exec(y);x&&(y=x[1],x=x[2],(b=Tr["idb://".concat(y,"/").concat(x)])&&eu(b,r,u,i))}u.forEach(function(P){return P()})}function eu(r,i,u,f){for(var h=[],y=0,b=Object.entries(r.queries.query);y<b.length;y++){for(var x=b[y],P=x[0],O=[],B=0,I=x[1];B<I.length;B++){var F=I[B];Es(i,F.obsSet)?F.subscribers.forEach(function(D){return u.add(D)}):f&&O.push(F)}f&&h.push([P,O])}if(f)for(var R=0,$=h;R<$.length;R++){var L=$[R],P=L[0],O=L[1];r.queries.query[P]=O}}function Cf(r){var i=r._state,u=r._deps.indexedDB;if(i.isBeingOpened||r.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Tt(i.dbOpenError):r});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var f=i.openCanceller,h=Math.round(10*r.verno),y=!1;function b(){if(i.openCanceller!==f)throw new G.DatabaseClosed("db.open() was cancelled")}function x(){return new Se(function(F,R){if(b(),!u)throw new G.MissingAPI;var $=r.name,L=i.autoSchema||!h?u.open($):u.open($,h);if(!L)throw new G.MissingAPI;L.onerror=jn(R),L.onblocked=St(r._fireOnBlocked),L.onupgradeneeded=St(function(D){var U;B=L.transaction,i.autoSchema&&!r._options.allowEmptyDB?(L.onerror=bo,B.abort(),L.result.close(),(U=u.deleteDatabase($)).onsuccess=U.onerror=St(function(){R(new G.NoSuchDatabase("Database ".concat($," doesnt exist")))})):(B.onerror=jn(R),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,I=D<1,r.idbdb=L.result,y&&wf(r,B),bf(r,D/10,B,R))},R),L.onsuccess=St(function(){B=null;var D,U,q,V,Z,pe=r.idbdb=L.result,xe=Q(pe.objectStoreNames);if(0<xe.length)try{var me=pe.transaction((V=xe).length===1?V[0]:V,"readonly");if(i.autoSchema)U=pe,q=me,(D=r).verno=U.version/10,q=D._dbSchema=bi(0,U,q),D._storeNames=Q(U.objectStoreNames,0),gi(D,[D._allTables],c(q),q);else if(wi(r,r._dbSchema,me),((Z=_s(bi(0,(Z=r).idbdb,me),Z._dbSchema)).add.length||Z.change.some(function(ge){return ge.add.length||ge.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),pe.close(),h=pe.version+1,y=!0,F(x());yi(r,me)}catch{}fn.push(r),pe.onversionchange=St(function(ge){i.vcFired=!0,r.on("versionchange").fire(ge)}),pe.onclose=St(function(ge){r.on("close").fire(ge)}),I&&(Z=r._deps,me=$,pe=Z.indexedDB,Z=Z.IDBKeyRange,Ss(pe)||me===Gr||ws(pe,Z).put({name:me}).catch(S)),F()},R)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(0<h)return h=0,x()}return Se.reject(F)})}var P,O=i.dbReadyResolve,B=null,I=!1;return Se.race([f,(typeof navigator>"u"?Se.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function R(){return indexedDB.databases().finally(F)}P=setInterval(R,100),R()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(x)]).then(function(){return b(),i.onReadyBeingFired=[],Se.resolve(Cs(function(){return r.on.ready.fire(r.vip)})).then(function F(){if(0<i.onReadyBeingFired.length){var R=i.onReadyBeingFired.reduce(ve,S);return i.onReadyBeingFired=[],Se.resolve(Cs(function(){return R(r.vip)})).then(F)}})}).finally(function(){i.openCanceller===f&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(F){i.dbOpenError=F;try{B&&B.abort()}catch{}return f===i.openCanceller&&r._close(),Tt(F)}).finally(function(){i.openComplete=!0,O()}).then(function(){var F;return I&&(F={},r.tables.forEach(function(R){R.schema.indexes.forEach(function($){$.name&&(F["idb://".concat(r.name,"/").concat(R.name,"/").concat($.name)]=new Gt(-1/0,[[[]]]))}),F["idb://".concat(r.name,"/").concat(R.name,"/")]=F["idb://".concat(r.name,"/").concat(R.name,"/:dels")]=new Gt(-1/0,[[[]]])}),lr(wo).fire(F),As(F,!0)),r})}function Ps(r){function i(y){return r.next(y)}var u=h(i),f=h(function(y){return r.throw(y)});function h(y){return function(P){var x=y(P),P=x.value;return x.done?P:P&&typeof P.then=="function"?P.then(u,f):l(P)?Promise.all(P).then(u,f):u(P)}}return h(i)()}function Ii(r,i,u){for(var f=l(r)?r.slice():[r],h=0;h<u;++h)f.push(i);return f}var xf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return o(o({},r),{table:function(i){var u=r.table(i),f=u.schema,h={},y=[];function b(I,F,R){var $=Co(I),L=h[$]=h[$]||[],D=I==null?0:typeof I=="string"?1:I.length,U=0<F,U=o(o({},R),{name:U?"".concat($,"(virtual-from:").concat(R.name,")"):R.name,lowLevelIndex:R,isVirtual:U,keyTail:F,keyLength:D,extractKey:ys(I),unique:!U&&R.unique});return L.push(U),U.isPrimaryKey||y.push(U),1<D&&b(D===2?I[0]:I.slice(0,D-1),F+1,R),L.sort(function(q,V){return q.keyTail-V.keyTail}),U}i=b(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[i];for(var x=0,P=f.indexes;x<P.length;x++){var O=P[x];b(O.keyPath,0,O)}function B(I){var F,R=I.query.index;return R.isVirtual?o(o({},I),{query:{index:R.lowLevelIndex,range:(F=I.query.range,R=R.keyTail,{type:F.type===1?2:F.type,lower:Ii(F.lower,F.lowerOpen?r.MAX_KEY:r.MIN_KEY,R),lowerOpen:!0,upper:Ii(F.upper,F.upperOpen?r.MIN_KEY:r.MAX_KEY,R),upperOpen:!0})}}):I}return o(o({},u),{schema:o(o({},f),{primaryKey:i,indexes:y,getIndexByKeyPath:function(I){return(I=h[Co(I)])&&I[0]}}),count:function(I){return u.count(B(I))},query:function(I){return u.query(B(I))},openCursor:function(I){var F=I.query.index,R=F.keyTail,$=F.isVirtual,L=F.keyLength;return $?u.openCursor(B(I)).then(function(U){return U&&D(U)}):u.openCursor(I);function D(U){return Object.create(U,{continue:{value:function(q){q!=null?U.continue(Ii(q,I.reverse?r.MAX_KEY:r.MIN_KEY,R)):I.unique?U.continue(U.key.slice(0,L).concat(I.reverse?r.MIN_KEY:r.MAX_KEY,R)):U.continue()}},continuePrimaryKey:{value:function(q,V){U.continuePrimaryKey(Ii(q,r.MAX_KEY,R),V)}},primaryKey:{get:function(){return U.primaryKey}},key:{get:function(){var q=U.key;return L===1?q[0]:q.slice(0,L)}},value:{get:function(){return U.value}}})}}})}})}};function ks(r,i,u,f){return u=u||{},f=f||"",c(r).forEach(function(h){var y,b,x;m(i,h)?(y=r[h],b=i[h],typeof y=="object"&&typeof b=="object"&&y&&b?(x=_t(y))!==_t(b)?u[f+h]=i[h]:x==="Object"?ks(y,b,u,f+h+"."):y!==b&&(u[f+h]=i[h]):y!==b&&(u[f+h]=i[h])):u[f+h]=void 0}),c(i).forEach(function(h){m(r,h)||(u[f+h]=i[h])}),u}function Rs(r,i){return i.type==="delete"?i.keys:i.keys||i.values.map(r.extractKey)}var Ef={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return o(o({},r),{table:function(i){var u=r.table(i),f=u.schema.primaryKey;return o(o({},u),{mutate:function(h){var y=Re.trans,b=y.table(i).hook,x=b.deleting,P=b.creating,O=b.updating;switch(h.type){case"add":if(P.fire===S)break;return y._promise("readwrite",function(){return B(h)},!0);case"put":if(P.fire===S&&O.fire===S)break;return y._promise("readwrite",function(){return B(h)},!0);case"delete":if(x.fire===S)break;return y._promise("readwrite",function(){return B(h)},!0);case"deleteRange":if(x.fire===S)break;return y._promise("readwrite",function(){return function I(F,R,$){return u.query({trans:F,values:!1,query:{index:f,range:R},limit:$}).then(function(L){var D=L.result;return B({type:"delete",keys:D,trans:F}).then(function(U){return 0<U.numFailures?Promise.reject(U.failures[0]):D.length<$?{failures:[],numFailures:0,lastResult:void 0}:I(F,o(o({},R),{lower:D[D.length-1],lowerOpen:!0}),$)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function B(I){var F,R,$,L=Re.trans,D=I.keys||Rs(f,I);if(!D)throw new Error("Keys missing");return(I=I.type==="add"||I.type==="put"?o(o({},I),{keys:D}):o({},I)).type!=="delete"&&(I.values=s([],I.values)),I.keys&&(I.keys=s([],I.keys)),F=u,$=D,((R=I).type==="add"?Promise.resolve([]):F.getMany({trans:R.trans,keys:$,cache:"immutable"})).then(function(U){var q=D.map(function(V,Z){var pe,xe,me,ge=U[Z],Pe={onerror:null,onsuccess:null};return I.type==="delete"?x.fire.call(Pe,V,ge,L):I.type==="add"||ge===void 0?(pe=P.fire.call(Pe,V,I.values[Z],L),V==null&&pe!=null&&(I.keys[Z]=V=pe,f.outbound||se(I.values[Z],f.keyPath,V))):(pe=ks(ge,I.values[Z]),(xe=O.fire.call(Pe,pe,V,ge,L))&&(me=I.values[Z],Object.keys(xe).forEach(function(Ce){m(me,Ce)?me[Ce]=xe[Ce]:se(me,Ce,xe[Ce])}))),Pe});return u.mutate(I).then(function(V){for(var Z=V.failures,pe=V.results,xe=V.numFailures,V=V.lastResult,me=0;me<D.length;++me){var ge=(pe||D)[me],Pe=q[me];ge==null?Pe.onerror&&Pe.onerror(Z[me]):Pe.onsuccess&&Pe.onsuccess(I.type==="put"&&U[me]?I.values[me]:ge)}return{failures:Z,results:pe,numFailures:xe,lastResult:V}}).catch(function(V){return q.forEach(function(Z){return Z.onerror&&Z.onerror(V)}),Promise.reject(V)})})}}})}})}};function tu(r,i,u){try{if(!i||i.keys.length<r.length)return null;for(var f=[],h=0,y=0;h<i.keys.length&&y<r.length;++h)at(i.keys[h],r[y])===0&&(f.push(u?Ne(i.values[h]):i.values[h]),++y);return f.length===r.length?f:null}catch{return null}}var If={stack:"dbcore",level:-1,create:function(r){return{table:function(i){var u=r.table(i);return o(o({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=tu(f.keys,f.trans._cache,f.cache==="clone");return h?Se.resolve(h):u.getMany(f).then(function(y){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Ne(y):y},y})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function nu(r,i){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function ru(r,i){switch(r){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Tf={stack:"dbcore",level:0,name:"Observability",create:function(r){var i=r.schema.name,u=new Gt(r.MIN_KEY,r.MAX_KEY);return o(o({},r),{transaction:function(f,h,y){if(Re.subscr&&h!=="readonly")throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return r.transaction(f,h,y)},table:function(f){var h=r.table(f),y=h.schema,b=y.primaryKey,I=y.indexes,x=b.extractKey,P=b.outbound,O=b.autoIncrement&&I.filter(function(R){return R.compound&&R.keyPath.includes(b.keyPath)}),B=o(o({},h),{mutate:function(R){function $(Ce){return Ce="idb://".concat(i,"/").concat(f,"/").concat(Ce),V[Ce]||(V[Ce]=new Gt)}var L,D,U,q=R.trans,V=R.mutatedParts||(R.mutatedParts={}),Z=$(""),pe=$(":dels"),xe=R.type,Pe=R.type==="deleteRange"?[R.range]:R.type==="delete"?[R.keys]:R.values.length<50?[Rs(b,R).filter(function(Ce){return Ce}),R.values]:[],me=Pe[0],ge=Pe[1],Pe=R.trans._cache;return l(me)?(Z.addKeys(me),(Pe=xe==="delete"||me.length===ge.length?tu(me,Pe):null)||pe.addKeys(me),(Pe||ge)&&(L=$,D=Pe,U=ge,y.indexes.forEach(function(Ce){var De=L(Ce.name||"");function Ye(ot){return ot!=null?Ce.extractKey(ot):null}function rt(ot){return Ce.multiEntry&&l(ot)?ot.forEach(function(dn){return De.addKey(dn)}):De.addKey(ot)}(D||U).forEach(function(ot,Qt){var ze=D&&Ye(D[Qt]),Qt=U&&Ye(U[Qt]);at(ze,Qt)!==0&&(ze!=null&&rt(ze),Qt!=null&&rt(Qt))})}))):me?(ge={from:(ge=me.lower)!==null&&ge!==void 0?ge:r.MIN_KEY,to:(ge=me.upper)!==null&&ge!==void 0?ge:r.MAX_KEY},pe.add(ge),Z.add(ge)):(Z.add(u),pe.add(u),y.indexes.forEach(function(Ce){return $(Ce.name).add(u)})),h.mutate(R).then(function(Ce){return!me||R.type!=="add"&&R.type!=="put"||(Z.addKeys(Ce.results),O&&O.forEach(function(De){for(var Ye=R.values.map(function(ze){return De.extractKey(ze)}),rt=De.keyPath.findIndex(function(ze){return ze===b.keyPath}),ot=0,dn=Ce.results.length;ot<dn;++ot)Ye[ot][rt]=Ce.results[ot];$(De.name).addKeys(Ye)})),q.mutatedParts=xi(q.mutatedParts||{},V),Ce})}}),I=function($){var L=$.query,$=L.index,L=L.range;return[$,new Gt(($=L.lower)!==null&&$!==void 0?$:r.MIN_KEY,(L=L.upper)!==null&&L!==void 0?L:r.MAX_KEY)]},F={get:function(R){return[b,new Gt(R.key)]},getMany:function(R){return[b,new Gt().addKeys(R.keys)]},count:I,query:I,openCursor:I};return c(F).forEach(function(R){B[R]=function($){var L=Re.subscr,D=!!L,U=nu(Re,h)&&ru(R,$)?$.obsSet={}:L;if(D){var q=function(ge){return ge="idb://".concat(i,"/").concat(f,"/").concat(ge),U[ge]||(U[ge]=new Gt)},V=q(""),Z=q(":dels"),L=F[R]($),D=L[0],L=L[1];if((R==="query"&&D.isPrimaryKey&&!$.values?Z:q(D.name||"")).add(L),!D.isPrimaryKey){if(R!=="count"){var pe=R==="query"&&P&&$.values&&h.query(o(o({},$),{values:!1}));return h[R].apply(this,arguments).then(function(ge){if(R==="query"){if(P&&$.values)return pe.then(function(Ye){return Ye=Ye.result,V.addKeys(Ye),ge});var Pe=$.values?ge.result.map(x):ge.result;($.values?V:Z).addKeys(Pe)}else if(R==="openCursor"){var Ce=ge,De=$.values;return Ce&&Object.create(Ce,{key:{get:function(){return Z.addKey(Ce.primaryKey),Ce.key}},primaryKey:{get:function(){var Ye=Ce.primaryKey;return Z.addKey(Ye),Ye}},value:{get:function(){return De&&V.addKey(Ce.primaryKey),Ce.value}}})}return ge})}Z.add(u)}}return h[R].apply(this,arguments)}}),B}})}};function ou(r,i,u){if(u.numFailures===0)return i;if(i.type==="deleteRange")return null;var f=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return u.numFailures===f?null:(i=o({},i),l(i.keys)&&(i.keys=i.keys.filter(function(h,y){return!(y in u.failures)})),"values"in i&&l(i.values)&&(i.values=i.values.filter(function(h,y){return!(y in u.failures)})),i)}function Os(r,i){return u=r,((f=i).lower===void 0||(f.lowerOpen?0<at(u,f.lower):0<=at(u,f.lower)))&&(r=r,(i=i).upper===void 0||(i.upperOpen?at(r,i.upper)<0:at(r,i.upper)<=0));var u,f}function iu(r,i,F,f,h,y){if(!F||F.length===0)return r;var b=i.query.index,x=b.multiEntry,P=i.query.range,O=f.schema.primaryKey.extractKey,B=b.extractKey,I=(b.lowLevelIndex||b).extractKey,F=F.reduce(function(R,$){var L=R,D=[];if($.type==="add"||$.type==="put")for(var U=new Gt,q=$.values.length-1;0<=q;--q){var V,Z=$.values[q],pe=O(Z);U.hasKey(pe)||(V=B(Z),(x&&l(V)?V.some(function(Ce){return Os(Ce,P)}):Os(V,P))&&(U.addKey(pe),D.push(Z)))}switch($.type){case"add":var xe=new Gt().addKeys(i.values?R.map(function(De){return O(De)}):R),L=R.concat(i.values?D.filter(function(De){return De=O(De),!xe.hasKey(De)&&(xe.addKey(De),!0)}):D.map(function(De){return O(De)}).filter(function(De){return!xe.hasKey(De)&&(xe.addKey(De),!0)}));break;case"put":var me=new Gt().addKeys($.values.map(function(De){return O(De)}));L=R.filter(function(De){return!me.hasKey(i.values?O(De):De)}).concat(i.values?D:D.map(function(De){return O(De)}));break;case"delete":var ge=new Gt().addKeys($.keys);L=R.filter(function(De){return!ge.hasKey(i.values?O(De):De)});break;case"deleteRange":var Pe=$.range;L=R.filter(function(De){return!Os(O(De),Pe)})}return L},r);return F===r?r:(F.sort(function(R,$){return at(I(R),I($))||at(O(R),O($))}),i.limit&&i.limit<1/0&&(F.length>i.limit?F.length=i.limit:r.length===i.limit&&F.length<i.limit&&(h.dirty=!0)),y?Object.freeze(F):F)}function su(r,i){return at(r.lower,i.lower)===0&&at(r.upper,i.upper)===0&&!!r.lowerOpen==!!i.lowerOpen&&!!r.upperOpen==!!i.upperOpen}function Af(r,i){return function(u,f,h,y){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=at(u,f))===0){if(h&&y)return 0;if(h)return 1;if(y)return-1}return f}(r.lower,i.lower,r.lowerOpen,i.lowerOpen)<=0&&0<=function(u,f,h,y){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=at(u,f))===0){if(h&&y)return 0;if(h)return-1;if(y)return 1}return f}(r.upper,i.upper,r.upperOpen,i.upperOpen)}function Pf(r,i,u,f){r.subscribers.add(u),f.addEventListener("abort",function(){var h,y;r.subscribers.delete(u),r.subscribers.size===0&&(h=r,y=i,setTimeout(function(){h.subscribers.size===0&&Xe(y,h)},3e3))})}var kf={stack:"dbcore",level:0,name:"Cache",create:function(r){var i=r.schema.name;return o(o({},r),{transaction:function(u,f,h){var y,b,x=r.transaction(u,f,h);return f==="readwrite"&&(b=(y=new AbortController).signal,h=function(P){return function(){if(y.abort(),f==="readwrite"){for(var O=new Set,B=0,I=u;B<I.length;B++){var F=I[B],R=Tr["idb://".concat(i,"/").concat(F)];if(R){var $=r.table(F),L=R.optimisticOps.filter(function(De){return De.trans===x});if(x._explicit&&P&&x.mutatedParts)for(var D=0,U=Object.values(R.queries.query);D<U.length;D++)for(var q=0,V=(xe=U[D]).slice();q<V.length;q++)Es((me=V[q]).obsSet,x.mutatedParts)&&(Xe(xe,me),me.subscribers.forEach(function(De){return O.add(De)}));else if(0<L.length){R.optimisticOps=R.optimisticOps.filter(function(De){return De.trans!==x});for(var Z=0,pe=Object.values(R.queries.query);Z<pe.length;Z++)for(var xe,me,ge,Pe=0,Ce=(xe=pe[Z]).slice();Pe<Ce.length;Pe++)(me=Ce[Pe]).res!=null&&x.mutatedParts&&(P&&!me.dirty?(ge=Object.isFrozen(me.res),ge=iu(me.res,me.req,L,$,me,ge),me.dirty?(Xe(xe,me),me.subscribers.forEach(function(De){return O.add(De)})):ge!==me.res&&(me.res=ge,me.promise=Se.resolve({result:ge}))):(me.dirty&&Xe(xe,me),me.subscribers.forEach(function(De){return O.add(De)})))}}}O.forEach(function(De){return De()})}}},x.addEventListener("abort",h(!1),{signal:b}),x.addEventListener("error",h(!1),{signal:b}),x.addEventListener("complete",h(!0),{signal:b})),x},table:function(u){var f=r.table(u),h=f.schema.primaryKey;return o(o({},f),{mutate:function(y){var b=Re.trans;if(h.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return f.mutate(y);var x=Tr["idb://".concat(i,"/").concat(u)];return x?(b=f.mutate(y),y.type!=="add"&&y.type!=="put"||!(50<=y.values.length||Rs(h,y).some(function(P){return P==null}))?(x.optimisticOps.push(y),y.mutatedParts&&Ei(y.mutatedParts),b.then(function(P){0<P.numFailures&&(Xe(x.optimisticOps,y),(P=ou(0,y,P))&&x.optimisticOps.push(P),y.mutatedParts&&Ei(y.mutatedParts))}),b.catch(function(){Xe(x.optimisticOps,y),y.mutatedParts&&Ei(y.mutatedParts)})):b.then(function(P){var O=ou(0,o(o({},y),{values:y.values.map(function(B,I){var F;return P.failures[I]?B:(B=(F=h.keyPath)!==null&&F!==void 0&&F.includes(".")?Ne(B):o({},B),se(B,h.keyPath,P.results[I]),B)})}),P);x.optimisticOps.push(O),queueMicrotask(function(){return y.mutatedParts&&Ei(y.mutatedParts)})}),b):f.mutate(y)},query:function(y){if(!nu(Re,f)||!ru("query",y))return f.query(y);var b=((O=Re.trans)===null||O===void 0?void 0:O.db._options.cache)==="immutable",I=Re,x=I.requery,P=I.signal,O=function($,L,D,U){var q=Tr["idb://".concat($,"/").concat(L)];if(!q)return[];if(!(L=q.queries[D]))return[null,!1,q,null];var V=L[(U.query?U.query.index.name:null)||""];if(!V)return[null,!1,q,null];switch(D){case"query":var Z=V.find(function(pe){return pe.req.limit===U.limit&&pe.req.values===U.values&&su(pe.req.query.range,U.query.range)});return Z?[Z,!0,q,V]:[V.find(function(pe){return("limit"in pe.req?pe.req.limit:1/0)>=U.limit&&(!U.values||pe.req.values)&&Af(pe.req.query.range,U.query.range)}),!1,q,V];case"count":return Z=V.find(function(pe){return su(pe.req.query.range,U.query.range)}),[Z,!!Z,q,V]}}(i,u,"query",y),B=O[0],I=O[1],F=O[2],R=O[3];return B&&I?B.obsSet=y.obsSet:(I=f.query(y).then(function($){var L=$.result;if(B&&(B.res=L),b){for(var D=0,U=L.length;D<U;++D)Object.freeze(L[D]);Object.freeze(L)}else $.result=Ne(L);return $}).catch(function($){return R&&B&&Xe(R,B),Promise.reject($)}),B={obsSet:y.obsSet,promise:I,subscribers:new Set,type:"query",req:y,dirty:!1},R?R.push(B):(R=[B],(F=F||(Tr["idb://".concat(i,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[y.query.index.name||""]=R)),Pf(B,R,x,P),B.promise.then(function($){return{result:iu($.result,y,F==null?void 0:F.optimisticOps,f,B,b)}})}})}})}};function Ti(r,i){return new Proxy(r,{get:function(u,f,h){return f==="db"?i:Reflect.get(u,f,h)}})}var Gn=(Nt.prototype.version=function(r){if(isNaN(r)||r<.1)throw new G.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var i=this._versions,u=i.filter(function(f){return f._cfg.version===r})[0];return u||(u=new this.Version(r),i.push(u),i.sort(_f),u.stores({}),this._state.autoSchema=!1,u)},Nt.prototype._whenReady=function(r){var i=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?r():new Se(function(u,f){if(i._state.openComplete)return f(new G.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void f(new G.DatabaseClosed);i.open().catch(S)}i._state.dbReadyPromise.then(u,f)}).then(r)},Nt.prototype.use=function(r){var i=r.stack,u=r.create,f=r.level,h=r.name;return h&&this.unuse({stack:i,name:h}),r=this._middlewares[i]||(this._middlewares[i]=[]),r.push({stack:i,create:u,level:f??10,name:h}),r.sort(function(y,b){return y.level-b.level}),this},Nt.prototype.unuse=function(r){var i=r.stack,u=r.name,f=r.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},Nt.prototype.open=function(){var r=this;return zn(It,function(){return Cf(r)})},Nt.prototype._close=function(){var r=this._state,i=fn.indexOf(this);if(0<=i&&fn.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new Se(function(u){r.dbReadyResolve=u}),r.openCanceller=new Se(function(u,f){r.cancelOpen=f}))},Nt.prototype.close=function(u){var i=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;i?(u.isBeingOpened&&u.cancelOpen(new G.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new G.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Nt.prototype.delete=function(r){var i=this;r===void 0&&(r={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new Se(function(h,y){function b(){i.close(r);var x=i._deps.indexedDB.deleteDatabase(i.name);x.onsuccess=St(function(){var P,O,B;P=i._deps,O=i.name,B=P.indexedDB,P=P.IDBKeyRange,Ss(B)||O===Gr||ws(B,P).delete(O).catch(S),h()}),x.onerror=jn(y),x.onblocked=i._fireOnBlocked}if(u)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(b):b()})},Nt.prototype.backendDB=function(){return this.idbdb},Nt.prototype.isOpen=function(){return this.idbdb!==null},Nt.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},Nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nt.prototype,"tables",{get:function(){var r=this;return c(this._allTables).map(function(i){return r._allTables[i]})},enumerable:!1,configurable:!0}),Nt.prototype.transaction=function(){var r=(function(i,u,f){var h=arguments.length;if(h<2)throw new G.InvalidArgument("Too few arguments");for(var y=new Array(h-1);--h;)y[h-1]=arguments[h];return f=y.pop(),[i,we(y),f]}).apply(this,arguments);return this._transaction.apply(this,r)},Nt.prototype._transaction=function(r,i,u){var f=this,h=Re.trans;h&&h.db===this&&r.indexOf("!")===-1||(h=null);var y,b,x=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(b=i.map(function(O){if(O=O instanceof f.Table?O.name:O,typeof O!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return O}),r=="r"||r===ar)y=ar;else{if(r!="rw"&&r!=Er)throw new G.InvalidArgument("Invalid transaction mode: "+r);y=Er}if(h){if(h.mode===ar&&y===Er){if(!x)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&b.forEach(function(O){if(h&&h.storeNames.indexOf(O)===-1){if(!x)throw new G.SubTransaction("Table "+O+" not included in parent transaction.");h=null}}),x&&h&&!h.active&&(h=null)}}catch(O){return h?h._promise(null,function(B,I){I(O)}):Tt(O)}var P=(function O(B,I,F,R,$){return Se.resolve().then(function(){var L=Re.transless||Re,D=B._createTransaction(I,F,B._dbSchema,R);if(D.explicit=!0,L={trans:D,transless:L},R)D.idbtrans=R.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(V){return V.name===ee.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return O(B,I,F,null,$)})):Tt(V)}var U,q=Et($);return q&&sr(),L=Se.follow(function(){var V;(U=$.call(D,D))&&(q?(V=$n.bind(null,null),U.then(V,V)):typeof U.next=="function"&&typeof U.throw=="function"&&(U=Ps(U)))},L),(U&&typeof U.then=="function"?Se.resolve(U).then(function(V){return D.active?V:Tt(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return U})).then(function(V){return R&&D._resolve(),D._completion.then(function(){return V})}).catch(function(V){return D._reject(V),Tt(V)})})}).bind(null,this,y,b,h,u);return h?h._promise(y,P,"lock"):Re.trans?zn(Re.transless,function(){return f._whenReady(P)}):this._whenReady(P)},Nt.prototype.table=function(r){if(!m(this._allTables,r))throw new G.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},Nt);function Nt(r,i){var u=this;this._middlewares={},this.verno=0;var f=Nt.dependencies;this._options=i=o({addons:Nt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},f=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,y,b,x,P,O={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:S,dbReadyPromise:null,cancelOpen:S,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};O.dbReadyPromise=new Se(function(I){O.dbReadyResolve=I}),O.openCanceller=new Se(function(I,F){O.cancelOpen=F}),this._state=O,this.name=r,this.on=M(this,"populate","blocked","versionchange","close",{ready:[ve,S]}),this.on.ready.subscribe=ce(this.on.ready.subscribe,function(I){return function(F,R){Nt.vip(function(){var $,L=u._state;L.openComplete?(L.dbOpenError||Se.resolve().then(F),R&&I(F)):L.onReadyBeingFired?(L.onReadyBeingFired.push(F),R&&I(F)):(I(F),$=u,R||I(function D(){$.on.ready.unsubscribe(F),$.on.ready.unsubscribe(D)}))})}}),this.Collection=(h=this,k(Pt.prototype,function(U,D){this.db=h;var R=pi,$=null;if(D)try{R=D()}catch(q){$=q}var L=U._ctx,D=L.table,U=D.hook.reading.fire;this._ctx={table:D,index:L.index,isPrimKey:!L.index||D.schema.primKey.keyPath&&L.index===D.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:$,or:L.or,valueMapper:U!==E?U:null}})),this.Table=(y=this,k(w.prototype,function(I,F,R){this.db=y,this._tx=R,this.name=I,this.schema=F,this.hook=y._allTables[I]?y._allTables[I].hook:M(null,{creating:[oe,S],reading:[K,E],updating:[Ee,S],deleting:[te,S]})})),this.Transaction=(b=this,k(mf.prototype,function(I,F,R,$,L){var D=this;this.db=b,this.mode=I,this.storeNames=F,this.schema=R,this.chromeTransactionDurability=$,this.idbtrans=null,this.on=M(this,"complete","error","abort"),this.parent=L||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Se(function(U,q){D._resolve=U,D._reject=q}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(U){var q=D.active;return D.active=!1,D.on.error.fire(U),D.parent?D.parent._reject(U):q&&D.idbtrans&&D.idbtrans.abort(),Tt(U)})})),this.Version=(x=this,k(Sf.prototype,function(I){this.db=x,this._cfg={version:I,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,k(_o.prototype,function(I,F,R){if(this.db=P,this._ctx={table:I,index:F===":id"?null:F,or:R},this._cmp=this._ascending=at,this._descending=function($,L){return at(L,$)},this._max=function($,L){return 0<at($,L)?$:L},this._min=function($,L){return at($,L)<0?$:L},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})),this.on("versionchange",function(I){0<I.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(I){!I.newVersion||I.newVersion<I.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(I.oldVersion/10))}),this._maxKey=So(i.IDBKeyRange),this._createTransaction=function(I,F,R,$){return new u.Transaction(I,F,R,u._options.chromeTransactionDurability,$)},this._fireOnBlocked=function(I){u.on("blocked").fire(I),fn.filter(function(F){return F.name===u.name&&F!==u&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(I)})},this.use(If),this.use(kf),this.use(Tf),this.use(xf),this.use(Ef);var B=new Proxy(this,{get:function(I,F,R){if(F==="_vip")return!0;if(F==="table")return function(L){return Ti(u.table(L),B)};var $=Reflect.get(I,F,R);return $ instanceof w?Ti($,B):F==="tables"?$.map(function(L){return Ti(L,B)}):F==="_createTransaction"?function(){return Ti($.apply(this,arguments),B)}:$}});this.vip=B,f.forEach(function(I){return I(u)})}var Ai,yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Rf=(Ds.prototype.subscribe=function(r,i,u){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:i,complete:u})},Ds.prototype[yn]=function(){return this},Ds);function Ds(r){this._subscribe=r}try{Ai={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ai={indexedDB:null,IDBKeyRange:null}}function au(r){var i,u=!1,f=new Rf(function(h){var y=Et(r),b,x=!1,P={},O={},B={get closed(){return x},unsubscribe:function(){x||(x=!0,b&&b.abort(),I&&lr.storagemutated.unsubscribe(R))}};h.start&&h.start(B);var I=!1,F=function(){return mo($)},R=function(L){xi(P,L),Es(O,P)&&F()},$=function(){var L,D,U;!x&&Ai.indexedDB&&(P={},L={},b&&b.abort(),b=new AbortController,U=function(q){var V=or();try{y&&sr();var Z=Nn(r,q);return Z=y?Z.finally($n):Z}finally{V&&ir()}}(D={subscr:L,signal:b.signal,requery:F,querier:r,trans:null}),Promise.resolve(U).then(function(q){u=!0,i=q,x||D.signal.aborted||(P={},function(V){for(var Z in V)if(m(V,Z))return;return 1}(O=L)||I||(lr(wo,R),I=!0),mo(function(){return!x&&h.next&&h.next(q)}))},function(q){u=!1,["DatabaseClosedError","AbortError"].includes(q==null?void 0:q.name)||x||mo(function(){x||h.error&&h.error(q)})}))};return setTimeout(F,0),B});return f.hasValue=function(){return u},f.getValue=function(){return i},f}var Ar=Gn;function Ns(r){var i=cr;try{cr=!0,lr.storagemutated.fire(r),As(r,!0)}finally{cr=i}}_(Ar,o(o({},ft),{delete:function(r){return new Ar(r,{addons:[]}).delete()},exists:function(r){return new Ar(r,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return i=Ar.dependencies,u=i.indexedDB,i=i.IDBKeyRange,(Ss(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Gr})}):ws(u,i).toCollection().primaryKeys()).then(r)}catch{return Tt(new G.MissingAPI)}var i,u},defineClass:function(){return function(r){d(this,r)}},ignoreTransaction:function(r){return Re.trans?zn(Re.transless,r):r()},vip:Cs,async:function(r){return function(){try{var i=Ps(r.apply(this,arguments));return i&&typeof i.then=="function"?i:Se.resolve(i)}catch(u){return Tt(u)}}},spawn:function(r,i,u){try{var f=Ps(r.apply(u,i||[]));return f&&typeof f.then=="function"?f:Se.resolve(f)}catch(h){return Tt(h)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(r,i){return i=Se.resolve(typeof r=="function"?Ar.ignoreTransaction(r):r).timeout(i||6e4),Re.trans?Re.trans.waitFor(i):i},Promise:Se,debug:{get:function(){return ie},set:function(r){Fe(r)}},derive:ne,extend:d,props:_,override:ce,Events:M,on:lr,liveQuery:au,extendObservabilitySet:xi,getByKeyPath:_e,setByKeyPath:se,delByKeyPath:function(r,i){typeof i=="string"?se(r,i,void 0):"length"in i&&[].map.call(i,function(u){se(r,u,void 0)})},shallowClone:he,deepClone:Ne,getObjectDiff:ks,cmp:at,asap:j,minKey:-1/0,addons:[],connections:fn,errnames:ee,dependencies:Ai,cache:Tr,semVer:"4.0.11",version:"4.0.11".split(".").map(function(r){return parseInt(r)}).reduce(function(r,i,u){return r+i/Math.pow(10,2*u)})})),Ar.maxKey=So(Ar.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lr(wo,function(r){cr||(r=new CustomEvent(ps,{detail:r}),cr=!0,dispatchEvent(r),cr=!1)}),addEventListener(ps,function(r){r=r.detail,cr||Ns(r)}));var Qr,cr=!1,uu=function(){};return typeof BroadcastChannel<"u"&&((uu=function(){(Qr=new BroadcastChannel(ps)).onmessage=function(r){return r.data&&Ns(r.data)}})(),typeof Qr.unref=="function"&&Qr.unref(),lr(wo,function(r){cr||Qr.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!Gn.disableBfCache&&r.persisted){ie&&console.debug("Dexie: handling persisted pagehide"),Qr!=null&&Qr.close();for(var i=0,u=fn;i<u.length;i++)u[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!Gn.disableBfCache&&r.persisted&&(ie&&console.debug("Dexie: handling persisted pageshow"),uu(),Ns({all:new Gt(-1/0,[[]])}))})),Se.rejectionMapper=function(r,i){return!r||r instanceof en||r instanceof TypeError||r instanceof SyntaxError||!r.name||!Be[r.name]?r:(i=new Be[r.name](i||r.message,r),"stack"in r&&H(i,"stack",{get:function(){return this.inner.stack}}),i)},Fe(ie),o(Gn,Object.freeze({__proto__:null,Dexie:Gn,liveQuery:au,Entity:mi,cmp:at,PropModification:ct,replacePrefix:function(r,i){return new ct({replacePrefix:[r,i]})},add:function(r){return new ct({add:r})},remove:function(r){return new ct({remove:r})},default:Gn,RangeSet:Gt,mergeRanges:Eo,rangesOverlap:Ja}),{default:Gn}),Gn})}(Fi)),Fi.exports}var Op=Rp();const pa=Gc(Op),tl=Symbol.for("Dexie"),ma=globalThis[tl]||(globalThis[tl]=pa);if(pa.semVer!==ma.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${pa.semVer} and ${ma.semVer}`);class Dp extends ma{constructor(){super("MemoryAppDB");Jr(this,"categories");Jr(this,"themes");Jr(this,"cards");Jr(this,"files");Jr(this,"settings");this.version(1).stores({categories:"id, name, description",themes:"id, categoryId, name, description, isThemeSelected",cards:"id, themeId, front, back, multimediaFront, multimediaBack, level",files:"id",settings:"id, displayName, useDailyNotifications, profilePicture"})}}const Ge=new Dp,zt=[];for(let e=0;e<256;++e)zt.push((e+256).toString(16).slice(1));function Np(e,t=0){return(zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]).toLowerCase()}let Qs;const $p=new Uint8Array(16);function Bp(){if(!Qs){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qs=crypto.getRandomValues.bind(crypto)}return Qs($p)}const Mp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nl={randomUUID:Mp};function ja(e,t,n){var s;if(nl.randomUUID&&!e)return nl.randomUUID();e=e||{};const o=e.random??((s=e.rng)==null?void 0:s.call(e))??Bp();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Np(o)}const Tn=ri("card",()=>{const e=Je([]),t=Je(!1),n=async()=>{try{e.value=await Ge.cards.toArray()}catch(d){console.error("Erreur lors du chargement des cartes : ",d)}t.value=!0};return{cards:e,isLoaded:t,addCardOrUpdateIt:async(d,v,p)=>{if(d.id||(d.id=ja(),d.createdAt=new Date().toISOString()),v){const m=new Blob([await v.arrayBuffer()],{type:v.type});await Ge.files.put({id:`${d.id}-front`,file:m}),d.multimediaFront=`${d.id}-front`}if(p){const m=new Blob([await p.arrayBuffer()],{type:p.type});await Ge.files.put({id:`${d.id}-back`,file:m}),d.multimediaBack=`${d.id}-back`}await Ge.cards.put({...d}),await n()},deleteCardById:async d=>{await Ge.cards.delete(d),await Ge.files.delete(`${d}-front`),await Ge.files.delete(`${d}-back`),await n()},getFileById:async d=>{const v=await Ge.files.get(d);return v?new Blob([v.file],{type:v.file.type}):null},loadCards:n,getCardsByThemeId:d=>e.value.filter(v=>v.themeId===d),getCardsByThemeList:d=>e.value.filter(v=>d.find(p=>p.id===v.themeId&&v.currentLevel<=p.maxLevel))}}),Rn=ri("theme",()=>{const e=Je([]),t=Je(!1),n=async()=>{try{e.value=await Ge.themes.toArray()}catch(_){console.error("Erreur lors du chargement des thèmes : ",_)}t.value=!0};return{themes:e,isLoaded:t,addThemeOrUpdateIt:async _=>{_.id||(_.id=ja(),_.createdAt=new Date().toISOString()),_.lastActivityAt=new Date().toISOString(),await Ge.themes.put({..._}),await n()},loadThemes:n,deleteThemeById:async _=>{await Ge.cards.where("themeId").equals(_).delete(),await Ge.themes.delete(_),await n()},deleteThemeByCategoryId:async _=>{const C=(await Ge.themes.where("categoryId").equals(_).toArray()).map(H=>H.id);await Ge.cards.where("themeId").anyOf(C).delete(),await Ge.themes.where("categoryId").equals(_).delete(),await n()},getThemeById:_=>e.value.find(C=>C.id===_),getThemesByCategoryId:_=>e.value.filter(C=>C.categoryId===_),setThemeSelected:async _=>{const C=await Ge.themes.get(_);C&&(C.isThemeSelected=!0,C.lastActivityAt=new Date().toISOString(),await Ge.themes.put(C),await n())},getSelectedThemes:()=>e.value.filter(_=>_.isThemeSelected),setThemeUnselected:async _=>{const C=await Ge.themes.get(_);C&&(C.isThemeSelected=!1,C.lastActivityAt=new Date().toISOString(),await Ge.themes.put(C),await n())},setLatestActivity:async _=>{const C=await Ge.themes.get(_);C&&(C.lastActivityAt=new Date().toISOString(),await Ge.themes.put(C),await n())}}}),Kr=ri("category",()=>{const e=Je([]),t=Je(!1),n=Rn(),o=async()=>{try{e.value=await Ge.categories.toArray()}catch(l){console.error("Erreur lors du chargement des catégories : ",l)}t.value=!0};return{categories:e,isLoaded:t,addCategory:async l=>{l.id||(l.id=ja()),await Ge.categories.put({...l}),await o()},deleteCategoryById:async l=>{n.getThemesByCategoryId(l).forEach(d=>{n.deleteThemeById(d.id)}),await Ge.categories.delete(l),await o()},loadCategories:o,getCategoryById:async l=>Ge.categories.get(l)}}),oi=()=>{const e=(W,Q=1,ce=2)=>Math.round(Q*Math.pow(ce,W)),t=(W=7,Q=1,ce=2)=>Array.from({length:W},(re,j)=>e(j,Q,ce));Kr();const n=Rn(),o=Tn(),s=W=>new Date(W.getTime()-W.getTimezoneOffset()*6e4).toISOString().slice(0,10),a=(W,Q=2)=>{let ce=new Date;return ce.setDate(ce.getDate()+e(W-1,1,Q)),ce.setHours(0,0,0,0),s(ce)},c=(W,Q)=>{const ce=new Date;if(!W.currentLevel||W.currentLevel>=Q)return!1;if(W.nextReviewAt)return!W.nextReviewAt||new Date(W.nextReviewAt)<=ce},l=W=>{const Q=s(new Date);return W.currentLevel===1&&W.firstReviewedAt&&s(new Date(W.firstReviewedAt))==Q},d=(W,Q)=>{if(W==null&&(W=o.cards),Q&&W.reduce((j,_e)=>l(_e)?j+1:j,0)>=Q)return[];let ce=W.filter(re=>!re.currentLevel);return console.log(ce),!Q||ce.length<=Q?(console.log("here"),ce):Pp(ce).slice(0,Q)},v=(W,Q,ce)=>{let re=[];return re=W.filter(j=>c(j,Q)).sort((j,_e)=>_e.currentLevel-j.currentLevel),re.push(...d(W,ce)),re},p=(W=n.themes,Q=o.cards)=>{let ce=[];return W.forEach(re=>{let j=Q.filter(he=>re.id===he.themeId),_e=j.filter(he=>c(he,re.maxLevel)).sort((he,J)=>J.currentLevel-he.currentLevel),se=d(j,re.newCardsPerDay).length;ce.push({themeId:re.id,cards:_e,newCards:se})}),ce},m=(W=n.themes,Q=o.cards,ce)=>{let re=[];return W.forEach(j=>{let se=Q.filter(we=>j.id===we.themeId).filter(we=>{if(!we.nextReviewAt)return!1;const Ie=new Date(we.nextReviewAt),ae=new Date;switch(Ie.setHours(0,0,0,0),ae.setHours(0,0,0,0),ce){case"past":return c(we,j.maxLevel)&&Ie<ae;case"today":return c(we,j.maxLevel)&&Ie==ae;case"future":return Ie>ae;default:return!0}}).sort((we,Ie)=>Ie.currentLevel-we.currentLevel);const he=d(null,j.newCardsPerDay).length;let J=ce=="today"?he:0;(se.length||J)&&re.push({themeId:j.id,cards:se,newCards:J})}),re},_=async(W,Q,ce=1)=>{let re=Tn();const j=new Date;if(W.lastReviewedAt=j.toISOString(),W.firstReviewedAt||(W.firstReviewedAt=j.toISOString()),W.currentLevel=ce>0?Math.min((W.currentLevel??0)+ce,Q):Math.max((W.currentLevel??0)+ce,1),W.currentLevel>=Q){W.nextReviewAt=void 0;return}W.nextReviewAt=a(W.currentLevel),await re.addCardOrUpdateIt(W)};return{reviewInterval:e,generateReviewInterval:t,getCardsToPractice:v,promoteCard:(W,Q)=>_(W,Q,1),demoteCard:(W,Q)=>_(W,Q,-1),resetCardLevel:async W=>{let Q=Tn();W.currentLevel=0,W.nextReviewAt=void 0,W.lastReviewedAt=void 0,W.firstReviewedAt=void 0,await Q.addCardOrUpdateIt(W)},getCardsToPracticeTodayByTheme:p,getCardCountToPracticeToday:()=>p().reduce((W,Q)=>W+Q.cards.length+Q.newCards,0),getThemesToPracticeByPeriod:m}},rl="/Projet-Memory/assets/mariannepray-csTYKolm.png",ii=ri("files",()=>{const e=Je(!1),t=Je([]),n=async()=>{try{t.value=await Ge.files.toArray()}catch(l){console.error("Erreur lors du chargement des cartes : ",l)}e.value=!0},o=async(l,d)=>{const v=new Blob([await d.arrayBuffer()],{type:d.type});await Ge.files.put({id:l,file:v}),await n()},s=async l=>{await Ge.files.delete({id:l})},a=l=>t.value.find(d=>d.id==l);return{loadFiles:n,files:t,addFile:o,deleteFileById:s,getFileById:a,isLoaded:e,getFileURLById:l=>{const d=a(l);return d!=null&&d.file?URL.createObjectURL(d.file):""}}}),si=ri("settings",()=>{const e=ii(),t=Je(),n=Je(!1),o=async()=>{e.isLoaded||await e.loadFiles();try{t.value=(await Ge.settings.toArray())[0],t.value||await s()}catch(l){console.error("Erreur lors du chargement des paramètres : ",l)}n.value=!0},s=async()=>{let l={id:"1",displayName:"",useDailyNotification:!0,profilePicture:"",lastNotificationDate:""};await Ge.settings.put(l),await o()};return{settings:t,loadSettings:o,updateSettings:async(l,d)=>{d&&(await e.addFile("profile-picture",d),l.profilePicture="profile-picture"),await Ge.settings.put({id:"1",displayName:l.displayName,useDailyNotification:l.useDailyNotification,profilePicture:l.profilePicture,lastNotificationDate:l.lastNotificationDate}),await o()},setLastNotificationDate:async l=>{if(!t.value){console.error("Settings non chargées");return}t.value.lastNotificationDate=l,await Ge.settings.put({id:"1",displayName:t.value.displayName,useDailyNotification:t.value.useDailyNotification,profilePicture:t.value.profilePicture,lastNotificationDate:l})}}});function Qc(){const e=si(),t=Qe(()=>e.settings),n=()=>{var d;if(!t.value||((d=t.value)==null?void 0:d.useDailyNotification)===!1)return!1;const c=t.value.lastNotificationDate,l=new Date().toISOString().split("T")[0];return c===l?(console.log("Notification déjà envoyée aujourd'hui"),!1):!0},o=async()=>"Notification"in window?await Notification.requestPermission()==="granted":(console.error("Notifications non supportées par ce navigateur."),!1),s=async()=>{if(await Notification.requestPermission()!=="granted"){console.log("Permission refusée");return}await e.setLastNotificationDate(new Date().toISOString().split("T")[0]);const l=oi().getCardCountToPracticeToday(),d=a(l);"serviceWorker"in navigator&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Memory App",body:d,icon:rl}}):new Notification("Memory App",{body:d,icon:rl})},a=c=>c?`La révision du jour est disponible !
Vous avez ${c} cartes à réviser aujourd'hui.
Cliquez sur cette notification pour commencer !`:"Tout est bon ! Aucune carte à réviser aujourd'hui !";return{requestNotificationPermission:o,notifyUser:s,generatePracticeMessage:a,isNotificationSendable:n}}const Lp=dt({__name:"App",setup(e){const{requestNotificationPermission:t,notifyUser:n,isNotificationSendable:o}=Qc();return jr(async()=>{await t()&&setTimeout(()=>{o()&&n()},5e3)}),(s,a)=>{const c=os("router-view");return z(),mt(c)}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const to=typeof document<"u";function Jc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Fp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Jc(e.default)}const vt=Object.assign;function Js(e,t){const n={};for(const o in t){const s=t[o];n[o]=kn(s)?s.map(e):e(s)}return n}const Mo=()=>{},kn=Array.isArray,Xc=/#/g,jp=/&/g,Kp=/\//g,Up=/=/g,qp=/\?/g,Zc=/\+/g,Vp=/%5B/g,Hp=/%5D/g,ef=/%5E/g,Wp=/%60/g,tf=/%7B/g,zp=/%7C/g,nf=/%7D/g,Yp=/%20/g;function Ka(e){return encodeURI(""+e).replace(zp,"|").replace(Vp,"[").replace(Hp,"]")}function Gp(e){return Ka(e).replace(tf,"{").replace(nf,"}").replace(ef,"^")}function va(e){return Ka(e).replace(Zc,"%2B").replace(Yp,"+").replace(Xc,"%23").replace(jp,"%26").replace(Wp,"`").replace(tf,"{").replace(nf,"}").replace(ef,"^")}function Qp(e){return va(e).replace(Up,"%3D")}function Jp(e){return Ka(e).replace(Xc,"%23").replace(qp,"%3F")}function Xp(e){return e==null?"":Jp(e).replace(Kp,"%2F")}function Yo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Zp=/\/$/,em=e=>e.replace(Zp,"");function Xs(e,t,n="/"){let o,s={},a="",c="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(o=t.slice(0,d),a=t.slice(d+1,l>-1?l:t.length),s=e(a)),l>-1&&(o=o||t.slice(0,l),c=t.slice(l,t.length)),o=om(o??t,n),{fullPath:o+(a&&"?")+a+c,path:o,query:s,hash:Yo(c)}}function tm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ol(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nm(e,t,n){const o=t.matched.length-1,s=n.matched.length-1;return o>-1&&o===s&&uo(t.matched[o],n.matched[s])&&rf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function uo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rm(e[n],t[n]))return!1;return!0}function rm(e,t){return kn(e)?il(e,t):kn(t)?il(t,e):e===t}function il(e,t){return kn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function om(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),s=o[o.length-1];(s===".."||s===".")&&o.push("");let a=n.length-1,c,l;for(c=0;c<o.length;c++)if(l=o[c],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+o.slice(c).join("/")}const dr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Go;(function(e){e.pop="pop",e.push="push"})(Go||(Go={}));var Lo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Lo||(Lo={}));function im(e){if(!e)if(to){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),em(e)}const sm=/^[^#]+#/;function am(e,t){return e.replace(sm,"#")+t}function um(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const ls=()=>({left:window.scrollX,top:window.scrollY});function lm(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=um(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sl(e,t){return(history.state?history.state.position-t:-1)+e}const ya=new Map;function cm(e,t){ya.set(e,t)}function fm(e){const t=ya.get(e);return ya.delete(e),t}let dm=()=>location.protocol+"//"+location.host;function of(e,t){const{pathname:n,search:o,hash:s}=t,a=e.indexOf("#");if(a>-1){let l=s.includes(e.slice(a))?e.slice(a).length:1,d=s.slice(l);return d[0]!=="/"&&(d="/"+d),ol(d,"")}return ol(n,e)+o+s}function hm(e,t,n,o){let s=[],a=[],c=null;const l=({state:_})=>{const C=of(e,location),H=n.value,ne=t.value;let Ae=0;if(_){if(n.value=C,t.value=_,c&&c===H){c=null;return}Ae=ne?_.position-ne.position:0}else o(C);s.forEach(W=>{W(n.value,H,{delta:Ae,type:Go.pop,direction:Ae?Ae>0?Lo.forward:Lo.back:Lo.unknown})})};function d(){c=n.value}function v(_){s.push(_);const C=()=>{const H=s.indexOf(_);H>-1&&s.splice(H,1)};return a.push(C),C}function p(){const{history:_}=window;_.state&&_.replaceState(vt({},_.state,{scroll:ls()}),"")}function m(){for(const _ of a)_();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:d,listen:v,destroy:m}}function al(e,t,n,o=!1,s=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:s?ls():null}}function pm(e){const{history:t,location:n}=window,o={value:of(e,n)},s={value:t.state};s.value||a(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(d,v,p){const m=e.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+d:dm()+e+d;try{t[p?"replaceState":"pushState"](v,"",_),s.value=v}catch(C){console.error(C),n[p?"replace":"assign"](_)}}function c(d,v){const p=vt({},t.state,al(s.value.back,d,s.value.forward,!0),v,{position:s.value.position});a(d,p,!0),o.value=d}function l(d,v){const p=vt({},s.value,t.state,{forward:d,scroll:ls()});a(p.current,p,!0);const m=vt({},al(o.value,d,null),{position:p.position+1},v);a(d,m,!1),o.value=d}return{location:o,state:s,push:l,replace:c}}function mm(e){e=im(e);const t=pm(e),n=hm(e,t.state,t.location,t.replace);function o(a,c=!0){c||n.pauseListeners(),history.go(a)}const s=vt({location:"",base:e,go:o,createHref:am.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function vm(e){return typeof e=="string"||e&&typeof e=="object"}function sf(e){return typeof e=="string"||typeof e=="symbol"}const af=Symbol("");var ul;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ul||(ul={}));function lo(e,t){return vt(new Error,{type:e,[af]:!0},t)}function Xn(e,t){return e instanceof Error&&af in e&&(t==null||!!(e.type&t))}const ll="[^/]+?",ym={sensitive:!1,strict:!1,start:!0,end:!0},gm=/[.+*?^${}()[\]/\\]/g;function _m(e,t){const n=vt({},ym,t),o=[];let s=n.start?"^":"";const a=[];for(const v of e){const p=v.length?[]:[90];n.strict&&!v.length&&(s+="/");for(let m=0;m<v.length;m++){const _=v[m];let C=40+(n.sensitive?.25:0);if(_.type===0)m||(s+="/"),s+=_.value.replace(gm,"\\$&"),C+=40;else if(_.type===1){const{value:H,repeatable:ne,optional:Ae,regexp:W}=_;a.push({name:H,repeatable:ne,optional:Ae});const Q=W||ll;if(Q!==ll){C+=10;try{new RegExp(`(${Q})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${H}" (${Q}): `+re.message)}}let ce=ne?`((?:${Q})(?:/(?:${Q}))*)`:`(${Q})`;m||(ce=Ae&&v.length<2?`(?:/${ce})`:"/"+ce),Ae&&(ce+="?"),s+=ce,C+=20,Ae&&(C+=-8),ne&&(C+=-20),Q===".*"&&(C+=-50)}p.push(C)}o.push(p)}if(n.strict&&n.end){const v=o.length-1;o[v][o[v].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const c=new RegExp(s,n.sensitive?"":"i");function l(v){const p=v.match(c),m={};if(!p)return null;for(let _=1;_<p.length;_++){const C=p[_]||"",H=a[_-1];m[H.name]=C&&H.repeatable?C.split("/"):C}return m}function d(v){let p="",m=!1;for(const _ of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const C of _)if(C.type===0)p+=C.value;else if(C.type===1){const{value:H,repeatable:ne,optional:Ae}=C,W=H in v?v[H]:"";if(kn(W)&&!ne)throw new Error(`Provided param "${H}" is an array but it is not repeatable (* or + modifiers)`);const Q=kn(W)?W.join("/"):W;if(!Q)if(Ae)_.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${H}"`);p+=Q}}return p||"/"}return{re:c,score:o,keys:a,parse:l,stringify:d}}function bm(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function uf(e,t){let n=0;const o=e.score,s=t.score;for(;n<o.length&&n<s.length;){const a=bm(o[n],s[n]);if(a)return a;n++}if(Math.abs(s.length-o.length)===1){if(cl(o))return 1;if(cl(s))return-1}return s.length-o.length}function cl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wm={type:0,value:""},Sm=/[a-zA-Z0-9_]/;function Cm(e){if(!e)return[[]];if(e==="/")return[[wm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${n})/"${v}": ${C}`)}let n=0,o=n;const s=[];let a;function c(){a&&s.push(a),a=[]}let l=0,d,v="",p="";function m(){v&&(n===0?a.push({type:0,value:v}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:v,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),v="")}function _(){v+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:d==="/"?(v&&m(),c()):d===":"?(m(),n=1):_();break;case 4:_(),n=o;break;case 1:d==="("?n=2:Sm.test(d)?_():(m(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:n=3:p+=d;break;case 3:m(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${v}"`),m(),c(),s}function xm(e,t,n){const o=_m(Cm(e.path),n),s=vt(o,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Em(e,t){const n=[],o=new Map;t=pl({strict:!1,end:!0,sensitive:!1},t);function s(m){return o.get(m)}function a(m,_,C){const H=!C,ne=dl(m);ne.aliasOf=C&&C.record;const Ae=pl(t,m),W=[ne];if("alias"in m){const re=typeof m.alias=="string"?[m.alias]:m.alias;for(const j of re)W.push(dl(vt({},ne,{components:C?C.record.components:ne.components,path:j,aliasOf:C?C.record:ne})))}let Q,ce;for(const re of W){const{path:j}=re;if(_&&j[0]!=="/"){const _e=_.record.path,se=_e[_e.length-1]==="/"?"":"/";re.path=_.record.path+(j&&se+j)}if(Q=xm(re,_,Ae),C?C.alias.push(Q):(ce=ce||Q,ce!==Q&&ce.alias.push(Q),H&&m.name&&!hl(Q)&&c(m.name)),lf(Q)&&d(Q),ne.children){const _e=ne.children;for(let se=0;se<_e.length;se++)a(_e[se],Q,C&&C.children[se])}C=C||Q}return ce?()=>{c(ce)}:Mo}function c(m){if(sf(m)){const _=o.get(m);_&&(o.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(c),_.alias.forEach(c))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&o.delete(m.record.name),m.children.forEach(c),m.alias.forEach(c))}}function l(){return n}function d(m){const _=Am(m,n);n.splice(_,0,m),m.record.name&&!hl(m)&&o.set(m.record.name,m)}function v(m,_){let C,H={},ne,Ae;if("name"in m&&m.name){if(C=o.get(m.name),!C)throw lo(1,{location:m});Ae=C.record.name,H=vt(fl(_.params,C.keys.filter(ce=>!ce.optional).concat(C.parent?C.parent.keys.filter(ce=>ce.optional):[]).map(ce=>ce.name)),m.params&&fl(m.params,C.keys.map(ce=>ce.name))),ne=C.stringify(H)}else if(m.path!=null)ne=m.path,C=n.find(ce=>ce.re.test(ne)),C&&(H=C.parse(ne),Ae=C.record.name);else{if(C=_.name?o.get(_.name):n.find(ce=>ce.re.test(_.path)),!C)throw lo(1,{location:m,currentLocation:_});Ae=C.record.name,H=vt({},_.params,m.params),ne=C.stringify(H)}const W=[];let Q=C;for(;Q;)W.unshift(Q.record),Q=Q.parent;return{name:Ae,path:ne,params:H,matched:W,meta:Tm(W)}}e.forEach(m=>a(m));function p(){n.length=0,o.clear()}return{addRoute:a,resolve:v,removeRoute:c,clearRoutes:p,getRoutes:l,getRecordMatcher:s}}function fl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function dl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Im(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Im(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function hl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Tm(e){return e.reduce((t,n)=>vt(t,n.meta),{})}function pl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Am(e,t){let n=0,o=t.length;for(;n!==o;){const a=n+o>>1;uf(e,t[a])<0?o=a:n=a+1}const s=Pm(e);return s&&(o=t.lastIndexOf(s,o-1)),o}function Pm(e){let t=e;for(;t=t.parent;)if(lf(t)&&uf(e,t)===0)return t}function lf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function km(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<o.length;++s){const a=o[s].replace(Zc," "),c=a.indexOf("="),l=Yo(c<0?a:a.slice(0,c)),d=c<0?null:Yo(a.slice(c+1));if(l in t){let v=t[l];kn(v)||(v=t[l]=[v]),v.push(d)}else t[l]=d}return t}function ml(e){let t="";for(let n in e){const o=e[n];if(n=Qp(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(kn(o)?o.map(a=>a&&va(a)):[o&&va(o)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Rm(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=kn(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return t}const Om=Symbol(""),vl=Symbol(""),Ua=Symbol(""),qa=Symbol(""),ga=Symbol("");function Ao(){let e=[];function t(o){return e.push(o),()=>{const s=e.indexOf(o);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function yr(e,t,n,o,s,a=c=>c()){const c=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((l,d)=>{const v=_=>{_===!1?d(lo(4,{from:n,to:t})):_ instanceof Error?d(_):vm(_)?d(lo(2,{from:t,to:_})):(c&&o.enterCallbacks[s]===c&&typeof _=="function"&&c.push(_),l())},p=a(()=>e.call(o&&o.instances[s],t,n,v));let m=Promise.resolve(p);e.length<3&&(m=m.then(v)),m.catch(_=>d(_))})}function Zs(e,t,n,o,s=a=>a()){const a=[];for(const c of e)for(const l in c.components){let d=c.components[l];if(!(t!=="beforeRouteEnter"&&!c.instances[l]))if(Jc(d)){const p=(d.__vccOpts||d)[t];p&&a.push(yr(p,n,o,c,l,s))}else{let v=d();a.push(()=>v.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${c.path}"`);const m=Fp(p)?p.default:p;c.mods[l]=p,c.components[l]=m;const C=(m.__vccOpts||m)[t];return C&&yr(C,n,o,c,l,s)()}))}}return a}function yl(e){const t=En(Ua),n=En(qa),o=Qe(()=>{const d=et(e.to);return t.resolve(d)}),s=Qe(()=>{const{matched:d}=o.value,{length:v}=d,p=d[v-1],m=n.matched;if(!p||!m.length)return-1;const _=m.findIndex(uo.bind(null,p));if(_>-1)return _;const C=gl(d[v-2]);return v>1&&gl(p)===C&&m[m.length-1].path!==C?m.findIndex(uo.bind(null,d[v-2])):_}),a=Qe(()=>s.value>-1&&Mm(n.params,o.value.params)),c=Qe(()=>s.value>-1&&s.value===n.matched.length-1&&rf(n.params,o.value.params));function l(d={}){if(Bm(d)){const v=t[et(e.replace)?"replace":"push"](et(e.to)).catch(Mo);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>v),v}return Promise.resolve()}return{route:o,href:Qe(()=>o.value.href),isActive:a,isExactActive:c,navigate:l}}function Dm(e){return e.length===1?e[0]:e}const Nm=dt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yl,setup(e,{slots:t}){const n=ei(yl(e)),{options:o}=En(Ua),s=Qe(()=>({[_l(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[_l(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Dm(t.default(n));return e.custom?a:La("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},a)}}}),$m=Nm;function Bm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mm(e,t){for(const n in t){const o=t[n],s=e[n];if(typeof o=="string"){if(o!==s)return!1}else if(!kn(s)||s.length!==o.length||o.some((a,c)=>a!==s[c]))return!1}return!0}function gl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _l=(e,t,n)=>e??t??n,Lm=dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=En(ga),s=Qe(()=>e.route||o.value),a=En(vl,0),c=Qe(()=>{let v=et(a);const{matched:p}=s.value;let m;for(;(m=p[v])&&!m.components;)v++;return v}),l=Qe(()=>s.value.matched[c.value]);Bi(vl,Qe(()=>c.value+1)),Bi(Om,l),Bi(ga,s);const d=Je();return Wn(()=>[d.value,l.value,e.name],([v,p,m],[_,C,H])=>{p&&(p.instances[m]=v,C&&C!==p&&v&&v===_&&(p.leaveGuards.size||(p.leaveGuards=C.leaveGuards),p.updateGuards.size||(p.updateGuards=C.updateGuards))),v&&p&&(!C||!uo(p,C)||!_)&&(p.enterCallbacks[m]||[]).forEach(ne=>ne(v))},{flush:"post"}),()=>{const v=s.value,p=e.name,m=l.value,_=m&&m.components[p];if(!_)return bl(n.default,{Component:_,route:v});const C=m.props[p],H=C?C===!0?v.params:typeof C=="function"?C(v):C:null,Ae=La(_,vt({},H,t,{onVnodeUnmounted:W=>{W.component.isUnmounted&&(m.instances[p]=null)},ref:d}));return bl(n.default,{Component:Ae,route:v})||Ae}}});function bl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fm=Lm;function jm(e){const t=Em(e.routes,e),n=e.parseQuery||km,o=e.stringifyQuery||ml,s=e.history,a=Ao(),c=Ao(),l=Ao(),d=hd(dr);let v=dr;to&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Js.bind(null,ee=>""+ee),m=Js.bind(null,Xp),_=Js.bind(null,Yo);function C(ee,Oe){let G,Be;return sf(ee)?(G=t.getRecordMatcher(ee),Be=Oe):Be=ee,t.addRoute(Be,G)}function H(ee){const Oe=t.getRecordMatcher(ee);Oe&&t.removeRoute(Oe)}function ne(){return t.getRoutes().map(ee=>ee.record)}function Ae(ee){return!!t.getRecordMatcher(ee)}function W(ee,Oe){if(Oe=vt({},Oe||d.value),typeof ee=="string"){const K=Xs(n,ee,Oe.path),Y=t.resolve({path:K.path},Oe),oe=s.createHref(K.fullPath);return vt(K,Y,{params:_(Y.params),hash:Yo(K.hash),redirectedFrom:void 0,href:oe})}let G;if(ee.path!=null)G=vt({},ee,{path:Xs(n,ee.path,Oe.path).path});else{const K=vt({},ee.params);for(const Y in K)K[Y]==null&&delete K[Y];G=vt({},ee,{params:m(K)}),Oe.params=m(Oe.params)}const Be=t.resolve(G,Oe),ft=ee.hash||"";Be.params=p(_(Be.params));const S=tm(o,vt({},ee,{hash:Gp(ft),path:Be.path})),E=s.createHref(S);return vt({fullPath:S,hash:ft,query:o===ml?Rm(ee.query):ee.query||{}},Be,{redirectedFrom:void 0,href:E})}function Q(ee){return typeof ee=="string"?Xs(n,ee,d.value.path):vt({},ee)}function ce(ee,Oe){if(v!==ee)return lo(8,{from:Oe,to:ee})}function re(ee){return se(ee)}function j(ee){return re(vt(Q(ee),{replace:!0}))}function _e(ee){const Oe=ee.matched[ee.matched.length-1];if(Oe&&Oe.redirect){const{redirect:G}=Oe;let Be=typeof G=="function"?G(ee):G;return typeof Be=="string"&&(Be=Be.includes("?")||Be.includes("#")?Be=Q(Be):{path:Be},Be.params={}),vt({query:ee.query,hash:ee.hash,params:Be.path!=null?{}:ee.params},Be)}}function se(ee,Oe){const G=v=W(ee),Be=d.value,ft=ee.state,S=ee.force,E=ee.replace===!0,K=_e(G);if(K)return se(vt(Q(K),{state:typeof K=="object"?vt({},ft,K.state):ft,force:S,replace:E}),Oe||G);const Y=G;Y.redirectedFrom=Oe;let oe;return!S&&nm(o,Be,G)&&(oe=lo(16,{to:Y,from:Be}),Et(Be,Be,!0,!1)),(oe?Promise.resolve(oe):we(Y,Be)).catch(te=>Xn(te)?Xn(te,2)?te:Bt(te):Xe(te,Y,Be)).then(te=>{if(te){if(Xn(te,2))return se(vt({replace:E},Q(te.to),{state:typeof te.to=="object"?vt({},ft,te.to.state):ft,force:S}),Oe||Y)}else te=ae(Y,Be,!0,E,ft);return Ie(Y,Be,te),te})}function he(ee,Oe){const G=ce(ee,Oe);return G?Promise.reject(G):Promise.resolve()}function J(ee){const Oe=wn.values().next().value;return Oe&&typeof Oe.runWithContext=="function"?Oe.runWithContext(ee):ee()}function we(ee,Oe){let G;const[Be,ft,S]=Km(ee,Oe);G=Zs(Be.reverse(),"beforeRouteLeave",ee,Oe);for(const K of Be)K.leaveGuards.forEach(Y=>{G.push(yr(Y,ee,Oe))});const E=he.bind(null,ee,Oe);return G.push(E),Rt(G).then(()=>{G=[];for(const K of a.list())G.push(yr(K,ee,Oe));return G.push(E),Rt(G)}).then(()=>{G=Zs(ft,"beforeRouteUpdate",ee,Oe);for(const K of ft)K.updateGuards.forEach(Y=>{G.push(yr(Y,ee,Oe))});return G.push(E),Rt(G)}).then(()=>{G=[];for(const K of S)if(K.beforeEnter)if(kn(K.beforeEnter))for(const Y of K.beforeEnter)G.push(yr(Y,ee,Oe));else G.push(yr(K.beforeEnter,ee,Oe));return G.push(E),Rt(G)}).then(()=>(ee.matched.forEach(K=>K.enterCallbacks={}),G=Zs(S,"beforeRouteEnter",ee,Oe,J),G.push(E),Rt(G))).then(()=>{G=[];for(const K of c.list())G.push(yr(K,ee,Oe));return G.push(E),Rt(G)}).catch(K=>Xn(K,8)?K:Promise.reject(K))}function Ie(ee,Oe,G){l.list().forEach(Be=>J(()=>Be(ee,Oe,G)))}function ae(ee,Oe,G,Be,ft){const S=ce(ee,Oe);if(S)return S;const E=Oe===dr,K=to?history.state:{};G&&(Be||E?s.replace(ee.fullPath,vt({scroll:E&&K&&K.scroll},ft)):s.push(ee.fullPath,ft)),d.value=ee,Et(ee,Oe,G,E),Bt()}let Ne;function nt(){Ne||(Ne=s.listen((ee,Oe,G)=>{if(!Sn.listening)return;const Be=W(ee),ft=_e(Be);if(ft){se(vt(ft,{replace:!0,force:!0}),Be).catch(Mo);return}v=Be;const S=d.value;to&&cm(sl(S.fullPath,G.delta),ls()),we(Be,S).catch(E=>Xn(E,12)?E:Xn(E,2)?(se(vt(Q(E.to),{force:!0}),Be).then(K=>{Xn(K,20)&&!G.delta&&G.type===Go.pop&&s.go(-1,!1)}).catch(Mo),Promise.reject()):(G.delta&&s.go(-G.delta,!1),Xe(E,Be,S))).then(E=>{E=E||ae(Be,S,!1),E&&(G.delta&&!Xn(E,8)?s.go(-G.delta,!1):G.type===Go.pop&&Xn(E,20)&&s.go(-1,!1)),Ie(Be,S,E)}).catch(Mo)}))}let _t=Ao(),it=Ao(),Ve;function Xe(ee,Oe,G){Bt(ee);const Be=it.list();return Be.length?Be.forEach(ft=>ft(ee,Oe,G)):console.error(ee),Promise.reject(ee)}function Kt(){return Ve&&d.value!==dr?Promise.resolve():new Promise((ee,Oe)=>{_t.add([ee,Oe])})}function Bt(ee){return Ve||(Ve=!ee,nt(),_t.list().forEach(([Oe,G])=>ee?G(ee):Oe()),_t.reset()),ee}function Et(ee,Oe,G,Be){const{scrollBehavior:ft}=e;if(!to||!ft)return Promise.resolve();const S=!G&&fm(sl(ee.fullPath,0))||(Be||!G)&&history.state&&history.state.scroll||null;return ts().then(()=>ft(ee,Oe,S)).then(E=>E&&lm(E)).catch(E=>Xe(E,ee,Oe))}const Ft=ee=>s.go(ee);let en;const wn=new Set,Sn={currentRoute:d,listening:!0,addRoute:C,removeRoute:H,clearRoutes:t.clearRoutes,hasRoute:Ae,getRoutes:ne,resolve:W,options:e,push:re,replace:j,go:Ft,back:()=>Ft(-1),forward:()=>Ft(1),beforeEach:a.add,beforeResolve:c.add,afterEach:l.add,onError:it.add,isReady:Kt,install(ee){const Oe=this;ee.component("RouterLink",$m),ee.component("RouterView",Fm),ee.config.globalProperties.$router=Oe,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>et(d)}),to&&!en&&d.value===dr&&(en=!0,re(s.location).catch(ft=>{}));const G={};for(const ft in dr)Object.defineProperty(G,ft,{get:()=>d.value[ft],enumerable:!0});ee.provide(Ua,Oe),ee.provide(qa,zl(G)),ee.provide(ga,d);const Be=ee.unmount;wn.add(ee),ee.unmount=function(){wn.delete(ee),wn.size<1&&(v=dr,Ne&&Ne(),Ne=null,d.value=dr,en=!1,Ve=!1),Be()}}};function Rt(ee){return ee.reduce((Oe,G)=>Oe.then(()=>J(G)),Promise.resolve())}return Sn}function Km(e,t){const n=[],o=[],s=[],a=Math.max(t.matched.length,e.matched.length);for(let c=0;c<a;c++){const l=t.matched[c];l&&(e.matched.find(v=>uo(v,l))?o.push(l):n.push(l));const d=e.matched[c];d&&(t.matched.find(v=>uo(v,d))||s.push(d))}return[n,o,s]}function Um(e){return En(qa)}const cf="/Projet-Memory/assets/peuchere-BVtDvQmP.png",qm={key:1},Vm=dt({__name:"Button",props:{type:{},size:{},variant:{},color:{},icon:{},label:{}},setup(e){return(t,n)=>(z(),le("button",{class:mn([t.type,t.size,t.variant,t.color,{square:!t.label}])},[t.icon?(z(),le("i",{key:0,class:mn(t.icon)},null,2)):ut("",!0),t.label?(z(),le("label",qm,Le(t.label),1)):ut("",!0),Lt(t.$slots,"default",{},void 0,!0)],2))}}),gt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},xt=gt(Vm,[["__scopeId","data-v-45c0201f"]]),Hm={class:"left"},Wm={class:"right"},zm={class:"user-data"},Ym={key:0,class:"username"},Gm={key:1,class:"username"},Qm={class:"user-pfp"},Jm=["src"],Xm={key:1,src:cf,alt:"Photo de profil par défaut"},Zm=dt({__name:"Navbar",props:{showBurger:{type:Boolean},isOpen:{type:Boolean}},emits:["toggleBurger"],setup(e,{emit:t}){const n=si(),o=ii(),s=Qe(()=>n.settings),a=Qe(()=>s.value?o.getFileURLById(s.value.profilePicture):""),c=t;return(l,d)=>(z(),le("header",null,[N("nav",null,[N("div",Hm,[l.showBurger?(z(),mt(xt,{key:0,onClick:d[0]||(d[0]=v=>c("toggleBurger")),icon:`fa-solid ${l.isOpen?"fa-bars":"fa-close"}`,class:"menu-burger-btn"},null,8,["icon"])):ut("",!0)]),N("div",Wm,[N("div",zm,[s.value&&s.value.displayName?(z(),le("span",Ym,Le(s.value.displayName),1)):(z(),le("span",Gm,"Utilisateur anonyme")),N("div",Qm,[a.value?(z(),le("img",{key:0,src:a.value,alt:"Photo de profil"},null,8,Jm)):(z(),le("img",Xm))])])])])]))}}),ev=gt(Zm,[["__scopeId","data-v-14e32fd7"]]),tv={key:0,class:"nav-element title"},nv={class:"left"},rv={class:"item-title"},ov={key:0,class:"item-details"},iv={class:"right"},sv=dt({__name:"DrawerItem",props:{title:{},subtitle:{},icon:{},details:{},link:{},isTitle:{type:Boolean}},setup(e){return(t,n)=>t.isTitle?(z(),le("div",tv,Le(t.title),1)):(z(),mt(jd(t.link?"router-link":"div"),$c({key:1,class:"nav-element item"},t.link?{to:t.link}:{}),{default:je(()=>[N("div",nv,[t.icon?(z(),le("i",{key:0,class:mn(t.icon)},null,2)):ut("",!0),N("div",null,[N("span",rv,Le(t.title),1),t.subtitle?(z(),le("div",ov,Le(t.subtitle),1)):ut("",!0)])]),N("div",iv,Le(t.details),1)]),_:1},16))}}),ji=gt(sv,[["__scopeId","data-v-8bec870e"]]),av={class:"nav-category"},uv={key:1,class:"item-ctn"},lv={key:2,class:"no-item"},cv=dt({__name:"DrawerCategory",props:{title:{},empty_message:{}},setup(e){return(t,n)=>(z(),le("div",av,[t.title?(z(),mt(ji,{key:0,title:t.title,"is-title":!0},null,8,["title"])):ut("",!0),t.$slots.default?(z(),le("div",uv,[Lt(t.$slots,"default",{},void 0,!0)])):t.empty_message?(z(),le("div",lv,Le(t.empty_message)+" hiyo ",1)):ut("",!0)]))}}),wl=gt(cv,[["__scopeId","data-v-7c21b387"]]),fv={key:0,class:"modal-container"},dv={class:"modal"},hv={class:"modal-top-bar"},pv={class:"left"},mv={key:0,class:"title"},vv={key:1,class:"description"},yv={class:"right"},gv={class:"modal-header"},_v={class:"modal-body"},bv={class:"modal-footer"},wv=dt({__name:"Modal",props:{title:{},description:{},hideCloseBtn:{type:Boolean}},setup(e,{expose:t}){let n=Je(!1);const o=()=>n.value=!0,s=()=>{n.value=!1};return t({openModal:o,closeModal:s}),(a,c)=>(z(),mt(jc,{name:"modal"},{default:je(()=>[et(n)?(z(),le("div",fv,[N("div",{class:"modal-background",onClick:s}),N("div",dv,[N("div",hv,[N("div",pv,[a.title?(z(),le("h3",mv,Le(a.title),1)):ut("",!0),a.description?(z(),le("div",vv,Le(a.description),1)):ut("",!0)]),N("div",yv,[a.hideCloseBtn?ut("",!0):(z(),mt(xt,{key:0,onClick:s,icon:"fa-solid fa-xmark",type:"fab-btn",variant:"filled",color:"secondary"}))])]),N("div",gv,[Lt(a.$slots,"header",{},void 0,!0)]),N("div",_v,[Lt(a.$slots,"body",{closeModal:s},void 0,!0)]),N("div",bv,[Lt(a.$slots,"footer",{},void 0,!0)])])])):ut("",!0)]),_:3}))}}),ai=gt(wv,[["__scopeId","data-v-2b9ae39f"]]);function Sv(){return{jsonImport:async n=>{var a;const s=(a=n.target.files)==null?void 0:a[0];if(s)try{const c=await s.text(),l=JSON.parse(c);return await Ge.transaction("rw",Ge.categories,Ge.themes,Ge.cards,async()=>{l.categories&&await Ge.categories.bulkPut(l.categories),l.themes&&await Ge.themes.bulkPut(l.themes),l.cards&&await Ge.cards.bulkPut(l.cards)}),!0}catch(c){return console.error(c),!1}},exportDataToJson:async()=>{const n=await Ge.categories.toArray(),o=await Ge.themes.toArray(),s=await Ge.cards.toArray(),a=JSON.stringify({categories:n,themes:o,cards:s},null,2),c=new Blob([a],{type:"application/json"}),l=URL.createObjectURL(c),d=document.createElement("a");d.href=l,d.download="data.json",d.click(),URL.revokeObjectURL(l)}}}const Cv={class:"nav-drawer"},xv={class:"form-content"},Ev={class:"form-group"},Iv={for:"new-pfp",class:"pfp-preview"},Tv=["src"],Av=["src"],Pv={key:2,src:cf,alt:"Photo de profil par défaut"},kv={class:"form-group"},Rv={class:"form-group"},Ov={class:"form-group inline"},Dv={class:"switch"},Nv={class:"form-group inline"},$v={class:"form-actions"},Bv=dt({__name:"NavDrawer",emits:["isClicked"],setup(e,{emit:t}){const{notifyUser:n}=Qc(),{jsonImport:o}=Sv(),s=Je([{title:"Accueil",icon:"fa-solid fa-house",link:"/"},{title:"Réviser",icon:"fa-solid fa-book",subtitle:"24 cartes aujourd'hui",link:"/practice"},{title:"Mes catégories",icon:"fa-solid fa-box-archive",link:"/categories"},{title:"Mes thèmes",icon:"fa-solid fa-layer-group",link:"/themes"}]),a=Rn(),c=Qe(()=>a.themes.slice(0,5)),l=ii(),d=Qe(()=>_.value?l.getFileURLById(_.value.profilePicture):""),v=Je(null),p=()=>{var re;_.value&&(C.value={..._.value},(re=v.value)==null||re.openModal())},m=si(),_=Qe(()=>m.settings),C=Je({id:"1",displayName:"",useDailyNotification:!1,profilePicture:""}),H=async()=>{var re;W.value&&(C.value.profilePicture=W.value),await m.updateSettings(C.value,ne.value),(re=v.value)==null||re.closeModal()},ne=Je(),Ae=re=>{var _e;let j=(_e=re.target.files)==null?void 0:_e[0];j&&(ne.value=j)},W=Qe(()=>ne.value?URL.createObjectURL(ne.value):null),Q=async re=>{await o(re)&&(await m.setLastNotificationDate(""),window.location.reload())},ce=t;return(re,j)=>{const _e=os("router-link");return z(),le(tt,null,[N("div",Cv,[ke(wl,null,{default:je(()=>[(z(!0),le(tt,null,an(s.value,se=>(z(),mt(ji,{title:se.title,icon:se.icon,link:se.link,onClick:j[0]||(j[0]=he=>ce("isClicked"))},null,8,["title","icon","link"]))),256)),ke(ji,{onClick:p,title:"Paramètres",icon:"fa-solid fa-gear"})]),_:1}),ke(wl,{title:"Thèmes",empty_message:"Aucun thème"},{default:je(()=>[c.value?(z(),le(tt,{key:0},[(z(!0),le(tt,null,an(c.value,se=>(z(),mt(ji,{title:se.name,link:`/themes/${se.id}`},{default:je(()=>j[3]||(j[3]=[Ht(" >")])),_:2},1032,["title","link"]))),256)),ke(_e,{to:"/themes/",class:"see-more"},{default:je(()=>j[4]||(j[4]=[Ht("Voir tout")])),_:1})],64)):ut("",!0)]),_:1})]),ke(ai,{title:"Paramètres",ref_key:"parametersModalRef",ref:v},{body:je(()=>{var se,he;return[N("div",xv,[N("div",Ev,[j[5]||(j[5]=N("label",{for:""},"Photo de profil",-1)),N("input",{id:"new-pfp",type:"file",accept:"image/*",onChange:Ae},null,32),N("label",Iv,[W.value?(z(),le("img",{key:0,src:W.value,alt:"Photo de profil"},null,8,Tv)):(se=_.value)!=null&&se.profilePicture?(z(),le("img",{key:1,src:d.value,alt:"Photo de profil"},null,8,Av)):(z(),le("img",Pv))])]),N("div",kv,[j[6]||(j[6]=N("label",{for:""},"Nom d'utilisateur",-1)),Cn(N("input",{type:"text",min:"2",max:"20",placeholder:"Utilisateur Anonyme","onUpdate:modelValue":j[1]||(j[1]=J=>C.value.displayName=J)},null,512),[[wr,C.value.displayName]])]),N("div",Rv,[j[7]||(j[7]=N("label",{for:"import-data"},"Importer des données",-1)),N("input",{id:"import-data",type:"file",accept:".json",onChange:Q},null,32)]),N("div",Ov,[N("label",Dv,[Cn(N("input",{type:"checkbox","onUpdate:modelValue":j[2]||(j[2]=J=>C.value.useDailyNotification=J)},null,512),[[np,C.value.useDailyNotification]]),j[8]||(j[8]=N("span",{class:"slider"},null,-1))]),j[9]||(j[9]=N("label",{for:"daily-notifications"},"Activer les notifications journalières",-1))]),N("div",Nv,[ke(xt,{onClick:et(n),type:"icon-btn",icon:"fa-solid fa-envelope",size:"small",variant:"outlined",color:"secondary"},null,8,["onClick"]),j[10]||(j[10]=N("label",null,"Tester les notifications",-1))]),N("div",$v,[ke(xt,{onClick:(he=v.value)==null?void 0:he.closeModal,label:"Annuler",variant:"outlined"},null,8,["onClick"]),ke(xt,{onClick:H,label:"Sauvegarder",variant:"filled",color:"secondary"})])])]}),_:1},512)],64)}}}),Mv=gt(Bv,[["__scopeId","data-v-5beaf4cd"]]),Lv={};function Fv(e,t){return z(),le("footer",null,t[0]||(t[0]=[N("div",{class:"copyright"},"© 2025 - Tony De Donato & Marianne Corbel",-1),N("span",{class:"separation"},"|",-1),N("a",{href:"https://github.com/mzribel/Projet-Memory",target:"_blank"},[N("i",{class:"fa-brands fa-github"})],-1)]))}const ff=gt(Lv,[["render",Fv],["__scopeId","data-v-6ffcc69e"]]),jv={class:"content-ctn"},Kv={id:"content"},Uv=dt({__name:"LayoutDefault",setup(e){const t=Je(!1),n=()=>{t.value=!t.value},o=()=>{window.innerWidth<1e3?(t.value=!0,s.value=!0):s.value=!1},s=Je(!1);jr(()=>{window.addEventListener("resize",o),o()}),$a(()=>{window.removeEventListener("resize",o)});const a=()=>{t.value=!0};return(c,l)=>(z(),le(tt,null,[ke(ev,{onToggleBurger:n,"show-burger":s.value,"is-open":t.value},null,8,["show-burger","is-open"]),N("main",null,[N("div",{class:mn(["nav-ctn",t.value?"hidden":""]),ref:"mescouillesenski"},[ke(Mv,{onIsClicked:a,ref:"navDrawerRef"},null,512)],2),N("div",jv,[N("div",Kv,[Lt(c.$slots,"default",{},void 0,!0)])])]),ke(ff)],64))}}),ui=gt(Uv,[["__scopeId","data-v-4876597f"]]),qv=dt({__name:"HomeView",setup(e){const{getCardCountToPracticeToday:t}=oi();Qe(()=>t());const n=ii(),o=si();return Qe(()=>o.settings),Qe(()=>n.files),(s,a)=>(z(),mt(ui))}}),Vv=dt({__name:"Block",props:{type:{}},setup(e){return(t,n)=>(z(),le("div",{class:mn(["block",t.type])},[Lt(t.$slots,"default",{},void 0,!0)],2))}}),Va=gt(Vv,[["__scopeId","data-v-0e255809"]]),Hv={class:"header"},Wv={class:"left"},zv={class:"title"},Yv={class:"tags"},Gv={class:"tag"},Qv={class:"tag"},Jv={key:0,class:"description"},Xv=dt({__name:"CategoryItem",props:{category:{}},emits:["edit","delete"],setup(e,{emit:t}){const n=e,o=Tn(),s=Rn(),a=Qe(()=>s.themes.filter(l=>l.categoryId===n.category.id).length??0),c=Qe(()=>{const l=s.themes.filter(d=>d.categoryId===n.category.id).map(d=>d.id);return o.cards.filter(d=>l.includes(d.themeId)).length});return(l,d)=>(z(),mt(Va,{type:"small",class:"theme-item"},{default:je(()=>[N("div",Hv,[N("div",Wv,[d[3]||(d[3]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-layer-group"})],-1)),N("div",zv,[N("h3",null,Le(l.category.name),1)])]),N("div",{class:"right",onClick:d[2]||(d[2]=In(()=>{},["prevent"]))},[ke(xt,{onClick:d[0]||(d[0]=In(v=>l.$emit("edit",l.category),["prevent"])),type:"fab-btn",icon:"fa-solid fa-pen",color:"secondary",variant:"filled"}),ke(xt,{onClick:d[1]||(d[1]=In(v=>l.$emit("delete",l.category),["prevent"])),type:"fab-btn",icon:"fa-solid fa-trash-can",color:"secondary",variant:"filled"})])]),N("div",Yv,[N("div",Gv,[d[4]||(d[4]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-archives"})],-1)),Ht(" "+Le(a.value)+" thème"+Le(a.value>1?"s":""),1)]),N("div",Qv,[d[5]||(d[5]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-layer-group"})],-1)),Ht(" "+Le(c.value)+" carte"+Le(c.value>1?"s":""),1)])]),l.category.description?(z(),le("div",Jv,[d[6]||(d[6]=N("h4",null,"Description :",-1)),N("p",null,Le(l.category.description),1)])):ut("",!0)]),_:1}))}}),Zv=gt(Xv,[["__scopeId","data-v-c3ec2150"]]),ey={class:"form-container"},ty={class:"form-group"},ny={class:"form-group"},ry={class:"form-actions"},oy={class:"form-actions"},iy=dt({__name:"CategoryForm",props:{category:{}},emits:["save","close"],setup(e,{emit:t}){const n=e,o=t,s=Je({id:"",name:"",description:""});Wn(()=>n.category,c=>{c?s.value={...c}:s.value={id:"",name:"",description:""}},{immediate:!0});const a=()=>{o("save",s.value)};return(c,l)=>(z(),le("div",ey,[N("form",{onSubmit:In(a,["prevent"]),class:"form-content"},[N("div",ty,[l[3]||(l[3]=N("label",{for:"name"},"Nom",-1)),Cn(N("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>s.value.name=d),type:"text",id:"name",required:""},null,512),[[wr,s.value.name]])]),N("div",ny,[l[4]||(l[4]=N("label",{for:"description"},"Description",-1)),Cn(N("textarea",{"onUpdate:modelValue":l[1]||(l[1]=d=>s.value.description=d),id:"description",rows:"3"},null,512),[[wr,s.value.description]])]),N("div",ry,[N("div",oy,[ke(xt,{onClick:l[2]||(l[2]=d=>c.$emit("close")),label:"Annuler",variant:"outlined"}),ke(xt,{onClick:a,label:"Sauvegarder",variant:"filled",color:"secondary"})])])],32)]))}}),sy=gt(iy,[["__scopeId","data-v-8485c05d"]]),ay={class:"container"},uy={key:0,class:"flex column gap-8"},ly={key:1,class:"no-content"},cy=dt({__name:"CategoryList",setup(e){const t=Kr(),n=Je(null),o=Je(null),s=()=>{var p;o.value=null,(p=n.value)==null||p.openModal()},a=p=>{var m;o.value=p,(m=n.value)==null||m.openModal()},c=async p=>{await t.addCategory(p),l()},l=()=>{var p;(p=n.value)==null||p.closeModal(),o.value=null};Qe(()=>t.isLoaded);const d=p=>{t.deleteCategoryById(p)},v=Qe(()=>t.categories);return(p,m)=>(z(),le("div",ay,[ke(xt,{onClick:m[0]||(m[0]=_=>s()),icon:"fa-solid fa-plus",label:"Ajouter une catégorie",variant:"tonal",size:"large"}),v.value.length?(z(),le("div",uy,[(z(!0),le(tt,null,an(v.value,_=>(z(),mt(Zv,{key:_.id,category:_,onEdit:a,onDelete:C=>d(_.id)},null,8,["category","onDelete"]))),128))])):(z(),le("div",ly,m[1]||(m[1]=[N("p",null,"Aucune catégorie disponible. Créez-en une !",-1)]))),ke(ai,{ref_key:"modalRef",ref:n,title:o.value?"Modifier la catégorie":"Créer une nouvelle catégorie"},{body:je(()=>[ke(sy,{category:o.value,onSave:c,onClose:l},null,8,["category"])]),_:1},8,["title"])]))}}),fy=gt(cy,[["__scopeId","data-v-8762e1b7"]]),dy={class:"header"},hy={class:"left"},py={class:"title"},my={key:0,class:"category"},vy={class:"tags"},yy={class:"tag"},gy={key:0,class:"description"},_y={key:0},by=dt({__name:"ThemeItem",props:{theme:{}},setup(e){const t=e;Rn();const n=Kr(),o=Tn(),s=Qe(()=>o.cards.filter(c=>c.themeId==t.theme.id).length),a=Qe(()=>{var c;return((c=n.categories.find(l=>l.id==t.theme.categoryId))==null?void 0:c.name)??""});return(c,l)=>{const d=os("router-link");return z(),mt(d,{to:`/themes/${c.theme.id}`},{default:je(()=>[ke(Va,{type:"small",class:"theme-item"},{default:je(()=>[N("div",dy,[N("div",hy,[l[3]||(l[3]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-layer-group"})],-1)),N("div",py,[N("h3",null,Le(c.theme.name),1),a.value?(z(),le("p",my,Le(a.value),1)):ut("",!0)])]),N("div",{class:"right",onClick:l[2]||(l[2]=In(()=>{},["prevent"]))},[ke(xt,{onClick:l[0]||(l[0]=In(v=>c.$emit("edit",c.theme),["prevent"])),type:"fab-btn",icon:"fa-solid fa-pen",color:"secondary",variant:"filled"}),ke(xt,{onClick:l[1]||(l[1]=In(v=>c.$emit("delete",c.theme),["prevent"])),type:"fab-btn",icon:"fa-solid fa-trash-can",color:"secondary",variant:"filled"})])]),N("div",vy,[N("div",yy,[l[4]||(l[4]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-list-check"})],-1)),Ht(" "+Le(s.value)+" cartes ",1)])]),c.theme.description?(z(),le("div",gy,[l[5]||(l[5]=N("h4",null,"Description :",-1)),c.theme.description?(z(),le("p",_y,Le(c.theme.description),1)):ut("",!0)])):ut("",!0)]),_:1})]),_:1},8,["to"])}}}),wy=gt(by,[["__scopeId","data-v-48fe6adf"]]),Sy={class:"form-container"},Cy={class:"form-group"},xy={class:"form-group"},Ey={class:"form-group"},Iy=["value"],Ty={class:"form-group"},Ay=["value"],Py={class:"details"},ky={class:"form-group"},Ry={class:"form-group"},Oy={class:"form-actions"},Dy=dt({__name:"ThemeForm",props:{theme:{}},emits:["save","close","resetProgression"],setup(e,{emit:t}){const{generateReviewInterval:n}=oi(),o=e,s=t,a=Je({id:"",categoryId:"",name:"",description:"",isThemeSelected:!1,maxLevel:5,createdAt:"",lastActivityAt:""});Wn(()=>o.theme,d=>{d?a.value={...d}:a.value={id:"",categoryId:"",name:"",description:"",isThemeSelected:!1,maxLevel:5,createdAt:"",newCardsPerDay:void 0,lastActivityAt:""}},{immediate:!0});const c=Kr(),l=()=>{s("save",a.value)};return(d,v)=>(z(),le("div",Sy,[N("form",{onSubmit:In(l,["prevent"]),class:"form-content"},[N("div",Cy,[v[7]||(v[7]=N("label",{for:"name"},"Nom",-1)),Cn(N("input",{id:"name","onUpdate:modelValue":v[0]||(v[0]=p=>a.value.name=p),required:"",type:"text"},null,512),[[wr,a.value.name]])]),N("div",xy,[v[8]||(v[8]=N("label",{for:"description"},"Description",-1)),Cn(N("textarea",{id:"description","onUpdate:modelValue":v[1]||(v[1]=p=>a.value.description=p),rows:"3"},null,512),[[wr,a.value.description]])]),N("div",Ey,[v[10]||(v[10]=N("label",{for:"category"},"Catégorie",-1)),Cn(N("select",{id:"category","onUpdate:modelValue":v[2]||(v[2]=p=>a.value.categoryId=p)},[v[9]||(v[9]=N("option",{value:""},"Choisir une catégorie",-1)),(z(!0),le(tt,null,an(et(c).categories,p=>(z(),le("option",{key:p.id,value:p.id},Le(p.name),9,Iy))),128))],512),[[Wu,a.value.categoryId]])]),N("div",Ty,[v[11]||(v[11]=N("label",{for:"levelToReview"},"Niveaux de révision",-1)),Cn(N("select",{id:"levelToReview","onUpdate:modelValue":v[3]||(v[3]=p=>a.value.maxLevel=p)},[(z(),le(tt,null,an(8,p=>N("option",{key:p,value:p},Le(p),9,Ay)),64))],512),[[Wu,a.value.maxLevel]]),N("p",Py,"Intervalles des niveaux : "+Le(et(n)(a.value.maxLevel).join(" - "))+" jours ",1)]),N("div",ky,[v[12]||(v[12]=N("label",{for:"newCardsPerDay"},"Nouvelles cartes par jour :",-1)),Cn(N("input",{id:"newCardsPerDay",type:"number",min:"0","onUpdate:modelValue":v[4]||(v[4]=p=>a.value.newCardsPerDay=p)},null,512),[[wr,a.value.newCardsPerDay]])]),N("div",Ry,[v[13]||(v[13]=N("label",{for:""},"Réinitialiser la progression",-1)),ke(xt,{onClick:v[5]||(v[5]=p=>s("resetProgression")),icon:"fa-solid fa-arrow-rotate-left",label:"Réinitialiser",variant:"tonal"})]),N("div",Oy,[ke(xt,{onClick:v[6]||(v[6]=p=>d.$emit("close")),label:"Annuler",variant:"outlined"}),ke(xt,{onClick:l,label:"Sauvegarder",variant:"filled",color:"secondary"})])],32)]))}}),df=gt(Dy,[["__scopeId","data-v-154a4979"]]),Ny={class:"container"},$y={key:0},By={key:1,class:"flex column gap-8"},My={key:2,class:"no-content"},Ly=dt({__name:"ThemeList",setup(e){Tn();const t=Rn(),n=Je(null),o=Je(null),s=()=>{var p;o.value=null,(p=n.value)==null||p.openModal()},a=p=>{var m;o.value=p,(m=n.value)==null||m.openModal()},c=async p=>{var m;await t.addThemeOrUpdateIt(p),(m=n.value)==null||m.closeModal()},l=Qe(()=>t.isLoaded),d=p=>{t.deleteThemeById(p)},v=Qe(()=>t.themes);return(p,m)=>(z(),le("div",Ny,[ke(xt,{onClick:m[0]||(m[0]=_=>s()),icon:"fa-solid fa-plus",label:"Ajouter un thème",variant:"tonal",size:"large"}),l.value?v.value.length?(z(),le("div",By,[(z(!0),le(tt,null,an(v.value,_=>(z(),mt(wy,{key:_.id,theme:_,onEdit:a,onDelete:C=>d(_.id)},null,8,["theme","onDelete"]))),128))])):(z(),le("div",My,m[1]||(m[1]=[N("p",null,"Aucun thème disponible. Créez-en un !",-1)]))):(z(),le("div",$y,"Chargement... "+Le(l.value),1)),ke(ai,{ref_key:"modalRef",ref:n,title:o.value?"Modifier le thème":"Créer un nouveau thème"},{body:je(()=>{var _;return[ke(df,{theme:o.value,onSave:c,onClose:(_=n.value)==null?void 0:_.closeModal},null,8,["theme","onClose"])]}),_:1},8,["title"])]))}}),Fy=gt(Ly,[["__scopeId","data-v-27e9f5b5"]]),jy=dt({__name:"Note",props:{showBar:{type:Boolean}},setup(e){return(t,n)=>(z(),le("div",{class:mn(["note",t.showBar?"show-bar":""])},[Lt(t.$slots,"default",{},void 0,!0)],2))}}),Qo=gt(jy,[["__scopeId","data-v-2c410bf4"]]),Ky={},Uy={class:"section-title"},qy={class:"left"},Vy={class:"right"};function Hy(e,t){return z(),le("div",Uy,[N("div",qy,[Lt(e.$slots,"left",{},void 0,!0)]),N("div",Vy,[Lt(e.$slots,"right",{},void 0,!0)])])}const Wy=gt(Ky,[["render",Hy],["__scopeId","data-v-7f86783a"]]),zy={class:"section-ctn"},Yy=dt({__name:"Section",setup(e){return(t,n)=>(z(),le("section",null,[ke(Wy,null,{left:je(()=>[Lt(t.$slots,"title-left",{},void 0,!0)]),right:je(()=>[Lt(t.$slots,"title-right",{},void 0,!0)]),_:3}),N("div",zy,[Lt(t.$slots,"content",{},void 0,!0)])]))}}),so=gt(Yy,[["__scopeId","data-v-a6b542cb"]]),Gy={class:"left"},Qy={class:"right"},Jy=dt({__name:"PageTitle",props:{alignCenter:{type:Boolean}},setup(e){return(t,n)=>(z(),le("div",{class:mn(["page-title",t.alignCenter?"align-center":""])},[N("div",Gy,[Lt(t.$slots,"left",{},void 0,!0)]),N("div",Qy,[Lt(t.$slots,"right",{},void 0,!0)])],2))}}),Xy=gt(Jy,[["__scopeId","data-v-a45d98cb"]]),Zy={class:"page-subtitle"},eg={key:0,class:"icon"},tg=dt({__name:"PageSubtitle",props:{icon:{},emptyIcon:{type:Boolean}},setup(e){return(t,n)=>(z(),le("div",Zy,[t.icon||t.emptyIcon?(z(),le("div",eg,[t.icon?(z(),le("i",{key:0,class:mn(t.icon)},null,2)):ut("",!0)])):ut("",!0),N("div",null,[Lt(t.$slots,"default",{},void 0,!0)])]))}}),ea=gt(tg,[["__scopeId","data-v-f47374e6"]]),ng={class:"page-subtitle-ctn"},rg=dt({__name:"TitleBlock",props:{alignCenterTitle:{type:Boolean}},setup(e){return(t,n)=>(z(),mt(Va,{type:"title"},{default:je(()=>[ke(Xy,{"align-center":t.alignCenterTitle},{left:je(()=>[Lt(t.$slots,"title-left",{},void 0,!0)]),right:je(()=>[Lt(t.$slots,"title-right",{},void 0,!0)]),_:3},8,["align-center"]),N("div",ng,[Lt(t.$slots,"subtitle",{},void 0,!0)])]),_:3}))}}),Jo=gt(rg,[["__scopeId","data-v-19cda045"]]),og={class:"theme-list-container"},ig=dt({__name:"CategoriesView",setup(e){const t=Kr(),n=Qe(()=>t.categories);return(o,s)=>(z(),mt(ui,null,{default:je(()=>[n.value?(z(),le(tt,{key:0},[ke(Jo,null,{"title-left":je(()=>s[0]||(s[0]=[N("h1",null,"Mes catégories",-1)])),_:1}),ke(so,null,{"title-left":je(()=>s[1]||(s[1]=[N("h2",null,"Toutes les catégories",-1)])),content:je(()=>[N("div",og,[ke(Qo,null,{default:je(()=>[s[2]||(s[2]=N("b",null,"Total de catégories : ",-1)),Ht(Le(n.value.length),1)]),_:1}),ke(fy,{categories:n.value},null,8,["categories"])])]),_:1})],64)):ut("",!0)]),_:1}))}}),sg=gt(ig,[["__scopeId","data-v-85fdb882"]]);function _a(){const e=Tn(),t=Je(null),n=Je(null),o=Je(null),s=Je(null),a=(d,v)=>{const p=d.target;if(p.files&&p.files[0]){const m=p.files[0];v?o.value=m:s.value=m}},c=async d=>{if(d){const v=await e.getFileById(d);v&&(t.value=v,n.value=URL.createObjectURL(v))}},l=Qe(()=>{var d;return((d=t.value)==null?void 0:d.type)||""});return{file:t,fileUrl:n,fileType:l,newFrontFile:o,newBackFile:s,loadFile:c,handleFileUpload:a}}const ag={class:"header"},ug={class:"left"},lg={class:"face-type"},cg={class:"right",style:{display:"flex",gap:"8px"}},fg={class:"body vertical"},dg={class:"text"},hg={class:"multimedia"},pg=["src"],mg=["src"],vg=["src"],yg=["src"],gg=["src"],_g=["src"],bg={class:"footer"},wg={class:"left"},Sg={class:"level"},Cg={key:0,class:"right"},xg={key:0},Eg={key:1},Ig=dt({__name:"CardFace",props:{showOptions:{type:Boolean},isQuestion:{type:Boolean},card:{}},emits:["editCard","deleteCard"],setup(e,{emit:t}){const n=e,o=t,s=()=>{o("editCard")},a=()=>{o("deleteCard")},{fileUrl:c,fileType:l,loadFile:d}=_a(),{fileUrl:v,fileType:p,loadFile:m}=_a(),_=async()=>{n.isQuestion?await d(n.card.multimediaFront):await m(n.card.multimediaBack)};return Wn(()=>[n.card,n.isQuestion],()=>{_()},{immediate:!0}),jr(()=>{_()}),(C,H)=>(z(),le("div",{class:mn([C.isQuestion?"question":"answer","card-face"])},[N("div",ag,[N("div",ug,[N("span",lg,Le(C.isQuestion?"Q":"A"),1)]),N("div",cg,[C.showOptions?(z(),mt(xt,{key:0,color:"secondary",icon:"fa-solid fa-pen",type:"icon-btn",variant:"outlined",onClick:In(s,["stop","prevent"])})):ut("",!0),C.showOptions?(z(),mt(xt,{key:1,color:"secondary",icon:"fa-solid fa-trash",type:"icon-btn",variant:"outlined",onClick:In(a,["stop","prevent"])})):ut("",!0)])]),N("div",fg,[N("div",dg,Le(C.isQuestion?C.card.front:C.card.back),1),N("div",hg,[et(c)&&C.isQuestion?(z(),le(tt,{key:0},[C.isQuestion&&et(l).startsWith("image")?(z(),le("img",{key:0,src:et(c),alt:"Recto image",class:"multimedia-img"},null,8,pg)):C.isQuestion&&et(l).startsWith("video")?(z(),le("video",{key:1,src:et(c),controls:"",class:"multimedia-video"},null,8,mg)):C.isQuestion&&et(l).startsWith("audio")?(z(),le("audio",{key:2,src:et(c),controls:"",class:"multimedia-audio"},null,8,vg)):ut("",!0)],64)):et(v)&&!C.isQuestion?(z(),le(tt,{key:1},[!C.isQuestion&&et(p).startsWith("image")?(z(),le("img",{key:0,src:et(v),alt:"Verso image",class:"multimedia-img"},null,8,yg)):!C.isQuestion&&et(p).startsWith("video")?(z(),le("video",{key:1,src:et(v),controls:"",class:"multimedia-video"},null,8,gg)):!C.isQuestion&&et(p).startsWith("audio")?(z(),le("audio",{key:2,src:et(v),controls:"",class:"multimedia-audio"},null,8,_g)):ut("",!0)],64)):ut("",!0)])]),N("div",bg,[N("div",wg,[N("div",Sg,"Niveau "+Le(C.card.currentLevel),1)]),C.showOptions?(z(),le("div",Cg,[C.card.lastReviewedAt?(z(),le("span",xg,"Dernière révision : "+Le(C.card.lastReviewedAt.slice(0,10)),1)):ut("",!0),C.card.nextReviewAt?(z(),le("span",Eg,"Prochaine révision : "+Le(C.card.nextReviewAt.slice(0,10)),1)):ut("",!0)])):ut("",!0)])],2))}}),Sl=gt(Ig,[["__scopeId","data-v-825d2207"]]),Tg={class:"flip-card-inner"},Ag={class:"flip-card-front"},Pg={class:"flip-card-back"},kg=dt({__name:"Card",props:{cardData:{},showOptions:{type:Boolean}},emits:["editCard","deleteCard"],setup(e,{emit:t}){const n=Je(!1),o=()=>{n.value=!n.value};Je(null);const s=t,a=()=>{s("editCard")},c=()=>{s("deleteCard")};return(l,d)=>(z(),le("div",{class:mn([n.value?"flipped":"","flip-card"]),onClick:o},[N("div",Tg,[N("div",Ag,[ke(Sl,{card:l.cardData,onEditCard:a,onDeleteCard:c,"is-question":!0,"show-options":l.showOptions},null,8,["card","show-options"])]),N("div",Pg,[ke(Sl,{card:l.cardData,"is-question":!1,onDeleteCard:c,"show-options":l.showOptions},null,8,["card","show-options"])])])],2))}}),hf=gt(kg,[["__scopeId","data-v-0ae23ca2"]]),Rg={class:"theme-list-container"},Og=dt({__name:"ThemesView",setup(e){const t=Rn(),n=Qe(()=>t.themes);return(o,s)=>(z(),mt(ui,null,{default:je(()=>[n.value?(z(),le(tt,{key:0},[ke(Jo,null,{"title-left":je(()=>s[0]||(s[0]=[N("h1",null,"Mes thèmes",-1)])),_:1}),ke(so,null,{"title-left":je(()=>s[1]||(s[1]=[N("h2",null,"Tous les thèmes",-1)])),content:je(()=>[N("div",Rg,[ke(Qo,null,{default:je(()=>[s[2]||(s[2]=N("b",null,"Total de thèmes : ",-1)),Ht(Le(n.value.length),1)]),_:1}),ke(Fy,{themes:n.value},null,8,["themes"])])]),_:1})],64)):ut("",!0)]),_:1}))}}),Dg=gt(Og,[["__scopeId","data-v-d4b427fb"]]),Ng={class:"form-container"},$g={class:"form-group"},Bg={class:"form-group"},Mg={key:0},Lg={class:"form-group"},Fg={class:"form-group"},jg={key:0},Kg={class:"form-actions"},Ug=dt({__name:"CardForm",props:{card:{}},emits:["save","close"],setup(e,{emit:t}){const n=e,o=t,s=Je({id:"",themeId:"",front:"",back:"",multimediaFront:"",multimediaBack:"",currentLevel:0});Wn(()=>n.card,v=>{s.value=v?{...v}:{id:"",themeId:"",front:"",back:"",multimediaFront:"",multimediaBack:"",currentLevel:0}},{immediate:!0});const{newFrontFile:a,newBackFile:c,handleFileUpload:l}=_a(),d=()=>o("save",s.value,a.value,c.value);return(v,p)=>(z(),le("div",Ng,[N("form",{onSubmit:In(d,["prevent"]),class:"form-content"},[N("div",$g,[p[5]||(p[5]=N("label",{for:"front"},"Recto",-1)),Cn(N("textarea",{id:"front","onUpdate:modelValue":p[0]||(p[0]=m=>s.value.front=m),required:"",rows:"3"},null,512),[[wr,s.value.front]])]),N("div",Bg,[p[6]||(p[6]=N("label",{for:"multimediaFront"},"Média côté recto",-1)),N("input",{id:"multimediaFront",accept:"image/*,video/*,audio/*",type:"file",onChange:p[1]||(p[1]=m=>et(l)(m,!0))},null,32),s.value.multimediaFront?(z(),le("p",Mg,"Fichier actuel : "+Le(s.value.multimediaFront),1)):ut("",!0)]),N("div",Lg,[p[7]||(p[7]=N("label",{for:"back"},"Verso",-1)),Cn(N("textarea",{id:"back","onUpdate:modelValue":p[2]||(p[2]=m=>s.value.back=m),required:"",rows:"3"},null,512),[[wr,s.value.back]])]),N("div",Fg,[p[8]||(p[8]=N("label",{for:"multimediaBack"},"Média côté verso",-1)),N("input",{id:"multimediaBack",accept:"image/*,video/*,audio/*",type:"file",onChange:p[3]||(p[3]=m=>et(l)(m,!1))},null,32),s.value.multimediaBack?(z(),le("p",jg,"Fichier actuel : "+Le(s.value.multimediaBack),1)):ut("",!0)]),N("div",Kg,[ke(xt,{onClick:p[4]||(p[4]=m=>v.$emit("close")),label:"Annuler",variant:"outlined"}),ke(xt,{onClick:d,label:"Sauvegarder",variant:"filled",color:"secondary"})])],32)]))}}),qg=gt(Ug,[["__scopeId","data-v-11adaab6"]]),Vg={key:0,class:"card-list flex column gap-8"},Hg={class:"cards-ctn flex gap-8"},Wg={key:1,class:"no-content"},zg=dt({__name:"CardList",props:{cards:{},themeId:{}},setup(e){const t=Tn(),n=Rn();Je(!1);const o=Je(null),s=Je(null),a=()=>{var v;o.value=null,(v=s.value)==null||v.openModal()},c=v=>{var p;o.value=v,(p=s.value)==null||p.openModal()},l=(v,p,m)=>{var _;v.themeId=e.themeId,n.setLatestActivity(v.themeId),t.addCardOrUpdateIt(v,p,m),(_=s.value)==null||_.closeModal()},d=v=>{n.setLatestActivity(e.themeId),t.deleteCardById(v)};return(v,p)=>(z(),le(tt,null,[ke(xt,{onClick:p[0]||(p[0]=m=>a()),icon:"fa-solid fa-plus",label:"Ajouter une carte",variant:"tonal"}),v.cards.length?(z(),le("div",Vg,[N("div",Hg,[(z(!0),le(tt,null,an(v.cards,m=>(z(),mt(hf,{onEditCard:_=>c(m),onDeleteCard:_=>d(m.id),"show-options":!0,"card-data":m},null,8,["onEditCard","onDeleteCard","card-data"]))),256))])])):(z(),le("div",Wg,p[1]||(p[1]=[N("p",null,"Aucune carte disponible. Créez-en une !",-1)]))),ke(ai,{ref_key:"modalRef",ref:s,title:"Carte"},{body:je(()=>{var m;return[ke(qg,{card:o.value,onSave:l,onClose:(m=s.value)==null?void 0:m.closeModal},null,8,["card","onClose"])]}),_:1},512)],64))}}),Yg=gt(zg,[["__scopeId","data-v-f0c96d71"]]),Gg={key:0},Qg={class:"card-list-container"},Jg=dt({__name:"ThemeDetailView",setup(e){const{resetCardLevel:t}=oi(),n=Um(),o=Rn();let s=Qe(()=>o.getThemeById(n.params.themeId??""));const a=Kr(),c=Tn(),l=async H=>{s.value||await Ha.push("/404")},d=Je(null),v=()=>{var H;(H=d.value)==null||H.openModal()},p=async H=>{var ne;H&&(await o.addThemeOrUpdateIt(H),(ne=d.value)==null||ne.closeModal())},m=async()=>{!C.value||!s.value||C.value.forEach(H=>{t(H)})};jr(async()=>{await l(n.params.themeId??"")}),Wn(()=>n.params.themeId,H=>{l()});const _=Qe(()=>s.value?a.categories.find(H=>{var ne;return H.id===((ne=s==null?void 0:s.value)==null?void 0:ne.categoryId)}):null),C=Qe(()=>s.value?c.cards.filter(H=>{var ne;return H.themeId===((ne=s==null?void 0:s.value)==null?void 0:ne.id)}):null);return(H,ne)=>(z(),mt(ui,null,{default:je(()=>[et(s)?(z(),le(tt,{key:0},[ke(Jo,null,{"title-left":je(()=>[N("h1",null,Le(et(s).name),1)]),"title-right":je(()=>[ke(xt,{onClick:v,size:"large",icon:"fa-solid fa-pen",type:"fab-btn",variant:"filled",color:"secondary"})]),subtitle:je(()=>[_.value?(z(),mt(ea,{key:0,icon:"fa-solid fa-box-archive"},{default:je(()=>[Ht(Le(_.value.name),1)]),_:1})):ut("",!0),ke(ea,{icon:"fa-solid fa-calendar"},{default:je(()=>[Ht("Créé le "+Le(et(s).createdAt),1)]),_:1}),ke(ea,{icon:"fa-solid fa-gear"},{default:je(()=>[N("span",null,Le(et(s).maxLevel)+" "+Le(et(s).maxLevel>1?"niveaux":"niveau"),1),et(s).newCardsPerDay?(z(),le("span",Gg," - "+Le(et(s).newCardsPerDay)+" "+Le(et(s).newCardsPerDay>1?"nouvelles cartes":"nouvelle carte")+" par jour",1)):ut("",!0)]),_:1})]),_:1}),C.value?(z(),mt(so,{key:0},{"title-left":je(()=>ne[0]||(ne[0]=[N("h2",null,"CARTES",-1)])),content:je(()=>[N("div",Qg,[ke(Qo,null,{default:je(()=>[ne[1]||(ne[1]=N("b",null,"Total de cartes : ",-1)),Ht(Le(C.value.length),1)]),_:1}),ke(Yg,{cards:C.value,"theme-id":et(s).id},null,8,["cards","theme-id"])])]),_:1})):ut("",!0)],64)):ut("",!0),ke(ai,{ref_key:"themeModalRef",ref:d,title:et(s)?"Modifier le thème":"Créer un nouveau thème"},{body:je(()=>{var Ae;return[et(s)?(z(),mt(df,{key:0,theme:et(s)??null,onSave:p,onClose:(Ae=d.value)==null?void 0:Ae.closeModal,onResetProgression:m},null,8,["theme","onClose"])):ut("",!0)]}),_:1},8,["title"])]),_:1}))}}),Xg=gt(Jg,[["__scopeId","data-v-9927d2d2"]]),Zg=()=>({groupCardsByDateAndTheme:(t,n="all")=>{const o={};return t.forEach(s=>{if(!s.nextReviewAt)return;const a=s.nextReviewAt.slice(0,10),c=s.themeId;o[a]||(o[a]={}),o[a][c]||(o[a][c]=[]),o[a][c].push(s)}),o}}),e_={key:0,class:"practice-ctn"},t_={class:"practice-form"},n_={class:"btn-container"},r_={key:1,class:"no-content padding"},o_={key:1,class:"flex column row-gap-16"},i_={class:"flex column row-gap-8"},s_={class:"details"},a_={class:"levels"},u_={key:0},l_={key:1,class:"no-content padding"},c_={class:"flex column row-gap-8"},f_={class:"details"},d_={class:"levels"},h_={key:1,class:"no-content padding"},p_={class:"details"},m_={class:"levels"},v_={key:1,class:"no-content padding"},y_=dt({__name:"RevisionSession",setup(e){const{getCardsToPractice:t,promoteCard:n,demoteCard:o,resetCardLevel:s,getThemesToPracticeByPeriod:a}=oi(),c=Tn(),l=Rn(),{groupCardsByDateAndTheme:d}=Zg();Qe(()=>d(c.cards));const v=Je([]),p=Je(!0),m=async he=>{C.value&&(he?(await n(C.value,5),H.value="right"):(await o(C.value,5),H.value="left"),p.value=!1)},_=Je(0),C=Qe(()=>v.value[_.value]??null);jr(()=>{l.themes.forEach(J=>{const we=c.getCardsByThemeId(J.id);v.value.push(...t(we,J.maxLevel,J.newCardsPerDay??5))})});const H=Je("left"),ne=Qe(()=>"card-slide-"+H.value),Ae=()=>{_.value++,p.value=!0},W=Je(!1),Q=()=>{W.value=!W.value},ce=Qe(()=>a(l.themes,c.cards,"today")),re=Qe(()=>a(l.themes,c.cards,"past")),j=Qe(()=>a(l.themes,c.cards,"future")),_e=he=>he.reduce((J,we)=>(J[we.currentLevel]=(J[we.currentLevel]||0)+1,J),{}),se=he=>{const J=[];for(let we of he)for(let Ie of we.cards){if(!Ie.nextReviewAt)return;let ae=J.find(Ne=>Ne.date==Ie.nextReviewAt);if(!ae)J.push({date:Ie.nextReviewAt,themes:[{themeId:we.themeId,cards:[Ie]}]});else{let Ne=ae.themes.find(nt=>nt.themeId==Ie.themeId);Ne?Ne.cards.push(Ie):ae.themes.push({themeId:we.themeId,cards:[Ie]})}}return J};return(he,J)=>{var we;return z(),le("div",null,[ke(Jo,{"align-center-title":!0},Kd({"title-left":je(()=>[J[2]||(J[2]=N("h1",null,"Révisions du jour",-1))]),_:2},[v.value?{name:"title-right",fn:je(()=>[ke(xt,{icon:W.value?"fa-solid fa-stop":"fa-solid fa-play",label:W.value?"Arrêter la session":"Commencer la session",variant:"filled",color:"secondary",onClick:Q},null,8,["icon","label"])]),key:"0"}:void 0]),1024),W.value?(z(),le(tt,{key:0},[v.value&&C.value?(z(),le("div",e_,[N("div",t_,[ke(jc,{name:ne.value,onAfterLeave:Ae},{default:je(()=>[p.value?(z(),mt(hf,{key:C.value.id,"card-data":C.value},null,8,["card-data"])):ut("",!0)]),_:1},8,["name"]),N("div",n_,[ke(xt,{onClick:J[0]||(J[0]=Ie=>m(!1)),variant:"outlined",color:"secondary",label:"Pas appris 😩"}),ke(xt,{onClick:J[1]||(J[1]=Ie=>m(!0)),variant:"filled",color:"secondary",label:"Appris 🤌"})])])])):(z(),le("div",r_," Rien à réviser !"))],64)):(z(),le("div",o_,[ke(so,{class:"flex column row-gap-8"},{"title-left":je(()=>J[3]||(J[3]=[N("h2",null,"Aujourd'hui",-1)])),content:je(()=>[ce.value.length?(z(!0),le(tt,{key:0},an(ce.value,Ie=>(z(),le("div",i_,[ke(Qo,null,{default:je(()=>{var ae;return[N("h3",null,Le(((ae=et(l).getThemeById(Ie.themeId))==null?void 0:ae.name)??"Thème perdu"),1),N("div",s_,[N("div",a_,[Ie.newCards?(z(),le("span",u_,[J[4]||(J[4]=N("b",null,"Niveau 0",-1)),Ht(": "+Le(Ie.newCards)+" carte"+Le(Ie.newCards>1?"s":"")+" (nouvelles cartes !) ",1)])):ut("",!0),(z(!0),le(tt,null,an(_e(Ie.cards),(Ne,nt)=>(z(),le("span",null,[N("b",null,"Niveau "+Le(nt)+":",1),Ht(" "+Le(Ne)+" carte"+Le(Ne>1?"s":""),1)]))),256))])])]}),_:2},1024)]))),256)):(z(),le("div",l_,"Aucune carte à apprendre aujourd'hui !"))]),_:1}),ke(so,null,{"title-left":je(()=>J[5]||(J[5]=[N("h2",null,"En retard",-1)])),content:je(()=>{var Ie;return[(Ie=se(re.value))!=null&&Ie.length?(z(!0),le(tt,{key:0},an(se(re.value),ae=>(z(),le("div",c_,[N("h4",null,Le(ae.date),1),(z(!0),le(tt,null,an(ae.themes,Ne=>{var nt;return z(),le("div",null,[N("h3",null,Le(((nt=et(l).getThemeById(Ne.themeId))==null?void 0:nt.name)??"Thème perdu"),1),N("div",f_,[N("div",d_,[(z(!0),le(tt,null,an(_e(Ne.cards),(_t,it)=>(z(),le("span",null,[N("b",null,"Niveau "+Le(it)+":",1),Ht(" "+Le(_t)+" carte"+Le(_t>1?"s":""),1)]))),256))])])])}),256))]))),256)):(z(),le("div",h_,"Aucun thème en retard."))]}),_:1}),N("div",null,[ke(Jo,{class:"second"},{"title-left":je(()=>J[6]||(J[6]=[N("h1",null,"Prochaines révisions",-1)])),_:1}),(we=se(j.value))!=null&&we.length?(z(!0),le(tt,{key:0},an(se(j.value),Ie=>(z(),mt(so,{key:Ie.date},{"title-left":je(()=>[N("h2",null,Le(Ie.date),1)]),content:je(()=>[(z(!0),le(tt,null,an(Ie.themes,ae=>(z(),mt(Qo,{"show-bar":!0,key:ae.themeId},{default:je(()=>{var Ne;return[N("h3",null,Le(((Ne=et(l).getThemeById(ae.themeId))==null?void 0:Ne.name)??"Thème perdu"),1),N("div",p_,[N("div",m_,[(z(!0),le(tt,null,an(_e(ae.cards),(nt,_t)=>(z(),le("span",null,[N("b",null,"Niveau "+Le(_t)+":",1),Ht(" "+Le(nt)+" carte"+Le(nt>1?"s":""),1)]))),256))])])]}),_:2},1024))),128))]),_:2},1024))),128)):(z(),le("div",v_,"Aucune révision future prévue !"))])]))])}}}),g_=gt(y_,[["__scopeId","data-v-9da07609"]]),__=dt({__name:"PracticeView",setup(e){return(t,n)=>(z(),mt(ui,null,{default:je(()=>[ke(g_)]),_:1}))}}),b_=dt({__name:"LayoutEmpty",setup(e){return(t,n)=>(z(),le(tt,null,[N("main",null,[Lt(t.$slots,"default")]),ke(ff)],64))}}),w_={class:"not-found-container"},S_={class:"subtitle"},C_=dt({__name:"NotFoundView",setup(e){return(t,n)=>{const o=os("router-link");return z(),mt(b_,null,{default:je(()=>[N("div",w_,[n[3]||(n[3]=N("span",{class:"title"},"404 Pas trouvé MDR",-1)),N("span",S_,[n[1]||(n[1]=Ht("Petit ")),ke(o,{to:"/"},{default:je(()=>n[0]||(n[0]=[Ht("retour à l'accueil")])),_:1}),n[2]||(n[2]=Ht(" peut-être ?"))])])]),_:1})}}}),x_=gt(C_,[["__scopeId","data-v-53b90122"]]),E_=[{path:"/",name:"Home",component:qv},{path:"/categories",name:"Categories",component:sg},{path:"/themes",name:"ThemeListView",component:Dg},{path:"/themes/:themeId",name:"Theme",component:Xg},{path:"/practice",name:"Practice",component:__},{path:"/404",name:"Not Found !",component:x_},{path:"/:pathMatch(.*)",redirect:"/404",hidden:!0}],Ha=jm({history:mm(),routes:E_});Ha.beforeEach(async(e,t,n)=>{const o=Kr(),s=Rn(),a=Tn(),c=si();await ii().loadFiles(),await o.loadCategories(),await s.loadThemes(),await a.loadCards(),await c.loadSettings(),n()});Ap.config({name:"memoryApp",storeName:"pinia_store"});const pf=cp();pf.use(Ep);const Wa=ap(Lp);Wa.use(pf);Wa.use(Ha);Wa.mount("#app");navigator.serviceWorker.register("/sw.js",{type:"module"}).then(e=>{e.onupdatefound=()=>{const t=e.installing;t&&(t.onstatechange=()=>{t.state==="installed"&&(navigator.serviceWorker.controller?console.log("Service Worker mis à jour."):console.log("Service Worker installé pour la première fois."))})}}).catch(e=>{console.error("Erreur lors de l'enregistrement du Service Worker : ",e)});
