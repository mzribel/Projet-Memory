var Of=Object.defineProperty;var Df=(e,t,n)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qr=(e,t,n)=>Df(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ba(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const bt={},to=[],Hn=()=>{},Nf=()=>!1,Qi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wa=e=>e.startsWith("onUpdate:"),Wt=Object.assign,Sa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},$f=Object.prototype.hasOwnProperty,vt=(e,t)=>$f.call(e,t),Ke=Array.isArray,no=e=>Xo(e)==="[object Map]",lo=e=>Xo(e)==="[object Set]",uu=e=>Xo(e)==="[object Date]",We=e=>typeof e=="function",Rt=e=>typeof e=="string",Pn=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",Sl=e=>(wt(e)||We(e))&&We(e.then)&&We(e.catch),Cl=Object.prototype.toString,Xo=e=>Cl.call(e),Bf=e=>Xo(e).slice(8,-1),xl=e=>Xo(e)==="[object Object]",Ca=e=>Rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ko=ba(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ji=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mf=/-(\w)/g,bn=Ji(e=>e.replace(Mf,(t,n)=>n?n.toUpperCase():"")),Ff=/\B([A-Z])/g,jr=Ji(e=>e.replace(Ff,"-$1").toLowerCase()),Xi=Ji(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=Ji(e=>e?`on${Xi(e)}`:""),_r=(e,t)=>!Object.is(e,t),Bi=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},El=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Ui=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Lf=e=>{const t=Rt(e)?Number(e):NaN;return isNaN(t)?e:t};let lu;const Zi=()=>lu||(lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xa(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=Rt(o)?qf(o):xa(o);if(s)for(const a in s)t[a]=s[a]}return t}else if(Rt(e)||wt(e))return e}const jf=/;(?![^(]*\))/g,Kf=/:([^]+)/,Uf=/\/\*[^]*?\*\//g;function qf(e){const t={};return e.replace(Uf,"").split(jf).forEach(n=>{if(n){const o=n.split(Kf);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function wn(e){let t="";if(Rt(e))t=e;else if(Ke(e))for(let n=0;n<e.length;n++){const o=wn(e[n]);o&&(t+=o+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Vf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hf=ba(Vf);function Il(e){return!!e||e===""}function Wf(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Zo(e[o],t[o]);return n}function Zo(e,t){if(e===t)return!0;let n=uu(e),o=uu(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Pn(e),o=Pn(t),n||o)return e===t;if(n=Ke(e),o=Ke(t),n||o)return n&&o?Wf(e,t):!1;if(n=wt(e),o=wt(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,a=Object.keys(t).length;if(s!==a)return!1;for(const c in e){const l=e.hasOwnProperty(c),d=t.hasOwnProperty(c);if(l&&!d||!l&&d||!Zo(e[c],t[c]))return!1}}return String(e)===String(t)}function Ea(e,t){return e.findIndex(n=>Zo(n,t))}const Tl=e=>!!(e&&e.__v_isRef===!0),Fe=e=>Rt(e)?e:e==null?"":Ke(e)||wt(e)&&(e.toString===Cl||!We(e.toString))?Tl(e)?Fe(e.value):JSON.stringify(e,Al,2):String(e),Al=(e,t)=>Tl(t)?Al(e,t.value):no(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],a)=>(n[Ms(o,a)+" =>"]=s,n),{})}:lo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ms(n))}:Pn(t)?Ms(t):wt(t)&&!Ke(t)&&!xl(t)?String(t):t,Ms=(e,t="")=>{var n;return Pn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;class Pl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=sn,!t&&sn&&(this.index=(sn.scopes||(sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=sn;try{return sn=this,t()}finally{sn=n}}}on(){sn=this}off(){sn=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Rl(e){return new Pl(e)}function kl(){return sn}function zf(e,t=!1){sn&&sn.cleanups.push(e)}let Ct;const Fs=new WeakSet;class Ol{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,sn&&sn.active&&sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fs.has(this)&&(Fs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cu(this),$l(this);const t=Ct,n=In;Ct=this,In=!0;try{return this.fn()}finally{Bl(this),Ct=t,In=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Aa(t);this.deps=this.depsTail=void 0,cu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ta(this)&&this.run()}get dirty(){return ta(this)}}let Dl=0,Oo,Do;function Nl(e,t=!1){if(e.flags|=8,t){e.next=Do,Do=e;return}e.next=Oo,Oo=e}function Ia(){Dl++}function Ta(){if(--Dl>0)return;if(Do){let t=Do;for(Do=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Oo;){let t=Oo;for(Oo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function $l(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bl(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Aa(o),Yf(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function ta(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ml(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ml(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Lo))return;e.globalVersion=Lo;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ta(e)){e.flags&=-3;return}const n=Ct,o=In;Ct=e,In=!0;try{$l(e);const s=e.fn(e._value);(t.version===0||_r(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ct=n,In=o,Bl(e),e.flags&=-3}}function Aa(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Aa(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Yf(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let In=!0;const Fl=[];function Cr(){Fl.push(In),In=!1}function xr(){const e=Fl.pop();In=e===void 0?!0:e}function cu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ct;Ct=void 0;try{t()}finally{Ct=n}}}let Lo=0;class Gf{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ct||!In||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new Gf(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,Ll(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=o)}return n}trigger(t){this.version++,Lo++,this.notify(t)}notify(t){Ia();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ta()}}}function Ll(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ll(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const qi=new WeakMap,Mr=Symbol(""),na=Symbol(""),jo=Symbol("");function Xt(e,t,n){if(In&&Ct){let o=qi.get(e);o||qi.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new Pa),s.map=o,s.key=n),s.track()}}function er(e,t,n,o,s,a){const c=qi.get(e);if(!c){Lo++;return}const l=d=>{d&&d.trigger()};if(Ia(),t==="clear")c.forEach(l);else{const d=Ke(e),y=d&&Ca(n);if(d&&n==="length"){const p=Number(o);c.forEach((m,_)=>{(_==="length"||_===jo||!Pn(_)&&_>=p)&&l(m)})}else switch((n!==void 0||c.has(void 0))&&l(c.get(n)),y&&l(c.get(jo)),t){case"add":d?y&&l(c.get("length")):(l(c.get(Mr)),no(e)&&l(c.get(na)));break;case"delete":d||(l(c.get(Mr)),no(e)&&l(c.get(na)));break;case"set":no(e)&&l(c.get(Mr));break}}Ta()}function Qf(e,t){const n=qi.get(e);return n&&n.get(t)}function Jr(e){const t=ht(e);return t===e?t:(Xt(t,"iterate",jo),gn(e)?t:t.map(Zt))}function es(e){return Xt(e=ht(e),"iterate",jo),e}const Jf={__proto__:null,[Symbol.iterator](){return Ls(this,Symbol.iterator,Zt)},concat(...e){return Jr(this).concat(...e.map(t=>Ke(t)?Jr(t):t))},entries(){return Ls(this,"entries",e=>(e[1]=Zt(e[1]),e))},every(e,t){return Qn(this,"every",e,t,void 0,arguments)},filter(e,t){return Qn(this,"filter",e,t,n=>n.map(Zt),arguments)},find(e,t){return Qn(this,"find",e,t,Zt,arguments)},findIndex(e,t){return Qn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Qn(this,"findLast",e,t,Zt,arguments)},findLastIndex(e,t){return Qn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Qn(this,"forEach",e,t,void 0,arguments)},includes(...e){return js(this,"includes",e)},indexOf(...e){return js(this,"indexOf",e)},join(e){return Jr(this).join(e)},lastIndexOf(...e){return js(this,"lastIndexOf",e)},map(e,t){return Qn(this,"map",e,t,void 0,arguments)},pop(){return Io(this,"pop")},push(...e){return Io(this,"push",e)},reduce(e,...t){return fu(this,"reduce",e,t)},reduceRight(e,...t){return fu(this,"reduceRight",e,t)},shift(){return Io(this,"shift")},some(e,t){return Qn(this,"some",e,t,void 0,arguments)},splice(...e){return Io(this,"splice",e)},toReversed(){return Jr(this).toReversed()},toSorted(e){return Jr(this).toSorted(e)},toSpliced(...e){return Jr(this).toSpliced(...e)},unshift(...e){return Io(this,"unshift",e)},values(){return Ls(this,"values",Zt)}};function Ls(e,t,n){const o=es(e),s=o[t]();return o!==e&&!gn(e)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const Xf=Array.prototype;function Qn(e,t,n,o,s,a){const c=es(e),l=c!==e&&!gn(e),d=c[t];if(d!==Xf[t]){const m=d.apply(e,a);return l?Zt(m):m}let y=n;c!==e&&(l?y=function(m,_){return n.call(this,Zt(m),_,e)}:n.length>2&&(y=function(m,_){return n.call(this,m,_,e)}));const p=d.call(c,y,o);return l&&s?s(p):p}function fu(e,t,n,o){const s=es(e);let a=n;return s!==e&&(gn(e)?n.length>3&&(a=function(c,l,d){return n.call(this,c,l,d,e)}):a=function(c,l,d){return n.call(this,c,Zt(l),d,e)}),s[t](a,...o)}function js(e,t,n){const o=ht(e);Xt(o,"iterate",jo);const s=o[t](...n);return(s===-1||s===!1)&&Oa(n[0])?(n[0]=ht(n[0]),o[t](...n)):s}function Io(e,t,n=[]){Cr(),Ia();const o=ht(e)[t].apply(e,n);return Ta(),xr(),o}const Zf=ba("__proto__,__v_isRef,__isVue"),jl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pn));function ed(e){Pn(e)||(e=String(e));const t=ht(this);return Xt(t,"has",e),t.hasOwnProperty(e)}class Kl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return o===(s?a?cd:Hl:a?Vl:ql).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const c=Ke(t);if(!s){let d;if(c&&(d=Jf[n]))return d;if(n==="hasOwnProperty")return ed}const l=Reflect.get(t,n,$t(t)?t:o);return(Pn(n)?jl.has(n):Zf(n))||(s||Xt(t,"get",n),a)?l:$t(l)?c&&Ca(n)?l:l.value:wt(l)?s?zl(l):ei(l):l}}class Ul extends Kl{constructor(t=!1){super(!1,t)}set(t,n,o,s){let a=t[n];if(!this._isShallow){const d=Lr(a);if(!gn(o)&&!Lr(o)&&(a=ht(a),o=ht(o)),!Ke(t)&&$t(a)&&!$t(o))return d?!1:(a.value=o,!0)}const c=Ke(t)&&Ca(n)?Number(n)<t.length:vt(t,n),l=Reflect.set(t,n,o,$t(t)?t:s);return t===ht(s)&&(c?_r(o,a)&&er(t,"set",n,o):er(t,"add",n,o)),l}deleteProperty(t,n){const o=vt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&er(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!Pn(n)||!jl.has(n))&&Xt(t,"has",n),o}ownKeys(t){return Xt(t,"iterate",Ke(t)?"length":Mr),Reflect.ownKeys(t)}}class td extends Kl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nd=new Ul,rd=new td,od=new Ul(!0);const ra=e=>e,ki=e=>Reflect.getPrototypeOf(e);function id(e,t,n){return function(...o){const s=this.__v_raw,a=ht(s),c=no(a),l=e==="entries"||e===Symbol.iterator&&c,d=e==="keys"&&c,y=s[e](...o),p=n?ra:t?oa:Zt;return!t&&Xt(a,"iterate",d?na:Mr),{next(){const{value:m,done:_}=y.next();return _?{value:m,done:_}:{value:l?[p(m[0]),p(m[1])]:p(m),done:_}},[Symbol.iterator](){return this}}}}function Oi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(e,t){const n={get(s){const a=this.__v_raw,c=ht(a),l=ht(s);e||(_r(s,l)&&Xt(c,"get",s),Xt(c,"get",l));const{has:d}=ki(c),y=t?ra:e?oa:Zt;if(d.call(c,s))return y(a.get(s));if(d.call(c,l))return y(a.get(l));a!==c&&a.get(s)},get size(){const s=this.__v_raw;return!e&&Xt(ht(s),"iterate",Mr),Reflect.get(s,"size",s)},has(s){const a=this.__v_raw,c=ht(a),l=ht(s);return e||(_r(s,l)&&Xt(c,"has",s),Xt(c,"has",l)),s===l?a.has(s):a.has(s)||a.has(l)},forEach(s,a){const c=this,l=c.__v_raw,d=ht(l),y=t?ra:e?oa:Zt;return!e&&Xt(d,"iterate",Mr),l.forEach((p,m)=>s.call(a,y(p),y(m),c))}};return Wt(n,e?{add:Oi("add"),set:Oi("set"),delete:Oi("delete"),clear:Oi("clear")}:{add(s){!t&&!gn(s)&&!Lr(s)&&(s=ht(s));const a=ht(this);return ki(a).has.call(a,s)||(a.add(s),er(a,"add",s,s)),this},set(s,a){!t&&!gn(a)&&!Lr(a)&&(a=ht(a));const c=ht(this),{has:l,get:d}=ki(c);let y=l.call(c,s);y||(s=ht(s),y=l.call(c,s));const p=d.call(c,s);return c.set(s,a),y?_r(a,p)&&er(c,"set",s,a):er(c,"add",s,a),this},delete(s){const a=ht(this),{has:c,get:l}=ki(a);let d=c.call(a,s);d||(s=ht(s),d=c.call(a,s)),l&&l.call(a,s);const y=a.delete(s);return d&&er(a,"delete",s,void 0),y},clear(){const s=ht(this),a=s.size!==0,c=s.clear();return a&&er(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=id(s,e,t)}),n}function Ra(e,t){const n=sd(e,t);return(o,s,a)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(vt(n,s)&&s in o?n:o,s,a)}const ad={get:Ra(!1,!1)},ud={get:Ra(!1,!0)},ld={get:Ra(!0,!1)};const ql=new WeakMap,Vl=new WeakMap,Hl=new WeakMap,cd=new WeakMap;function fd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dd(e){return e.__v_skip||!Object.isExtensible(e)?0:fd(Bf(e))}function ei(e){return Lr(e)?e:ka(e,!1,nd,ad,ql)}function Wl(e){return ka(e,!1,od,ud,Vl)}function zl(e){return ka(e,!0,rd,ld,Hl)}function ka(e,t,n,o,s){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=s.get(e);if(a)return a;const c=dd(e);if(c===0)return e;const l=new Proxy(e,c===2?o:n);return s.set(e,l),l}function br(e){return Lr(e)?br(e.__v_raw):!!(e&&e.__v_isReactive)}function Lr(e){return!!(e&&e.__v_isReadonly)}function gn(e){return!!(e&&e.__v_isShallow)}function Oa(e){return e?!!e.__v_raw:!1}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function Da(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&El(e,"__v_skip",!0),e}const Zt=e=>wt(e)?ei(e):e,oa=e=>wt(e)?zl(e):e;function $t(e){return e?e.__v_isRef===!0:!1}function et(e){return Yl(e,!1)}function hd(e){return Yl(e,!0)}function Yl(e,t){return $t(e)?e:new pd(e,t)}class pd{constructor(t,n){this.dep=new Pa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ht(t),this._value=n?t:Zt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||gn(t)||Lr(t);t=o?t:ht(t),_r(t,n)&&(this._rawValue=t,this._value=o?t:Zt(t),this.dep.trigger())}}function Ze(e){return $t(e)?e.value:e}const md={get:(e,t,n)=>t==="__v_raw"?e:Ze(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return $t(s)&&!$t(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function Gl(e){return br(e)?e:new Proxy(e,md)}function vd(e){const t=Ke(e)?new Array(e.length):{};for(const n in e)t[n]=gd(e,n);return t}class yd{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Qf(ht(this._object),this._key)}}function gd(e,t,n){const o=e[t];return $t(o)?o:new yd(e,t,n)}class _d{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Pa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Lo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Nl(this,!0),!0}get value(){const t=this.dep.track();return Ml(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bd(e,t,n=!1){let o,s;return We(e)?o=e:(o=e.get,s=e.set),new _d(o,s,n)}const Di={},Vi=new WeakMap;let $r;function wd(e,t=!1,n=$r){if(n){let o=Vi.get(n);o||Vi.set(n,o=[]),o.push(e)}}function Sd(e,t,n=bt){const{immediate:o,deep:s,once:a,scheduler:c,augmentJob:l,call:d}=n,y=ae=>s?ae:gn(ae)||s===!1||s===0?tr(ae,1):tr(ae);let p,m,_,C,H=!1,re=!1;if($t(e)?(m=()=>e.value,H=gn(e)):br(e)?(m=()=>y(e),H=!0):Ke(e)?(re=!0,H=e.some(ae=>br(ae)||gn(ae)),m=()=>e.map(ae=>{if($t(ae))return ae.value;if(br(ae))return y(ae);if(We(ae))return d?d(ae,2):ae()})):We(e)?t?m=d?()=>d(e,2):e:m=()=>{if(_){Cr();try{_()}finally{xr()}}const ae=$r;$r=p;try{return d?d(e,3,[C]):e(C)}finally{$r=ae}}:m=Hn,t&&s){const ae=m,U=s===!0?1/0:s;m=()=>tr(ae(),U)}const Ee=kl(),z=()=>{p.stop(),Ee&&Ee.active&&Sa(Ee.effects,p)};if(a&&t){const ae=t;t=(...U)=>{ae(...U),z()}}let W=re?new Array(e.length).fill(Di):Di;const Z=ae=>{if(!(!(p.flags&1)||!p.dirty&&!ae))if(t){const U=p.run();if(s||H||(re?U.some((be,le)=>_r(be,W[le])):_r(U,W))){_&&_();const be=$r;$r=p;try{const le=[U,W===Di?void 0:re&&W[0]===Di?[]:W,C];d?d(t,3,le):t(...le),W=U}finally{$r=be}}}else p.run()};return l&&l(Z),p=new Ol(m),p.scheduler=c?()=>c(Z,!1):Z,C=ae=>wd(ae,!1,p),_=p.onStop=()=>{const ae=Vi.get(p);if(ae){if(d)d(ae,4);else for(const U of ae)U();Vi.delete(p)}},t?o?Z(!0):W=p.run():c?c(Z.bind(null,!0),!0):p.run(),z.pause=p.pause.bind(p),z.resume=p.resume.bind(p),z.stop=z,z}function tr(e,t=1/0,n){if(t<=0||!wt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,$t(e))tr(e.value,t,n);else if(Ke(e))for(let o=0;o<e.length;o++)tr(e[o],t,n);else if(lo(e)||no(e))e.forEach(o=>{tr(o,t,n)});else if(xl(e)){for(const o in e)tr(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&tr(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ti(e,t,n,o){try{return o?e(...o):e()}catch(s){ts(s,t,n)}}function Rn(e,t,n,o){if(We(e)){const s=ti(e,t,n,o);return s&&Sl(s)&&s.catch(a=>{ts(a,t,n)}),s}if(Ke(e)){const s=[];for(let a=0;a<e.length;a++)s.push(Rn(e[a],t,n,o));return s}}function ts(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||bt;if(t){let l=t.parent;const d=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](e,d,y)===!1)return}l=l.parent}if(a){Cr(),ti(a,null,10,[e,d,y]),xr();return}}Cd(e,n,s,o,c)}function Cd(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const un=[];let qn=-1;const ro=[];let pr=null,Zr=0;const Ql=Promise.resolve();let Hi=null;function ns(e){const t=Hi||Ql;return e?t.then(this?e.bind(this):e):t}function xd(e){let t=qn+1,n=un.length;for(;t<n;){const o=t+n>>>1,s=un[o],a=Ko(s);a<e||a===e&&s.flags&2?t=o+1:n=o}return t}function Na(e){if(!(e.flags&1)){const t=Ko(e),n=un[un.length-1];!n||!(e.flags&2)&&t>=Ko(n)?un.push(e):un.splice(xd(t),0,e),e.flags|=1,Jl()}}function Jl(){Hi||(Hi=Ql.then(Zl))}function Ed(e){Ke(e)?ro.push(...e):pr&&e.id===-1?pr.splice(Zr+1,0,e):e.flags&1||(ro.push(e),e.flags|=1),Jl()}function du(e,t,n=qn+1){for(;n<un.length;n++){const o=un[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;un.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Xl(e){if(ro.length){const t=[...new Set(ro)].sort((n,o)=>Ko(n)-Ko(o));if(ro.length=0,pr){pr.push(...t);return}for(pr=t,Zr=0;Zr<pr.length;Zr++){const n=pr[Zr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pr=null,Zr=0}}const Ko=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Zl(e){try{for(qn=0;qn<un.length;qn++){const t=un[qn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ti(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qn<un.length;qn++){const t=un[qn];t&&(t.flags&=-2)}qn=-1,un.length=0,Xl(),Hi=null,(un.length||ro.length)&&Zl()}}let jt=null,ec=null;function Wi(e){const t=jt;return jt=e,ec=e&&e.type.__scopeId||null,t}function Le(e,t=jt,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&Cu(-1);const a=Wi(t);let c;try{c=e(...s)}finally{Wi(a),o._d&&Cu(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function En(e,t){if(jt===null)return e;const n=as(jt),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,d=bt]=t[s];a&&(We(a)&&(a={mounted:a,updated:a}),a.deep&&tr(c),o.push({dir:a,instance:n,value:c,oldValue:void 0,arg:l,modifiers:d}))}return e}function kr(e,t,n,o){const s=e.dirs,a=t&&t.dirs;for(let c=0;c<s.length;c++){const l=s[c];a&&(l.oldValue=a[c].value);let d=l.dir[o];d&&(Cr(),Rn(d,n,8,[e.el,l,e,t]),xr())}}const Id=Symbol("_vte"),tc=e=>e.__isTeleport,mr=Symbol("_leaveCb"),Ni=Symbol("_enterCb");function Td(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return co(()=>{e.isMounted=!0}),lc(()=>{e.isUnmounting=!0}),e}const yn=[Function,Array],nc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yn,onEnter:yn,onAfterEnter:yn,onEnterCancelled:yn,onBeforeLeave:yn,onLeave:yn,onAfterLeave:yn,onLeaveCancelled:yn,onBeforeAppear:yn,onAppear:yn,onAfterAppear:yn,onAppearCancelled:yn},rc=e=>{const t=e.subTree;return t.component?rc(t.component):t},Ad={name:"BaseTransition",props:nc,setup(e,{slots:t}){const n=Ch(),o=Td();return()=>{const s=t.default&&sc(t.default(),!0);if(!s||!s.length)return;const a=oc(s),c=ht(e),{mode:l}=c;if(o.isLeaving)return Ks(a);const d=hu(a);if(!d)return Ks(a);let y=ia(d,c,o,n,m=>y=m);d.type!==ln&&Uo(d,y);let p=n.subTree&&hu(n.subTree);if(p&&p.type!==ln&&!Br(d,p)&&rc(n).type!==ln){let m=ia(p,c,o,n);if(Uo(p,m),l==="out-in"&&d.type!==ln)return o.isLeaving=!0,m.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,p=void 0},Ks(a);l==="in-out"&&d.type!==ln?m.delayLeave=(_,C,H)=>{const re=ic(o,p);re[String(p.key)]=p,_[mr]=()=>{C(),_[mr]=void 0,delete y.delayedLeave,p=void 0},y.delayedLeave=()=>{H(),delete y.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return a}}};function oc(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ln){t=n;break}}return t}const Pd=Ad;function ic(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ia(e,t,n,o,s){const{appear:a,mode:c,persisted:l=!1,onBeforeEnter:d,onEnter:y,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:_,onLeave:C,onAfterLeave:H,onLeaveCancelled:re,onBeforeAppear:Ee,onAppear:z,onAfterAppear:W,onAppearCancelled:Z}=t,ae=String(e.key),U=ic(n,e),be=(X,we)=>{X&&Rn(X,o,9,we)},le=(X,we)=>{const Te=we[1];be(X,we),Ke(X)?X.every(se=>se.length<=1)&&Te():X.length<=1&&Te()},me={mode:c,persisted:l,beforeEnter(X){let we=d;if(!n.isMounted)if(a)we=Ee||d;else return;X[mr]&&X[mr](!0);const Te=U[ae];Te&&Br(e,Te)&&Te.el[mr]&&Te.el[mr](),be(we,[X])},enter(X){let we=y,Te=p,se=m;if(!n.isMounted)if(a)we=z||y,Te=W||p,se=Z||m;else return;let Ne=!1;const nt=X[Ni]=_t=>{Ne||(Ne=!0,_t?be(se,[X]):be(Te,[X]),me.delayedLeave&&me.delayedLeave(),X[Ni]=void 0)};we?le(we,[X,nt]):nt()},leave(X,we){const Te=String(e.key);if(X[Ni]&&X[Ni](!0),n.isUnmounting)return we();be(_,[X]);let se=!1;const Ne=X[mr]=nt=>{se||(se=!0,we(),nt?be(re,[X]):be(H,[X]),X[mr]=void 0,U[Te]===e&&delete U[Te])};U[Te]=e,C?le(C,[X,Ne]):Ne()},clone(X){const we=ia(X,t,n,o,s);return s&&s(we),we}};return me}function Ks(e){if(rs(e))return e=Sr(e),e.children=null,e}function hu(e){if(!rs(e))return tc(e.type)&&e.children?oc(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&We(n.default))return n.default()}}function Uo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Uo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sc(e,t=!1,n){let o=[],s=0;for(let a=0;a<e.length;a++){let c=e[a];const l=n==null?c.key:String(n)+String(c.key!=null?c.key:a);c.type===tt?(c.patchFlag&128&&s++,o=o.concat(sc(c.children,t,l))):(t||c.type!==ln)&&o.push(l!=null?Sr(c,{key:l}):c)}if(s>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function dt(e,t){return We(e)?Wt({name:e.name},t,{setup:e}):e}function ac(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function zi(e,t,n,o,s=!1){if(Ke(e)){e.forEach((H,re)=>zi(H,t&&(Ke(t)?t[re]:t),n,o,s));return}if(oo(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&zi(e,t,n,o.component.subTree);return}const a=o.shapeFlag&4?as(o.component):o.el,c=s?null:a,{i:l,r:d}=e,y=t&&t.r,p=l.refs===bt?l.refs={}:l.refs,m=l.setupState,_=ht(m),C=m===bt?()=>!1:H=>vt(_,H);if(y!=null&&y!==d&&(Rt(y)?(p[y]=null,C(y)&&(m[y]=null)):$t(y)&&(y.value=null)),We(d))ti(d,l,12,[c,p]);else{const H=Rt(d),re=$t(d);if(H||re){const Ee=()=>{if(e.f){const z=H?C(d)?m[d]:p[d]:d.value;s?Ke(z)&&Sa(z,a):Ke(z)?z.includes(a)||z.push(a):H?(p[d]=[a],C(d)&&(m[d]=p[d])):(d.value=[a],e.k&&(p[e.k]=d.value))}else H?(p[d]=c,C(d)&&(m[d]=c)):re&&(d.value=c,e.k&&(p[e.k]=c))};c?(Ee.id=-1,hn(Ee,n)):Ee()}}}Zi().requestIdleCallback;Zi().cancelIdleCallback;const oo=e=>!!e.type.__asyncLoader,rs=e=>e.type.__isKeepAlive;function Rd(e,t){uc(e,"a",t)}function kd(e,t){uc(e,"da",t)}function uc(e,t,n=Ht){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(os(t,o,n),n){let s=n.parent;for(;s&&s.parent;)rs(s.parent.vnode)&&Od(o,t,n,s),s=s.parent}}function Od(e,t,n,o){const s=os(t,e,o,!0);cc(()=>{Sa(o[t],s)},n)}function os(e,t,n=Ht,o=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{Cr();const l=ri(n),d=Rn(t,n,e,c);return l(),xr(),d});return o?s.unshift(a):s.push(a),a}}const rr=e=>(t,n=Ht)=>{(!Ho||e==="sp")&&os(e,(...o)=>t(...o),n)},Dd=rr("bm"),co=rr("m"),Nd=rr("bu"),$d=rr("u"),lc=rr("bum"),cc=rr("um"),Bd=rr("sp"),Md=rr("rtg"),Fd=rr("rtc");function Ld(e,t=Ht){os("ec",e,t)}const fc="components";function ni(e,t){return hc(fc,e,!0,t)||e}const dc=Symbol.for("v-ndc");function jd(e){return Rt(e)?hc(fc,e,!1)||e:e||dc}function hc(e,t,n=!0,o=!1){const s=jt||Ht;if(s){const a=s.type;{const l=Ah(a,!1);if(l&&(l===t||l===bn(t)||l===Xi(bn(t))))return a}const c=pu(s[e]||a[e],t)||pu(s.appContext[e],t);return!c&&o?a:c}}function pu(e,t){return e&&(e[t]||e[bn(t)]||e[Xi(bn(t))])}function an(e,t,n,o){let s;const a=n,c=Ke(e);if(c||Rt(e)){const l=c&&br(e);let d=!1;l&&(d=!gn(e),e=es(e)),s=new Array(e.length);for(let y=0,p=e.length;y<p;y++)s[y]=t(d?Zt(e[y]):e[y],y,void 0,a)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,a)}else if(wt(e))if(e[Symbol.iterator])s=Array.from(e,(l,d)=>t(l,d,void 0,a));else{const l=Object.keys(e);s=new Array(l.length);for(let d=0,y=l.length;d<y;d++){const p=l[d];s[d]=t(e[p],p,d,a)}}else s=[];return s}function Kd(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(Ke(o))for(let s=0;s<o.length;s++)e[o[s].name]=o[s].fn;else o&&(e[o.name]=o.key?(...s)=>{const a=o.fn(...s);return a&&(a.key=o.key),a}:o.fn)}return e}function Ft(e,t,n={},o,s){if(jt.ce||jt.parent&&oo(jt.parent)&&jt.parent.ce)return t!=="default"&&(n.name=t),Y(),yt(tt,null,[Pe("slot",n,o)],64);let a=e[t];a&&a._c&&(a._d=!1),Y();const c=a&&pc(a(n)),l=n.key||c&&c.key,d=yt(tt,{key:(l&&!Pn(l)?l:`_${t}`)+""},c||[],c&&e._===1?64:-2);return!s&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),a&&a._c&&(a._d=!0),d}function pc(e){return e.some(t=>Vo(t)?!(t.type===ln||t.type===tt&&!pc(t.children)):!0)?e:null}const sa=e=>e?Bc(e)?as(e):sa(e.parent):null,No=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sa(e.parent),$root:e=>sa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vc(e),$forceUpdate:e=>e.f||(e.f=()=>{Na(e.update)}),$nextTick:e=>e.n||(e.n=ns.bind(e.proxy)),$watch:e=>lh.bind(e)}),Us=(e,t)=>e!==bt&&!e.__isScriptSetup&&vt(e,t),Ud={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:a,accessCache:c,type:l,appContext:d}=e;let y;if(t[0]!=="$"){const C=c[t];if(C!==void 0)switch(C){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(Us(o,t))return c[t]=1,o[t];if(s!==bt&&vt(s,t))return c[t]=2,s[t];if((y=e.propsOptions[0])&&vt(y,t))return c[t]=3,a[t];if(n!==bt&&vt(n,t))return c[t]=4,n[t];aa&&(c[t]=0)}}const p=No[t];let m,_;if(p)return t==="$attrs"&&Xt(e.attrs,"get",""),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==bt&&vt(n,t))return c[t]=4,n[t];if(_=d.config.globalProperties,vt(_,t))return _[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:a}=e;return Us(s,t)?(s[t]=n,!0):o!==bt&&vt(o,t)?(o[t]=n,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:a}},c){let l;return!!n[c]||e!==bt&&vt(e,c)||Us(t,c)||(l=a[0])&&vt(l,c)||vt(o,c)||vt(No,c)||vt(s.config.globalProperties,c)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:vt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function mu(e){return Ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let aa=!0;function qd(e){const t=vc(e),n=e.proxy,o=e.ctx;aa=!1,t.beforeCreate&&vu(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:c,watch:l,provide:d,inject:y,created:p,beforeMount:m,mounted:_,beforeUpdate:C,updated:H,activated:re,deactivated:Ee,beforeDestroy:z,beforeUnmount:W,destroyed:Z,unmounted:ae,render:U,renderTracked:be,renderTriggered:le,errorCaptured:me,serverPrefetch:X,expose:we,inheritAttrs:Te,components:se,directives:Ne,filters:nt}=t;if(y&&Vd(y,o,null),c)for(const Ve in c){const Je=c[Ve];We(Je)&&(o[Ve]=Je.bind(n))}if(s){const Ve=s.call(n,n);wt(Ve)&&(e.data=ei(Ve))}if(aa=!0,a)for(const Ve in a){const Je=a[Ve],Ut=We(Je)?Je.bind(n,n):We(Je.get)?Je.get.bind(n,n):Hn,Bt=!We(Je)&&We(Je.set)?Je.set.bind(n):Hn,xt=Qe({get:Ut,set:Bt});Object.defineProperty(o,Ve,{enumerable:!0,configurable:!0,get:()=>xt.value,set:Lt=>xt.value=Lt})}if(l)for(const Ve in l)mc(l[Ve],o,n,Ve);if(d){const Ve=We(d)?d.call(n):d;Reflect.ownKeys(Ve).forEach(Je=>{Mi(Je,Ve[Je])})}p&&vu(p,e,"c");function it(Ve,Je){Ke(Je)?Je.forEach(Ut=>Ve(Ut.bind(n))):Je&&Ve(Je.bind(n))}if(it(Dd,m),it(co,_),it(Nd,C),it($d,H),it(Rd,re),it(kd,Ee),it(Ld,me),it(Fd,be),it(Md,le),it(lc,W),it(cc,ae),it(Bd,X),Ke(we))if(we.length){const Ve=e.exposed||(e.exposed={});we.forEach(Je=>{Object.defineProperty(Ve,Je,{get:()=>n[Je],set:Ut=>n[Je]=Ut})})}else e.exposed||(e.exposed={});U&&e.render===Hn&&(e.render=U),Te!=null&&(e.inheritAttrs=Te),se&&(e.components=se),Ne&&(e.directives=Ne),X&&ac(e)}function Vd(e,t,n=Hn){Ke(e)&&(e=ua(e));for(const o in e){const s=e[o];let a;wt(s)?"default"in s?a=Tn(s.from||o,s.default,!0):a=Tn(s.from||o):a=Tn(s),$t(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[o]=a}}function vu(e,t,n){Rn(Ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function mc(e,t,n,o){let s=o.includes(".")?Rc(n,o):()=>n[o];if(Rt(e)){const a=t[e];We(a)&&Wn(s,a)}else if(We(e))Wn(s,e.bind(n));else if(wt(e))if(Ke(e))e.forEach(a=>mc(a,t,n,o));else{const a=We(e.handler)?e.handler.bind(n):t[e.handler];We(a)&&Wn(s,a,e)}}function vc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,l=a.get(t);let d;return l?d=l:!s.length&&!n&&!o?d=t:(d={},s.length&&s.forEach(y=>Yi(d,y,c,!0)),Yi(d,t,c)),wt(t)&&a.set(t,d),d}function Yi(e,t,n,o=!1){const{mixins:s,extends:a}=t;a&&Yi(e,a,n,!0),s&&s.forEach(c=>Yi(e,c,n,!0));for(const c in t)if(!(o&&c==="expose")){const l=Hd[c]||n&&n[c];e[c]=l?l(e[c],t[c]):t[c]}return e}const Hd={data:yu,props:gu,emits:gu,methods:Po,computed:Po,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:Po,directives:Po,watch:zd,provide:yu,inject:Wd};function yu(e,t){return t?e?function(){return Wt(We(e)?e.call(this,this):e,We(t)?t.call(this,this):t)}:t:e}function Wd(e,t){return Po(ua(e),ua(t))}function ua(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function on(e,t){return e?[...new Set([].concat(e,t))]:t}function Po(e,t){return e?Wt(Object.create(null),e,t):t}function gu(e,t){return e?Ke(e)&&Ke(t)?[...new Set([...e,...t])]:Wt(Object.create(null),mu(e),mu(t??{})):t}function zd(e,t){if(!e)return t;if(!t)return e;const n=Wt(Object.create(null),e);for(const o in t)n[o]=on(e[o],t[o]);return n}function yc(){return{app:null,config:{isNativeTag:Nf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yd=0;function Gd(e,t){return function(o,s=null){We(o)||(o=Wt({},o)),s!=null&&!wt(s)&&(s=null);const a=yc(),c=new WeakSet,l=[];let d=!1;const y=a.app={_uid:Yd++,_component:o,_props:s,_container:null,_context:a,_instance:null,version:Rh,get config(){return a.config},set config(p){},use(p,...m){return c.has(p)||(p&&We(p.install)?(c.add(p),p.install(y,...m)):We(p)&&(c.add(p),p(y,...m))),y},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),y},component(p,m){return m?(a.components[p]=m,y):a.components[p]},directive(p,m){return m?(a.directives[p]=m,y):a.directives[p]},mount(p,m,_){if(!d){const C=y._ceVNode||Pe(o,s);return C.appContext=a,_===!0?_="svg":_===!1&&(_=void 0),e(C,p,_),d=!0,y._container=p,p.__vue_app__=y,as(C.component)}},onUnmount(p){l.push(p)},unmount(){d&&(Rn(l,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(p,m){return a.provides[p]=m,y},runWithContext(p){const m=Fr;Fr=y;try{return p()}finally{Fr=m}}};return y}}let Fr=null;function Mi(e,t){if(Ht){let n=Ht.provides;const o=Ht.parent&&Ht.parent.provides;o===n&&(n=Ht.provides=Object.create(o)),n[e]=t}}function Tn(e,t,n=!1){const o=Ht||jt;if(o||Fr){const s=Fr?Fr._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&We(t)?t.call(o&&o.proxy):t}}function Qd(){return!!(Ht||jt||Fr)}const gc={},_c=()=>Object.create(gc),bc=e=>Object.getPrototypeOf(e)===gc;function Jd(e,t,n,o=!1){const s={},a=_c();e.propsDefaults=Object.create(null),wc(e,t,s,a);for(const c in e.propsOptions[0])c in s||(s[c]=void 0);n?e.props=o?s:Wl(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function Xd(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:c}}=e,l=ht(s),[d]=e.propsOptions;let y=!1;if((o||c>0)&&!(c&16)){if(c&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let _=p[m];if(is(e.emitsOptions,_))continue;const C=t[_];if(d)if(vt(a,_))C!==a[_]&&(a[_]=C,y=!0);else{const H=bn(_);s[H]=la(d,l,H,C,e,!1)}else C!==a[_]&&(a[_]=C,y=!0)}}}else{wc(e,t,s,a)&&(y=!0);let p;for(const m in l)(!t||!vt(t,m)&&((p=jr(m))===m||!vt(t,p)))&&(d?n&&(n[m]!==void 0||n[p]!==void 0)&&(s[m]=la(d,l,m,void 0,e,!0)):delete s[m]);if(a!==l)for(const m in a)(!t||!vt(t,m))&&(delete a[m],y=!0)}y&&er(e.attrs,"set","")}function wc(e,t,n,o){const[s,a]=e.propsOptions;let c=!1,l;if(t)for(let d in t){if(ko(d))continue;const y=t[d];let p;s&&vt(s,p=bn(d))?!a||!a.includes(p)?n[p]=y:(l||(l={}))[p]=y:is(e.emitsOptions,d)||(!(d in o)||y!==o[d])&&(o[d]=y,c=!0)}if(a){const d=ht(n),y=l||bt;for(let p=0;p<a.length;p++){const m=a[p];n[m]=la(s,d,m,y[m],e,!vt(y,m))}}return c}function la(e,t,n,o,s,a){const c=e[n];if(c!=null){const l=vt(c,"default");if(l&&o===void 0){const d=c.default;if(c.type!==Function&&!c.skipFactory&&We(d)){const{propsDefaults:y}=s;if(n in y)o=y[n];else{const p=ri(s);o=y[n]=d.call(null,t),p()}}else o=d;s.ce&&s.ce._setProp(n,o)}c[0]&&(a&&!l?o=!1:c[1]&&(o===""||o===jr(n))&&(o=!0))}return o}const Zd=new WeakMap;function Sc(e,t,n=!1){const o=n?Zd:t.propsCache,s=o.get(e);if(s)return s;const a=e.props,c={},l=[];let d=!1;if(!We(e)){const p=m=>{d=!0;const[_,C]=Sc(m,t,!0);Wt(c,_),C&&l.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!a&&!d)return wt(e)&&o.set(e,to),to;if(Ke(a))for(let p=0;p<a.length;p++){const m=bn(a[p]);_u(m)&&(c[m]=bt)}else if(a)for(const p in a){const m=bn(p);if(_u(m)){const _=a[p],C=c[m]=Ke(_)||We(_)?{type:_}:Wt({},_),H=C.type;let re=!1,Ee=!0;if(Ke(H))for(let z=0;z<H.length;++z){const W=H[z],Z=We(W)&&W.name;if(Z==="Boolean"){re=!0;break}else Z==="String"&&(Ee=!1)}else re=We(H)&&H.name==="Boolean";C[0]=re,C[1]=Ee,(re||vt(C,"default"))&&l.push(m)}}const y=[c,l];return wt(e)&&o.set(e,y),y}function _u(e){return e[0]!=="$"&&!ko(e)}const Cc=e=>e[0]==="_"||e==="$stable",$a=e=>Ke(e)?e.map(Vn):[Vn(e)],eh=(e,t,n)=>{if(t._n)return t;const o=Le((...s)=>$a(t(...s)),n);return o._c=!1,o},xc=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Cc(s))continue;const a=e[s];if(We(a))t[s]=eh(s,a,o);else if(a!=null){const c=$a(a);t[s]=()=>c}}},Ec=(e,t)=>{const n=$a(t);e.slots.default=()=>n},Ic=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},th=(e,t,n)=>{const o=e.slots=_c();if(e.vnode.shapeFlag&32){const s=t._;s?(Ic(o,t,n),n&&El(o,"_",s,!0)):xc(t,o)}else t&&Ec(e,t)},nh=(e,t,n)=>{const{vnode:o,slots:s}=e;let a=!0,c=bt;if(o.shapeFlag&32){const l=t._;l?n&&l===1?a=!1:Ic(s,t,n):(a=!t.$stable,xc(t,s)),c=t}else t&&(Ec(e,t),c={default:1});if(a)for(const l in s)!Cc(l)&&c[l]==null&&delete s[l]},hn=vh;function rh(e){return oh(e)}function oh(e,t){const n=Zi();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:c,createText:l,createComment:d,setText:y,setElementText:p,parentNode:m,nextSibling:_,setScopeId:C=Hn,insertStaticContent:H}=e,re=(S,E,j,G=null,oe=null,ne=null,Ie=void 0,_e=null,ve=!!E.dynamicChildren)=>{if(S===E)return;S&&!Br(S,E)&&(G=te(S),Lt(S,oe,ne,!0),S=null),E.patchFlag===-2&&(ve=!1,E.dynamicChildren=null);const{type:ie,ref:je,shapeFlag:Ae}=E;switch(ie){case ss:Ee(S,E,j,G);break;case ln:z(S,E,j,G);break;case Vs:S==null&&W(E,j,G,Ie);break;case tt:se(S,E,j,G,oe,ne,Ie,_e,ve);break;default:Ae&1?U(S,E,j,G,oe,ne,Ie,_e,ve):Ae&6?Ne(S,E,j,G,oe,ne,Ie,_e,ve):(Ae&64||Ae&128)&&ie.process(S,E,j,G,oe,ne,Ie,_e,ve,Be)}je!=null&&oe&&zi(je,S&&S.ref,ne,E||S,!E)},Ee=(S,E,j,G)=>{if(S==null)o(E.el=l(E.children),j,G);else{const oe=E.el=S.el;E.children!==S.children&&y(oe,E.children)}},z=(S,E,j,G)=>{S==null?o(E.el=d(E.children||""),j,G):E.el=S.el},W=(S,E,j,G)=>{[S.el,S.anchor]=H(S.children,E,j,G,S.el,S.anchor)},Z=({el:S,anchor:E},j,G)=>{let oe;for(;S&&S!==E;)oe=_(S),o(S,j,G),S=oe;o(E,j,G)},ae=({el:S,anchor:E})=>{let j;for(;S&&S!==E;)j=_(S),s(S),S=j;s(E)},U=(S,E,j,G,oe,ne,Ie,_e,ve)=>{E.type==="svg"?Ie="svg":E.type==="math"&&(Ie="mathml"),S==null?be(E,j,G,oe,ne,Ie,_e,ve):X(S,E,oe,ne,Ie,_e,ve)},be=(S,E,j,G,oe,ne,Ie,_e)=>{let ve,ie;const{props:je,shapeFlag:Ae,transition:Me,dirs:Ue}=S;if(ve=S.el=c(S.type,ne,je&&je.is,je),Ae&8?p(ve,S.children):Ae&16&&me(S.children,ve,null,G,oe,qs(S,ne),Ie,_e),Ue&&kr(S,null,G,"created"),le(ve,S,S.scopeId,Ie,G),je){for(const st in je)st!=="value"&&!ko(st)&&a(ve,st,null,je[st],ne,G);"value"in je&&a(ve,"value",null,je.value,ne),(ie=je.onVnodeBeforeMount)&&Un(ie,G,S)}Ue&&kr(S,null,G,"beforeMount");const He=ih(oe,Me);He&&Me.beforeEnter(ve),o(ve,E,j),((ie=je&&je.onVnodeMounted)||He||Ue)&&hn(()=>{ie&&Un(ie,G,S),He&&Me.enter(ve),Ue&&kr(S,null,G,"mounted")},oe)},le=(S,E,j,G,oe)=>{if(j&&C(S,j),G)for(let ne=0;ne<G.length;ne++)C(S,G[ne]);if(oe){let ne=oe.subTree;if(E===ne||Oc(ne.type)&&(ne.ssContent===E||ne.ssFallback===E)){const Ie=oe.vnode;le(S,Ie,Ie.scopeId,Ie.slotScopeIds,oe.parent)}}},me=(S,E,j,G,oe,ne,Ie,_e,ve=0)=>{for(let ie=ve;ie<S.length;ie++){const je=S[ie]=_e?vr(S[ie]):Vn(S[ie]);re(null,je,E,j,G,oe,ne,Ie,_e)}},X=(S,E,j,G,oe,ne,Ie)=>{const _e=E.el=S.el;let{patchFlag:ve,dynamicChildren:ie,dirs:je}=E;ve|=S.patchFlag&16;const Ae=S.props||bt,Me=E.props||bt;let Ue;if(j&&Or(j,!1),(Ue=Me.onVnodeBeforeUpdate)&&Un(Ue,j,E,S),je&&kr(E,S,j,"beforeUpdate"),j&&Or(j,!0),(Ae.innerHTML&&Me.innerHTML==null||Ae.textContent&&Me.textContent==null)&&p(_e,""),ie?we(S.dynamicChildren,ie,_e,j,G,qs(E,oe),ne):Ie||Je(S,E,_e,null,j,G,qs(E,oe),ne,!1),ve>0){if(ve&16)Te(_e,Ae,Me,j,oe);else if(ve&2&&Ae.class!==Me.class&&a(_e,"class",null,Me.class,oe),ve&4&&a(_e,"style",Ae.style,Me.style,oe),ve&8){const He=E.dynamicProps;for(let st=0;st<He.length;st++){const ut=He[st],At=Ae[ut],Ot=Me[ut];(Ot!==At||ut==="value")&&a(_e,ut,At,Ot,oe,j)}}ve&1&&S.children!==E.children&&p(_e,E.children)}else!Ie&&ie==null&&Te(_e,Ae,Me,j,oe);((Ue=Me.onVnodeUpdated)||je)&&hn(()=>{Ue&&Un(Ue,j,E,S),je&&kr(E,S,j,"updated")},G)},we=(S,E,j,G,oe,ne,Ie)=>{for(let _e=0;_e<E.length;_e++){const ve=S[_e],ie=E[_e],je=ve.el&&(ve.type===tt||!Br(ve,ie)||ve.shapeFlag&70)?m(ve.el):j;re(ve,ie,je,null,G,oe,ne,Ie,!0)}},Te=(S,E,j,G,oe)=>{if(E!==j){if(E!==bt)for(const ne in E)!ko(ne)&&!(ne in j)&&a(S,ne,E[ne],null,oe,G);for(const ne in j){if(ko(ne))continue;const Ie=j[ne],_e=E[ne];Ie!==_e&&ne!=="value"&&a(S,ne,_e,Ie,oe,G)}"value"in j&&a(S,"value",E.value,j.value,oe)}},se=(S,E,j,G,oe,ne,Ie,_e,ve)=>{const ie=E.el=S?S.el:l(""),je=E.anchor=S?S.anchor:l("");let{patchFlag:Ae,dynamicChildren:Me,slotScopeIds:Ue}=E;Ue&&(_e=_e?_e.concat(Ue):Ue),S==null?(o(ie,j,G),o(je,j,G),me(E.children||[],j,je,oe,ne,Ie,_e,ve)):Ae>0&&Ae&64&&Me&&S.dynamicChildren?(we(S.dynamicChildren,Me,j,oe,ne,Ie,_e),(E.key!=null||oe&&E===oe.subTree)&&Tc(S,E,!0)):Je(S,E,j,je,oe,ne,Ie,_e,ve)},Ne=(S,E,j,G,oe,ne,Ie,_e,ve)=>{E.slotScopeIds=_e,S==null?E.shapeFlag&512?oe.ctx.activate(E,j,G,Ie,ve):nt(E,j,G,oe,ne,Ie,ve):_t(S,E,ve)},nt=(S,E,j,G,oe,ne,Ie)=>{const _e=S.component=Sh(S,G,oe);if(rs(S)&&(_e.ctx.renderer=Be),xh(_e,!1,Ie),_e.asyncDep){if(oe&&oe.registerDep(_e,it,Ie),!S.el){const ve=_e.subTree=Pe(ln);z(null,ve,E,j)}}else it(_e,S,E,j,oe,ne,Ie)},_t=(S,E,j)=>{const G=E.component=S.component;if(ph(S,E,j))if(G.asyncDep&&!G.asyncResolved){Ve(G,E,j);return}else G.next=E,G.update();else E.el=S.el,G.vnode=E},it=(S,E,j,G,oe,ne,Ie)=>{const _e=()=>{if(S.isMounted){let{next:Ae,bu:Me,u:Ue,parent:He,vnode:st}=S;{const Dt=Ac(S);if(Dt){Ae&&(Ae.el=st.el,Ve(S,Ae,Ie)),Dt.asyncDep.then(()=>{S.isUnmounted||_e()});return}}let ut=Ae,At;Or(S,!1),Ae?(Ae.el=st.el,Ve(S,Ae,Ie)):Ae=st,Me&&Bi(Me),(At=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Un(At,He,Ae,st),Or(S,!0);const Ot=wu(S),qt=S.subTree;S.subTree=Ot,re(qt,Ot,m(qt.el),te(qt),S,oe,ne),Ae.el=Ot.el,ut===null&&mh(S,Ot.el),Ue&&hn(Ue,oe),(At=Ae.props&&Ae.props.onVnodeUpdated)&&hn(()=>Un(At,He,Ae,st),oe)}else{let Ae;const{el:Me,props:Ue}=E,{bm:He,m:st,parent:ut,root:At,type:Ot}=S,qt=oo(E);Or(S,!1),He&&Bi(He),!qt&&(Ae=Ue&&Ue.onVnodeBeforeMount)&&Un(Ae,ut,E),Or(S,!0);{At.ce&&At.ce._injectChildStyle(Ot);const Dt=S.subTree=wu(S);re(null,Dt,j,G,S,oe,ne),E.el=Dt.el}if(st&&hn(st,oe),!qt&&(Ae=Ue&&Ue.onVnodeMounted)){const Dt=E;hn(()=>Un(Ae,ut,Dt),oe)}(E.shapeFlag&256||ut&&oo(ut.vnode)&&ut.vnode.shapeFlag&256)&&S.a&&hn(S.a,oe),S.isMounted=!0,E=j=G=null}};S.scope.on();const ve=S.effect=new Ol(_e);S.scope.off();const ie=S.update=ve.run.bind(ve),je=S.job=ve.runIfDirty.bind(ve);je.i=S,je.id=S.uid,ve.scheduler=()=>Na(je),Or(S,!0),ie()},Ve=(S,E,j)=>{E.component=S;const G=S.vnode.props;S.vnode=E,S.next=null,Xd(S,E.props,G,j),nh(S,E.children,j),Cr(),du(S),xr()},Je=(S,E,j,G,oe,ne,Ie,_e,ve=!1)=>{const ie=S&&S.children,je=S?S.shapeFlag:0,Ae=E.children,{patchFlag:Me,shapeFlag:Ue}=E;if(Me>0){if(Me&128){Bt(ie,Ae,j,G,oe,ne,Ie,_e,ve);return}else if(Me&256){Ut(ie,Ae,j,G,oe,ne,Ie,_e,ve);return}}Ue&8?(je&16&&kt(ie,oe,ne),Ae!==ie&&p(j,Ae)):je&16?Ue&16?Bt(ie,Ae,j,G,oe,ne,Ie,_e,ve):kt(ie,oe,ne,!0):(je&8&&p(j,""),Ue&16&&me(Ae,j,G,oe,ne,Ie,_e,ve))},Ut=(S,E,j,G,oe,ne,Ie,_e,ve)=>{S=S||to,E=E||to;const ie=S.length,je=E.length,Ae=Math.min(ie,je);let Me;for(Me=0;Me<Ae;Me++){const Ue=E[Me]=ve?vr(E[Me]):Vn(E[Me]);re(S[Me],Ue,j,null,oe,ne,Ie,_e,ve)}ie>je?kt(S,oe,ne,!0,!1,Ae):me(E,j,G,oe,ne,Ie,_e,ve,Ae)},Bt=(S,E,j,G,oe,ne,Ie,_e,ve)=>{let ie=0;const je=E.length;let Ae=S.length-1,Me=je-1;for(;ie<=Ae&&ie<=Me;){const Ue=S[ie],He=E[ie]=ve?vr(E[ie]):Vn(E[ie]);if(Br(Ue,He))re(Ue,He,j,null,oe,ne,Ie,_e,ve);else break;ie++}for(;ie<=Ae&&ie<=Me;){const Ue=S[Ae],He=E[Me]=ve?vr(E[Me]):Vn(E[Me]);if(Br(Ue,He))re(Ue,He,j,null,oe,ne,Ie,_e,ve);else break;Ae--,Me--}if(ie>Ae){if(ie<=Me){const Ue=Me+1,He=Ue<je?E[Ue].el:G;for(;ie<=Me;)re(null,E[ie]=ve?vr(E[ie]):Vn(E[ie]),j,He,oe,ne,Ie,_e,ve),ie++}}else if(ie>Me)for(;ie<=Ae;)Lt(S[ie],oe,ne,!0),ie++;else{const Ue=ie,He=ie,st=new Map;for(ie=He;ie<=Me;ie++){const Et=E[ie]=ve?vr(E[ie]):Vn(E[ie]);Et.key!=null&&st.set(Et.key,ie)}let ut,At=0;const Ot=Me-He+1;let qt=!1,Dt=0;const cn=new Array(Ot);for(ie=0;ie<Ot;ie++)cn[ie]=0;for(ie=Ue;ie<=Ae;ie++){const Et=S[ie];if(At>=Ot){Lt(Et,oe,ne,!0);continue}let ke;if(Et.key!=null)ke=st.get(Et.key);else for(ut=He;ut<=Me;ut++)if(cn[ut-He]===0&&Br(Et,E[ut])){ke=ut;break}ke===void 0?Lt(Et,oe,ne,!0):(cn[ke-He]=ie+1,ke>=Dt?Dt=ke:qt=!0,re(Et,E[ke],j,null,oe,ne,Ie,_e,ve),At++)}const On=qt?sh(cn):to;for(ut=On.length-1,ie=Ot-1;ie>=0;ie--){const Et=He+ie,ke=E[Et],mn=Et+1<je?E[Et+1].el:G;cn[ie]===0?re(null,ke,j,mn,oe,ne,Ie,_e,ve):qt&&(ut<0||ie!==On[ut]?xt(ke,j,mn,2):ut--)}}},xt=(S,E,j,G,oe=null)=>{const{el:ne,type:Ie,transition:_e,children:ve,shapeFlag:ie}=S;if(ie&6){xt(S.component.subTree,E,j,G);return}if(ie&128){S.suspense.move(E,j,G);return}if(ie&64){Ie.move(S,E,j,Be);return}if(Ie===tt){o(ne,E,j);for(let Ae=0;Ae<ve.length;Ae++)xt(ve[Ae],E,j,G);o(S.anchor,E,j);return}if(Ie===Vs){Z(S,E,j);return}if(G!==2&&ie&1&&_e)if(G===0)_e.beforeEnter(ne),o(ne,E,j),hn(()=>_e.enter(ne),oe);else{const{leave:Ae,delayLeave:Me,afterLeave:Ue}=_e,He=()=>o(ne,E,j),st=()=>{Ae(ne,()=>{He(),Ue&&Ue()})};Me?Me(ne,He,st):st()}else o(ne,E,j)},Lt=(S,E,j,G=!1,oe=!1)=>{const{type:ne,props:Ie,ref:_e,children:ve,dynamicChildren:ie,shapeFlag:je,patchFlag:Ae,dirs:Me,cacheIndex:Ue}=S;if(Ae===-2&&(oe=!1),_e!=null&&zi(_e,null,j,S,!0),Ue!=null&&(E.renderCache[Ue]=void 0),je&256){E.ctx.deactivate(S);return}const He=je&1&&Me,st=!oo(S);let ut;if(st&&(ut=Ie&&Ie.onVnodeBeforeUnmount)&&Un(ut,E,S),je&6)xn(S.component,j,G);else{if(je&128){S.suspense.unmount(j,G);return}He&&kr(S,null,E,"beforeUnmount"),je&64?S.type.remove(S,E,j,Be,G):ie&&!ie.hasOnce&&(ne!==tt||Ae>0&&Ae&64)?kt(ie,E,j,!1,!0):(ne===tt&&Ae&384||!oe&&je&16)&&kt(ve,E,j),G&&en(S)}(st&&(ut=Ie&&Ie.onVnodeUnmounted)||He)&&hn(()=>{ut&&Un(ut,E,S),He&&kr(S,null,E,"unmounted")},j)},en=S=>{const{type:E,el:j,anchor:G,transition:oe}=S;if(E===tt){Cn(j,G);return}if(E===Vs){ae(S);return}const ne=()=>{s(j),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(S.shapeFlag&1&&oe&&!oe.persisted){const{leave:Ie,delayLeave:_e}=oe,ve=()=>Ie(j,ne);_e?_e(S.el,ne,ve):ve()}else ne()},Cn=(S,E)=>{let j;for(;S!==E;)j=_(S),s(S),S=j;s(E)},xn=(S,E,j)=>{const{bum:G,scope:oe,job:ne,subTree:Ie,um:_e,m:ve,a:ie}=S;bu(ve),bu(ie),G&&Bi(G),oe.stop(),ne&&(ne.flags|=8,Lt(Ie,S,E,j)),_e&&hn(_e,E),hn(()=>{S.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},kt=(S,E,j,G=!1,oe=!1,ne=0)=>{for(let Ie=ne;Ie<S.length;Ie++)Lt(S[Ie],E,j,G,oe)},te=S=>{if(S.shapeFlag&6)return te(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const E=_(S.anchor||S.el),j=E&&E[Id];return j?_(j):E};let Oe=!1;const Q=(S,E,j)=>{S==null?E._vnode&&Lt(E._vnode,null,null,!0):re(E._vnode||null,S,E,null,null,null,j),E._vnode=S,Oe||(Oe=!0,du(),Xl(),Oe=!1)},Be={p:re,um:Lt,m:xt,r:en,mt:nt,mc:me,pc:Je,pbc:we,n:te,o:e};return{render:Q,hydrate:void 0,createApp:Gd(Q)}}function qs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Or({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ih(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Tc(e,t,n=!1){const o=e.children,s=t.children;if(Ke(o)&&Ke(s))for(let a=0;a<o.length;a++){const c=o[a];let l=s[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[a]=vr(s[a]),l.el=c.el),!n&&l.patchFlag!==-2&&Tc(c,l)),l.type===ss&&(l.el=c.el)}}function sh(e){const t=e.slice(),n=[0];let o,s,a,c,l;const d=e.length;for(o=0;o<d;o++){const y=e[o];if(y!==0){if(s=n[n.length-1],e[s]<y){t[o]=s,n.push(o);continue}for(a=0,c=n.length-1;a<c;)l=a+c>>1,e[n[l]]<y?a=l+1:c=l;y<e[n[a]]&&(a>0&&(t[o]=n[a-1]),n[a]=o)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function Ac(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ac(t)}function bu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ah=Symbol.for("v-scx"),uh=()=>Tn(ah);function Wn(e,t,n){return Pc(e,t,n)}function Pc(e,t,n=bt){const{immediate:o,deep:s,flush:a,once:c}=n,l=Wt({},n),d=t&&o||!t&&a!=="post";let y;if(Ho){if(a==="sync"){const C=uh();y=C.__watcherHandles||(C.__watcherHandles=[])}else if(!d){const C=()=>{};return C.stop=Hn,C.resume=Hn,C.pause=Hn,C}}const p=Ht;l.call=(C,H,re)=>Rn(C,p,H,re);let m=!1;a==="post"?l.scheduler=C=>{hn(C,p&&p.suspense)}:a!=="sync"&&(m=!0,l.scheduler=(C,H)=>{H?C():Na(C)}),l.augmentJob=C=>{t&&(C.flags|=4),m&&(C.flags|=2,p&&(C.id=p.uid,C.i=p))};const _=Sd(e,t,l);return Ho&&(y?y.push(_):d&&_()),_}function lh(e,t,n){const o=this.proxy,s=Rt(e)?e.includes(".")?Rc(o,e):()=>o[e]:e.bind(o,o);let a;We(t)?a=t:(a=t.handler,n=t);const c=ri(this),l=Pc(s,a.bind(o),n);return c(),l}function Rc(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const ch=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bn(t)}Modifiers`]||e[`${jr(t)}Modifiers`];function fh(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||bt;let s=n;const a=t.startsWith("update:"),c=a&&ch(o,t.slice(7));c&&(c.trim&&(s=n.map(p=>Rt(p)?p.trim():p)),c.number&&(s=n.map(Ui)));let l,d=o[l=Bs(t)]||o[l=Bs(bn(t))];!d&&a&&(d=o[l=Bs(jr(t))]),d&&Rn(d,e,6,s);const y=o[l+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Rn(y,e,6,s)}}function kc(e,t,n=!1){const o=t.emitsCache,s=o.get(e);if(s!==void 0)return s;const a=e.emits;let c={},l=!1;if(!We(e)){const d=y=>{const p=kc(y,t,!0);p&&(l=!0,Wt(c,p))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!a&&!l?(wt(e)&&o.set(e,null),null):(Ke(a)?a.forEach(d=>c[d]=null):Wt(c,a),wt(e)&&o.set(e,c),c)}function is(e,t){return!e||!Qi(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,jr(t))||vt(e,t))}function wu(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[a],slots:c,attrs:l,emit:d,render:y,renderCache:p,props:m,data:_,setupState:C,ctx:H,inheritAttrs:re}=e,Ee=Wi(e);let z,W;try{if(n.shapeFlag&4){const ae=s||o,U=ae;z=Vn(y.call(U,ae,p,m,C,_,H)),W=l}else{const ae=t;z=Vn(ae.length>1?ae(m,{attrs:l,slots:c,emit:d}):ae(m,null)),W=t.props?l:dh(l)}}catch(ae){$o.length=0,ts(ae,e,1),z=Pe(ln)}let Z=z;if(W&&re!==!1){const ae=Object.keys(W),{shapeFlag:U}=Z;ae.length&&U&7&&(a&&ae.some(wa)&&(W=hh(W,a)),Z=Sr(Z,W,!1,!0))}return n.dirs&&(Z=Sr(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(n.dirs):n.dirs),n.transition&&Uo(Z,n.transition),z=Z,Wi(Ee),z}const dh=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qi(n))&&((t||(t={}))[n]=e[n]);return t},hh=(e,t)=>{const n={};for(const o in e)(!wa(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function ph(e,t,n){const{props:o,children:s,component:a}=e,{props:c,children:l,patchFlag:d}=t,y=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return o?Su(o,c,y):!!c;if(d&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const _=p[m];if(c[_]!==o[_]&&!is(y,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:o===c?!1:o?c?Su(o,c,y):!0:!!c;return!1}function Su(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const a=o[s];if(t[a]!==e[a]&&!is(n,a))return!0}return!1}function mh({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Oc=e=>e.__isSuspense;function vh(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):Ed(e)}const tt=Symbol.for("v-fgt"),ss=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),Vs=Symbol.for("v-stc"),$o=[];let pn=null;function Y(e=!1){$o.push(pn=e?null:[])}function yh(){$o.pop(),pn=$o[$o.length-1]||null}let qo=1;function Cu(e,t=!1){qo+=e,e<0&&pn&&t&&(pn.hasOnce=!0)}function Dc(e){return e.dynamicChildren=qo>0?pn||to:null,yh(),qo>0&&pn&&pn.push(e),e}function ce(e,t,n,o,s,a){return Dc(N(e,t,n,o,s,a,!0))}function yt(e,t,n,o,s){return Dc(Pe(e,t,n,o,s,!0))}function Vo(e){return e?e.__v_isVNode===!0:!1}function Br(e,t){return e.type===t.type&&e.key===t.key}const Nc=({key:e})=>e??null,Fi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Rt(e)||$t(e)||We(e)?{i:jt,r:e,k:t,f:!!n}:e:null);function N(e,t=null,n=null,o=0,s=null,a=e===tt?0:1,c=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nc(t),ref:t&&Fi(t),scopeId:ec,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:jt};return l?(Ba(d,n),a&128&&e.normalize(d)):n&&(d.shapeFlag|=Rt(n)?8:16),qo>0&&!c&&pn&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&pn.push(d),d}const Pe=gh;function gh(e,t=null,n=null,o=0,s=null,a=!1){if((!e||e===dc)&&(e=ln),Vo(e)){const l=Sr(e,t,!0);return n&&Ba(l,n),qo>0&&!a&&pn&&(l.shapeFlag&6?pn[pn.indexOf(e)]=l:pn.push(l)),l.patchFlag=-2,l}if(Ph(e)&&(e=e.__vccOpts),t){t=_h(t);let{class:l,style:d}=t;l&&!Rt(l)&&(t.class=wn(l)),wt(d)&&(Oa(d)&&!Ke(d)&&(d=Wt({},d)),t.style=xa(d))}const c=Rt(e)?1:Oc(e)?128:tc(e)?64:wt(e)?4:We(e)?2:0;return N(e,t,n,o,s,c,a,!0)}function _h(e){return e?Oa(e)||bc(e)?Wt({},e):e:null}function Sr(e,t,n=!1,o=!1){const{props:s,ref:a,patchFlag:c,children:l,transition:d}=e,y=t?$c(s||{},t):s,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Nc(y),ref:t&&t.ref?n&&a?Ke(a)?a.concat(Fi(t)):[a,Fi(t)]:Fi(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sr(e.ssContent),ssFallback:e.ssFallback&&Sr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&Uo(p,d.clone(p)),p}function Kt(e=" ",t=0){return Pe(ss,null,e,t)}function ct(e="",t=!1){return t?(Y(),yt(ln,null,e)):Pe(ln,null,e)}function Vn(e){return e==null||typeof e=="boolean"?Pe(ln):Ke(e)?Pe(tt,null,e.slice()):Vo(e)?vr(e):Pe(ss,null,String(e))}function vr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Sr(e)}function Ba(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ke(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),Ba(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!bc(t)?t._ctx=jt:s===3&&jt&&(jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else We(t)?(t={default:t,_ctx:jt},n=32):(t=String(t),o&64?(n=16,t=[Kt(t)]):n=8);e.children=t,e.shapeFlag|=n}function $c(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=wn([t.class,o.class]));else if(s==="style")t.style=xa([t.style,o.style]);else if(Qi(s)){const a=t[s],c=o[s];c&&a!==c&&!(Ke(a)&&a.includes(c))&&(t[s]=a?[].concat(a,c):c)}else s!==""&&(t[s]=o[s])}return t}function Un(e,t,n,o=null){Rn(e,t,7,[n,o])}const bh=yc();let wh=0;function Sh(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||bh,a={uid:wh++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sc(o,s),emitsOptions:kc(o,s),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:o.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=fh.bind(null,a),e.ce&&e.ce(a),a}let Ht=null;const Ch=()=>Ht||jt;let Gi,ca;{const e=Zi(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),a=>{s.length>1?s.forEach(c=>c(a)):s[0](a)}};Gi=t("__VUE_INSTANCE_SETTERS__",n=>Ht=n),ca=t("__VUE_SSR_SETTERS__",n=>Ho=n)}const ri=e=>{const t=Ht;return Gi(e),e.scope.on(),()=>{e.scope.off(),Gi(t)}},xu=()=>{Ht&&Ht.scope.off(),Gi(null)};function Bc(e){return e.vnode.shapeFlag&4}let Ho=!1;function xh(e,t=!1,n=!1){t&&ca(t);const{props:o,children:s}=e.vnode,a=Bc(e);Jd(e,o,a,t),th(e,s,n);const c=a?Eh(e,t):void 0;return t&&ca(!1),c}function Eh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ud);const{setup:o}=n;if(o){Cr();const s=e.setupContext=o.length>1?Th(e):null,a=ri(e),c=ti(o,e,0,[e.props,s]),l=Sl(c);if(xr(),a(),(l||e.sp)&&!oo(e)&&ac(e),l){if(c.then(xu,xu),t)return c.then(d=>{Eu(e,d)}).catch(d=>{ts(d,e,0)});e.asyncDep=c}else Eu(e,c)}else Mc(e)}function Eu(e,t,n){We(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=Gl(t)),Mc(e)}function Mc(e,t,n){const o=e.type;e.render||(e.render=o.render||Hn);{const s=ri(e);Cr();try{qd(e)}finally{xr(),s()}}}const Ih={get(e,t){return Xt(e,"get",""),e[t]}};function Th(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ih),slots:e.slots,emit:e.emit,expose:t}}function as(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gl(Da(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in No)return No[n](e)},has(t,n){return n in t||n in No}})):e.proxy}function Ah(e,t=!0){return We(e)?e.displayName||e.name:e.name||t&&e.__name}function Ph(e){return We(e)&&"__vccOpts"in e}const Qe=(e,t)=>bd(e,t,Ho);function Ma(e,t,n){const o=arguments.length;return o===2?wt(t)&&!Ke(t)?Vo(t)?Pe(e,null,[t]):Pe(e,t):Pe(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Vo(n)&&(n=[n]),Pe(e,t,n))}const Rh="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fa;const Iu=typeof window<"u"&&window.trustedTypes;if(Iu)try{fa=Iu.createPolicy("vue",{createHTML:e=>e})}catch{}const Fc=fa?e=>fa.createHTML(e):e=>e,kh="http://www.w3.org/2000/svg",Oh="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,Tu=Zn&&Zn.createElement("template"),Dh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?Zn.createElementNS(kh,e):t==="mathml"?Zn.createElementNS(Oh,e):n?Zn.createElement(e,{is:n}):Zn.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>Zn.createTextNode(e),createComment:e=>Zn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,a){const c=n?n.previousSibling:t.lastChild;if(s&&(s===a||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{Tu.innerHTML=Fc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Tu.content;if(o==="svg"||o==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fr="transition",To="animation",Wo=Symbol("_vtc"),Lc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Nh=Wt({},nc,Lc),$h=e=>(e.displayName="Transition",e.props=Nh,e),jc=$h((e,{slots:t})=>Ma(Pd,Bh(e),t)),Dr=(e,t=[])=>{Ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},Au=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function Bh(e){const t={};for(const se in e)se in Lc||(t[se]=e[se]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:d=a,appearActiveClass:y=c,appearToClass:p=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=e,H=Mh(s),re=H&&H[0],Ee=H&&H[1],{onBeforeEnter:z,onEnter:W,onEnterCancelled:Z,onLeave:ae,onLeaveCancelled:U,onBeforeAppear:be=z,onAppear:le=W,onAppearCancelled:me=Z}=t,X=(se,Ne,nt,_t)=>{se._enterCancelled=_t,Nr(se,Ne?p:l),Nr(se,Ne?y:c),nt&&nt()},we=(se,Ne)=>{se._isLeaving=!1,Nr(se,m),Nr(se,C),Nr(se,_),Ne&&Ne()},Te=se=>(Ne,nt)=>{const _t=se?le:W,it=()=>X(Ne,se,nt);Dr(_t,[Ne,it]),Pu(()=>{Nr(Ne,se?d:a),Jn(Ne,se?p:l),Au(_t)||Ru(Ne,o,re,it)})};return Wt(t,{onBeforeEnter(se){Dr(z,[se]),Jn(se,a),Jn(se,c)},onBeforeAppear(se){Dr(be,[se]),Jn(se,d),Jn(se,y)},onEnter:Te(!1),onAppear:Te(!0),onLeave(se,Ne){se._isLeaving=!0;const nt=()=>we(se,Ne);Jn(se,m),se._enterCancelled?(Jn(se,_),Du()):(Du(),Jn(se,_)),Pu(()=>{se._isLeaving&&(Nr(se,m),Jn(se,C),Au(ae)||Ru(se,o,Ee,nt))}),Dr(ae,[se,nt])},onEnterCancelled(se){X(se,!1,void 0,!0),Dr(Z,[se])},onAppearCancelled(se){X(se,!0,void 0,!0),Dr(me,[se])},onLeaveCancelled(se){we(se),Dr(U,[se])}})}function Mh(e){if(e==null)return null;if(wt(e))return[Hs(e.enter),Hs(e.leave)];{const t=Hs(e);return[t,t]}}function Hs(e){return Lf(e)}function Jn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Wo]||(e[Wo]=new Set)).add(t)}function Nr(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Wo];n&&(n.delete(t),n.size||(e[Wo]=void 0))}function Pu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Fh=0;function Ru(e,t,n,o){const s=e._endId=++Fh,a=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(a,n);const{type:c,timeout:l,propCount:d}=Lh(e,t);if(!c)return o();const y=c+"end";let p=0;const m=()=>{e.removeEventListener(y,_),a()},_=C=>{C.target===e&&++p>=d&&m()};setTimeout(()=>{p<d&&m()},l+1),e.addEventListener(y,_)}function Lh(e,t){const n=window.getComputedStyle(e),o=H=>(n[H]||"").split(", "),s=o(`${fr}Delay`),a=o(`${fr}Duration`),c=ku(s,a),l=o(`${To}Delay`),d=o(`${To}Duration`),y=ku(l,d);let p=null,m=0,_=0;t===fr?c>0&&(p=fr,m=c,_=a.length):t===To?y>0&&(p=To,m=y,_=d.length):(m=Math.max(c,y),p=m>0?c>y?fr:To:null,_=p?p===fr?a.length:d.length:0);const C=p===fr&&/\b(transform|all)(,|$)/.test(o(`${fr}Property`).toString());return{type:p,timeout:m,propCount:_,hasTransform:C}}function ku(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Ou(n)+Ou(e[o])))}function Ou(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Du(){return document.body.offsetHeight}function jh(e,t,n){const o=e[Wo];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Nu=Symbol("_vod"),Kh=Symbol("_vsh"),Uh=Symbol(""),qh=/(^|;)\s*display\s*:/;function Vh(e,t,n){const o=e.style,s=Rt(n);let a=!1;if(n&&!s){if(t)if(Rt(t))for(const c of t.split(";")){const l=c.slice(0,c.indexOf(":")).trim();n[l]==null&&Li(o,l,"")}else for(const c in t)n[c]==null&&Li(o,c,"");for(const c in n)c==="display"&&(a=!0),Li(o,c,n[c])}else if(s){if(t!==n){const c=o[Uh];c&&(n+=";"+c),o.cssText=n,a=qh.test(n)}}else t&&e.removeAttribute("style");Nu in e&&(e[Nu]=a?o.display:"",e[Kh]&&(o.display="none"))}const $u=/\s*!important$/;function Li(e,t,n){if(Ke(n))n.forEach(o=>Li(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Hh(e,t);$u.test(n)?e.setProperty(jr(o),n.replace($u,""),"important"):e[o]=n}}const Bu=["Webkit","Moz","ms"],Ws={};function Hh(e,t){const n=Ws[t];if(n)return n;let o=bn(t);if(o!=="filter"&&o in e)return Ws[t]=o;o=Xi(o);for(let s=0;s<Bu.length;s++){const a=Bu[s]+o;if(a in e)return Ws[t]=a}return t}const Mu="http://www.w3.org/1999/xlink";function Fu(e,t,n,o,s,a=Hf(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Mu,t.slice(6,t.length)):e.setAttributeNS(Mu,t,n):n==null||a&&!Il(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Pn(n)?String(n):n)}function Lu(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Fc(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(l!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Il(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(s||t)}function gr(e,t,n,o){e.addEventListener(t,n,o)}function Wh(e,t,n,o){e.removeEventListener(t,n,o)}const ju=Symbol("_vei");function zh(e,t,n,o,s=null){const a=e[ju]||(e[ju]={}),c=a[t];if(o&&c)c.value=o;else{const[l,d]=Yh(t);if(o){const y=a[t]=Jh(o,s);gr(e,l,y,d)}else c&&(Wh(e,l,c,d),a[t]=void 0)}}const Ku=/(?:Once|Passive|Capture)$/;function Yh(e){let t;if(Ku.test(e)){t={};let o;for(;o=e.match(Ku);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):jr(e.slice(2)),t]}let zs=0;const Gh=Promise.resolve(),Qh=()=>zs||(Gh.then(()=>zs=0),zs=Date.now());function Jh(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Rn(Xh(o,n.value),t,5,[o])};return n.value=e,n.attached=Qh(),n}function Xh(e,t){if(Ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Uu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Zh=(e,t,n,o,s,a)=>{const c=s==="svg";t==="class"?jh(e,o,c):t==="style"?Vh(e,n,o):Qi(t)?wa(t)||zh(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ep(e,t,o,c))?(Lu(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fu(e,t,o,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Rt(o))?Lu(e,bn(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fu(e,t,o,c))};function ep(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Uu(t)&&We(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Uu(t)&&Rt(n)?!1:t in e}const so=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?n=>Bi(t,n):t};function tp(e){e.target.composing=!0}function qu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nr=Symbol("_assign"),wr={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[nr]=so(s);const a=o||s.props&&s.props.type==="number";gr(e,t?"change":"input",c=>{if(c.target.composing)return;let l=e.value;n&&(l=l.trim()),a&&(l=Ui(l)),e[nr](l)}),n&&gr(e,"change",()=>{e.value=e.value.trim()}),t||(gr(e,"compositionstart",tp),gr(e,"compositionend",qu),gr(e,"change",qu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:a}},c){if(e[nr]=so(c),e.composing)return;const l=(a||e.type==="number")&&!/^0\d/.test(e.value)?Ui(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===d)||(e.value=d))}},np={deep:!0,created(e,t,n){e[nr]=so(n),gr(e,"change",()=>{const o=e._modelValue,s=zo(e),a=e.checked,c=e[nr];if(Ke(o)){const l=Ea(o,s),d=l!==-1;if(a&&!d)c(o.concat(s));else if(!a&&d){const y=[...o];y.splice(l,1),c(y)}}else if(lo(o)){const l=new Set(o);a?l.add(s):l.delete(s),c(l)}else c(Kc(e,a))})},mounted:Vu,beforeUpdate(e,t,n){e[nr]=so(n),Vu(e,t,n)}};function Vu(e,{value:t,oldValue:n},o){e._modelValue=t;let s;if(Ke(t))s=Ea(t,o.props.value)>-1;else if(lo(t))s=t.has(o.props.value);else{if(t===n)return;s=Zo(t,Kc(e,!0))}e.checked!==s&&(e.checked=s)}const Hu={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=lo(t);gr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Ui(zo(c)):zo(c));e[nr](e.multiple?s?new Set(a):a:a[0]),e._assigning=!0,ns(()=>{e._assigning=!1})}),e[nr]=so(o)},mounted(e,{value:t}){Wu(e,t)},beforeUpdate(e,t,n){e[nr]=so(n)},updated(e,{value:t}){e._assigning||Wu(e,t)}};function Wu(e,t){const n=e.multiple,o=Ke(t);if(!(n&&!o&&!lo(t))){for(let s=0,a=e.options.length;s<a;s++){const c=e.options[s],l=zo(c);if(n)if(o){const d=typeof l;d==="string"||d==="number"?c.selected=t.some(y=>String(y)===String(l)):c.selected=Ea(t,l)>-1}else c.selected=t.has(l);else if(Zo(zo(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zo(e){return"_value"in e?e._value:e.value}function Kc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const rp=["ctrl","shift","alt","meta"],op={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rp.some(n=>e[`${n}Key`]&&!t.includes(n))},An=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(s,...a)=>{for(let c=0;c<t.length;c++){const l=op[t[c]];if(l&&l(s,t))return}return e(s,...a)})},ip=Wt({patchProp:Zh},Dh);let zu;function sp(){return zu||(zu=rh(ip))}const ap=(...e)=>{const t=sp().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=lp(o);if(!s)return;const a=t._component;!We(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=n(s,!1,up(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},t};function up(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lp(e){return Rt(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Uc;const us=e=>Uc=e,qc=Symbol();function da(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bo||(Bo={}));function cp(){const e=Rl(!0),t=e.run(()=>et({}));let n=[],o=[];const s=Da({install(a){us(s),s._a=a,a.provide(qc,s),a.config.globalProperties.$pinia=s,o.forEach(c=>n.push(c)),o=[]},use(a){return this._a?n.push(a):o.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Vc=()=>{};function Yu(e,t,n,o=Vc){e.push(t);const s=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&kl()&&zf(s),s}function Xr(e,...t){e.slice().forEach(n=>{n(...t)})}const fp=e=>e(),Gu=Symbol(),Ys=Symbol();function ha(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],s=e[n];da(s)&&da(o)&&e.hasOwnProperty(n)&&!$t(o)&&!br(o)?e[n]=ha(s,o):e[n]=o}return e}const dp=Symbol();function hp(e){return!da(e)||!e.hasOwnProperty(dp)}const{assign:hr}=Object;function pp(e){return!!($t(e)&&e.effect)}function mp(e,t,n,o){const{state:s,actions:a,getters:c}=t,l=n.state.value[e];let d;function y(){l||(n.state.value[e]=s?s():{});const p=vd(n.state.value[e]);return hr(p,a,Object.keys(c||{}).reduce((m,_)=>(m[_]=Da(Qe(()=>{us(n);const C=n._s.get(e);return c[_].call(C,C)})),m),{}))}return d=Hc(e,y,t,n,o,!0),d}function Hc(e,t,n={},o,s,a){let c;const l=hr({actions:{}},n),d={deep:!0};let y,p,m=[],_=[],C;const H=o.state.value[e];!a&&!H&&(o.state.value[e]={}),et({});let re;function Ee(me){let X;y=p=!1,typeof me=="function"?(me(o.state.value[e]),X={type:Bo.patchFunction,storeId:e,events:C}):(ha(o.state.value[e],me),X={type:Bo.patchObject,payload:me,storeId:e,events:C});const we=re=Symbol();ns().then(()=>{re===we&&(y=!0)}),p=!0,Xr(m,X,o.state.value[e])}const z=a?function(){const{state:X}=n,we=X?X():{};this.$patch(Te=>{hr(Te,we)})}:Vc;function W(){c.stop(),m=[],_=[],o._s.delete(e)}const Z=(me,X="")=>{if(Gu in me)return me[Ys]=X,me;const we=function(){us(o);const Te=Array.from(arguments),se=[],Ne=[];function nt(Ve){se.push(Ve)}function _t(Ve){Ne.push(Ve)}Xr(_,{args:Te,name:we[Ys],store:U,after:nt,onError:_t});let it;try{it=me.apply(this&&this.$id===e?this:U,Te)}catch(Ve){throw Xr(Ne,Ve),Ve}return it instanceof Promise?it.then(Ve=>(Xr(se,Ve),Ve)).catch(Ve=>(Xr(Ne,Ve),Promise.reject(Ve))):(Xr(se,it),it)};return we[Gu]=!0,we[Ys]=X,we},ae={_p:o,$id:e,$onAction:Yu.bind(null,_),$patch:Ee,$reset:z,$subscribe(me,X={}){const we=Yu(m,me,X.detached,()=>Te()),Te=c.run(()=>Wn(()=>o.state.value[e],se=>{(X.flush==="sync"?p:y)&&me({storeId:e,type:Bo.direct,events:C},se)},hr({},d,X)));return we},$dispose:W},U=ei(ae);o._s.set(e,U);const le=(o._a&&o._a.runWithContext||fp)(()=>o._e.run(()=>(c=Rl()).run(()=>t({action:Z}))));for(const me in le){const X=le[me];if($t(X)&&!pp(X)||br(X))a||(H&&hp(X)&&($t(X)?X.value=H[me]:ha(X,H[me])),o.state.value[e][me]=X);else if(typeof X=="function"){const we=Z(X,me);le[me]=we,l.actions[me]=X}}return hr(U,le),hr(ht(U),le),Object.defineProperty(U,"$state",{get:()=>o.state.value[e],set:me=>{Ee(X=>{hr(X,me)})}}),o._p.forEach(me=>{hr(U,c.run(()=>me({store:U,app:o._a,pinia:o,options:l})))}),H&&a&&n.hydrate&&n.hydrate(U.$state,H),y=!0,p=!0,U}/*! #__NO_SIDE_EFFECTS__ */function oi(e,t,n){let o,s;const a=typeof t=="function";typeof e=="string"?(o=e,s=a?n:t):(s=e,o=e.id);function c(l,d){const y=Qd();return l=l||(y?Tn(qc,null):null),l&&us(l),l=Uc,l._s.has(o)||(a?Hc(o,t,s,l):mp(o,s,l)),l._s.get(o)}return c.$id=o,c}const vp=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yp=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,gp=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function _p(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){bp(e);return}return t}function bp(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function wp(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const o=n.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!gp.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(vp.test(e)||yp.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,_p)}return JSON.parse(e)}catch(o){if(t.strict)throw o;return e}}function Sp(e,t){if(e==null)return;let n=e;for(let o=0;o<t.length;o++){if(n==null||n[t[o]]==null)return;n=n[t[o]]}return n}function Fa(e,t,n){if(n.length===0)return t;const o=n[0];return n.length>1&&(t=Fa(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,o)?Number.isInteger(Number(n[1]))?[]:{}:e[o],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(o))&&Array.isArray(e)?e.slice()[o]:Object.assign({},e,{[o]:t})}function Wc(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const o in e)n[o]=e[o];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const o in e)n[o]=e[o];return n}return Fa(e,Wc(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function zc(e,t){return t.map(n=>n.split(".")).map(n=>[n,Sp(e,n)]).filter(n=>n[1]!==void 0).reduce((n,o)=>Fa(n,o[1],o[0]),{})}function Yc(e,t){return t.map(n=>n.split(".")).reduce((n,o)=>Wc(n,o),e)}function Qu(e,{storage:t,serializer:n,key:o,debug:s,pick:a,omit:c,beforeHydrate:l,afterHydrate:d},y,p=!0){try{p&&(l==null||l(y));const m=t.getItem(o);if(m){const _=n.deserialize(m),C=a?zc(_,a):_,H=c?Yc(C,c):C;e.$patch(H)}p&&(d==null||d(y))}catch(m){s&&console.error("[pinia-plugin-persistedstate]",m)}}function Ju(e,{storage:t,serializer:n,key:o,debug:s,pick:a,omit:c}){try{const l=a?zc(e,a):e,d=c?Yc(l,c):l,y=n.serialize(d);t.setItem(o,y)}catch(l){s&&console.error("[pinia-plugin-persistedstate]",l)}}function Cp(e,t,n){const{pinia:o,store:s,options:{persist:a=n}}=e;if(!a)return;if(!(s.$id in o.state.value)){const d=o._s.get(s.$id.replace("__hot:",""));d&&Promise.resolve().then(()=>d.$persist());return}const l=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(t);s.$hydrate=({runHooks:d=!0}={})=>{l.forEach(y=>{Qu(s,y,e,d)})},s.$persist=()=>{l.forEach(d=>{Ju(s.$state,d)})},l.forEach(d=>{Qu(s,d,e),s.$subscribe((y,p)=>Ju(p,d),{detached:!0})})}function xp(e={}){return function(t){Cp(t,n=>({key:(e.key?e.key:o=>o)(n.key??t.store.$id),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>wp(o)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),e.auto??!1)}}var Ep=xp(),Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $i(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gs={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Xu;function Ip(){return Xu||(Xu=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(o,s,a){function c(y,p){if(!s[y]){if(!o[y]){var m=typeof $i=="function"&&$i;if(!p&&m)return m(y,!0);if(l)return l(y,!0);var _=new Error("Cannot find module '"+y+"'");throw _.code="MODULE_NOT_FOUND",_}var C=s[y]={exports:{}};o[y][0].call(C.exports,function(H){var re=o[y][1][H];return c(re||H)},C,C.exports,n,o,s,a)}return s[y].exports}for(var l=typeof $i=="function"&&$i,d=0;d<a.length;d++)c(a[d]);return c}({1:[function(n,o,s){(function(a){var c=a.MutationObserver||a.WebKitMutationObserver,l;if(c){var d=0,y=new c(H),p=a.document.createTextNode("");y.observe(p,{characterData:!0}),l=function(){p.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var m=new a.MessageChannel;m.port1.onmessage=H,l=function(){m.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var Ee=a.document.createElement("script");Ee.onreadystatechange=function(){H(),Ee.onreadystatechange=null,Ee.parentNode.removeChild(Ee),Ee=null},a.document.documentElement.appendChild(Ee)}:l=function(){setTimeout(H,0)};var _,C=[];function H(){_=!0;for(var Ee,z,W=C.length;W;){for(z=C,C=[],Ee=-1;++Ee<W;)z[Ee]();W=C.length}_=!1}o.exports=re;function re(Ee){C.push(Ee)===1&&!_&&l()}}).call(this,typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,o,s){var a=n(1);function c(){}var l={},d=["REJECTED"],y=["FULFILLED"],p=["PENDING"];o.exports=m;function m(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,U!==c&&re(this,U)}m.prototype.catch=function(U){return this.then(null,U)},m.prototype.then=function(U,be){if(typeof U!="function"&&this.state===y||typeof be!="function"&&this.state===d)return this;var le=new this.constructor(c);if(this.state!==p){var me=this.state===y?U:be;C(le,me,this.outcome)}else this.queue.push(new _(le,U,be));return le};function _(U,be,le){this.promise=U,typeof be=="function"&&(this.onFulfilled=be,this.callFulfilled=this.otherCallFulfilled),typeof le=="function"&&(this.onRejected=le,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(U){l.resolve(this.promise,U)},_.prototype.otherCallFulfilled=function(U){C(this.promise,this.onFulfilled,U)},_.prototype.callRejected=function(U){l.reject(this.promise,U)},_.prototype.otherCallRejected=function(U){C(this.promise,this.onRejected,U)};function C(U,be,le){a(function(){var me;try{me=be(le)}catch(X){return l.reject(U,X)}me===U?l.reject(U,new TypeError("Cannot resolve promise with itself")):l.resolve(U,me)})}l.resolve=function(U,be){var le=Ee(H,be);if(le.status==="error")return l.reject(U,le.value);var me=le.value;if(me)re(U,me);else{U.state=y,U.outcome=be;for(var X=-1,we=U.queue.length;++X<we;)U.queue[X].callFulfilled(be)}return U},l.reject=function(U,be){U.state=d,U.outcome=be;for(var le=-1,me=U.queue.length;++le<me;)U.queue[le].callRejected(be);return U};function H(U){var be=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof be=="function")return function(){be.apply(U,arguments)}}function re(U,be){var le=!1;function me(se){le||(le=!0,l.reject(U,se))}function X(se){le||(le=!0,l.resolve(U,se))}function we(){be(X,me)}var Te=Ee(we);Te.status==="error"&&me(Te.value)}function Ee(U,be){var le={};try{le.value=U(be),le.status="success"}catch(me){le.status="error",le.value=me}return le}m.resolve=z;function z(U){return U instanceof this?U:l.resolve(new this(c),U)}m.reject=W;function W(U){var be=new this(c);return l.reject(be,U)}m.all=Z;function Z(U){var be=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=U.length,me=!1;if(!le)return this.resolve([]);for(var X=new Array(le),we=0,Te=-1,se=new this(c);++Te<le;)Ne(U[Te],Te);return se;function Ne(nt,_t){be.resolve(nt).then(it,function(Ve){me||(me=!0,l.reject(se,Ve))});function it(Ve){X[_t]=Ve,++we===le&&!me&&(me=!0,l.resolve(se,X))}}}m.race=ae;function ae(U){var be=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=U.length,me=!1;if(!le)return this.resolve([]);for(var X=-1,we=new this(c);++X<le;)Te(U[X]);return we;function Te(se){be.resolve(se).then(function(Ne){me||(me=!0,l.resolve(we,Ne))},function(Ne){me||(me=!0,l.reject(we,Ne))})}}},{1:1}],3:[function(n,o,s){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,o,s){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function c(g,T){if(!(g instanceof T))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function y(){try{if(!d||!d.open)return!1;var g=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),T=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!g||T)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(g,T){g=g||[],T=T||{};try{return new Blob(g,T)}catch(R){if(R.name!=="TypeError")throw R;for(var w=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new w,M=0;M<g.length;M+=1)A.append(g[M]);return A.getBlob(T.type)}}typeof Promise>"u"&&n(3);var m=Promise;function _(g,T){T&&g.then(function(w){T(null,w)},function(w){T(w)})}function C(g,T,w){typeof T=="function"&&g.then(T),typeof w=="function"&&g.catch(w)}function H(g){return typeof g!="string"&&(console.warn(g+" used as a key, but it is not a string."),g=String(g)),g}function re(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Ee="local-forage-detect-blob-support",z=void 0,W={},Z=Object.prototype.toString,ae="readonly",U="readwrite";function be(g){for(var T=g.length,w=new ArrayBuffer(T),A=new Uint8Array(w),M=0;M<T;M++)A[M]=g.charCodeAt(M);return w}function le(g){return new m(function(T){var w=g.transaction(Ee,U),A=p([""]);w.objectStore(Ee).put(A,"key"),w.onabort=function(M){M.preventDefault(),M.stopPropagation(),T(!1)},w.oncomplete=function(){var M=navigator.userAgent.match(/Chrome\/(\d+)/),R=navigator.userAgent.match(/Edge\//);T(R||!M||parseInt(M[1],10)>=43)}}).catch(function(){return!1})}function me(g){return typeof z=="boolean"?m.resolve(z):le(g).then(function(T){return z=T,z})}function X(g){var T=W[g.name],w={};w.promise=new m(function(A,M){w.resolve=A,w.reject=M}),T.deferredOperations.push(w),T.dbReady?T.dbReady=T.dbReady.then(function(){return w.promise}):T.dbReady=w.promise}function we(g){var T=W[g.name],w=T.deferredOperations.pop();if(w)return w.resolve(),w.promise}function Te(g,T){var w=W[g.name],A=w.deferredOperations.pop();if(A)return A.reject(T),A.promise}function se(g,T){return new m(function(w,A){if(W[g.name]=W[g.name]||Lt(),g.db)if(T)X(g),g.db.close();else return w(g.db);var M=[g.name];T&&M.push(g.version);var R=d.open.apply(d,M);T&&(R.onupgradeneeded=function(J){var ue=R.result;try{ue.createObjectStore(g.storeName),J.oldVersion<=1&&ue.createObjectStore(Ee)}catch(fe){if(fe.name==="ConstraintError")console.warn('The database "'+g.name+'" has been upgraded from version '+J.oldVersion+" to version "+J.newVersion+', but the storage "'+g.storeName+'" already exists.');else throw fe}}),R.onerror=function(J){J.preventDefault(),A(R.error)},R.onsuccess=function(){var J=R.result;J.onversionchange=function(ue){ue.target.close()},w(J),we(g)}})}function Ne(g){return se(g,!1)}function nt(g){return se(g,!0)}function _t(g,T){if(!g.db)return!0;var w=!g.db.objectStoreNames.contains(g.storeName),A=g.version<g.db.version,M=g.version>g.db.version;if(A&&(g.version!==T&&console.warn('The database "'+g.name+`" can't be downgraded from version `+g.db.version+" to version "+g.version+"."),g.version=g.db.version),M||w){if(w){var R=g.db.version+1;R>g.version&&(g.version=R)}return!0}return!1}function it(g){return new m(function(T,w){var A=new FileReader;A.onerror=w,A.onloadend=function(M){var R=btoa(M.target.result||"");T({__local_forage_encoded_blob:!0,data:R,type:g.type})},A.readAsBinaryString(g)})}function Ve(g){var T=be(atob(g.data));return p([T],{type:g.type})}function Je(g){return g&&g.__local_forage_encoded_blob}function Ut(g){var T=this,w=T._initReady().then(function(){var A=W[T._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return C(w,g,g),w}function Bt(g){X(g);for(var T=W[g.name],w=T.forages,A=0;A<w.length;A++){var M=w[A];M._dbInfo.db&&(M._dbInfo.db.close(),M._dbInfo.db=null)}return g.db=null,Ne(g).then(function(R){return g.db=R,_t(g)?nt(g):R}).then(function(R){g.db=T.db=R;for(var J=0;J<w.length;J++)w[J]._dbInfo.db=R}).catch(function(R){throw Te(g,R),R})}function xt(g,T,w,A){A===void 0&&(A=1);try{var M=g.db.transaction(g.storeName,T);w(null,M)}catch(R){if(A>0&&(!g.db||R.name==="InvalidStateError"||R.name==="NotFoundError"))return m.resolve().then(function(){if(!g.db||R.name==="NotFoundError"&&!g.db.objectStoreNames.contains(g.storeName)&&g.version<=g.db.version)return g.db&&(g.version=g.db.version+1),nt(g)}).then(function(){return Bt(g).then(function(){xt(g,T,w,A-1)})}).catch(w);w(R)}}function Lt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function en(g){var T=this,w={db:null};if(g)for(var A in g)w[A]=g[A];var M=W[w.name];M||(M=Lt(),W[w.name]=M),M.forages.push(T),T._initReady||(T._initReady=T.ready,T.ready=Ut);var R=[];function J(){return m.resolve()}for(var ue=0;ue<M.forages.length;ue++){var fe=M.forages[ue];fe!==T&&R.push(fe._initReady().catch(J))}var de=M.forages.slice(0);return m.all(R).then(function(){return w.db=M.db,Ne(w)}).then(function(ye){return w.db=ye,_t(w,T._defaultConfig.version)?nt(w):ye}).then(function(ye){w.db=M.db=ye,T._dbInfo=w;for(var $e=0;$e<de.length;$e++){var Xe=de[$e];Xe!==T&&(Xe._dbInfo.db=w.db,Xe._dbInfo.version=w.version)}})}function Cn(g,T){var w=this;g=H(g);var A=new m(function(M,R){w.ready().then(function(){xt(w._dbInfo,ae,function(J,ue){if(J)return R(J);try{var fe=ue.objectStore(w._dbInfo.storeName),de=fe.get(g);de.onsuccess=function(){var ye=de.result;ye===void 0&&(ye=null),Je(ye)&&(ye=Ve(ye)),M(ye)},de.onerror=function(){R(de.error)}}catch(ye){R(ye)}})}).catch(R)});return _(A,T),A}function xn(g,T){var w=this,A=new m(function(M,R){w.ready().then(function(){xt(w._dbInfo,ae,function(J,ue){if(J)return R(J);try{var fe=ue.objectStore(w._dbInfo.storeName),de=fe.openCursor(),ye=1;de.onsuccess=function(){var $e=de.result;if($e){var Xe=$e.value;Je(Xe)&&(Xe=Ve(Xe));var lt=g(Xe,$e.key,ye++);lt!==void 0?M(lt):$e.continue()}else M()},de.onerror=function(){R(de.error)}}catch($e){R($e)}})}).catch(R)});return _(A,T),A}function kt(g,T,w){var A=this;g=H(g);var M=new m(function(R,J){var ue;A.ready().then(function(){return ue=A._dbInfo,Z.call(T)==="[object Blob]"?me(ue.db).then(function(fe){return fe?T:it(T)}):T}).then(function(fe){xt(A._dbInfo,U,function(de,ye){if(de)return J(de);try{var $e=ye.objectStore(A._dbInfo.storeName);fe===null&&(fe=void 0);var Xe=$e.put(fe,g);ye.oncomplete=function(){fe===void 0&&(fe=null),R(fe)},ye.onabort=ye.onerror=function(){var lt=Xe.error?Xe.error:Xe.transaction.error;J(lt)}}catch(lt){J(lt)}})}).catch(J)});return _(M,w),M}function te(g,T){var w=this;g=H(g);var A=new m(function(M,R){w.ready().then(function(){xt(w._dbInfo,U,function(J,ue){if(J)return R(J);try{var fe=ue.objectStore(w._dbInfo.storeName),de=fe.delete(g);ue.oncomplete=function(){M()},ue.onerror=function(){R(de.error)},ue.onabort=function(){var ye=de.error?de.error:de.transaction.error;R(ye)}}catch(ye){R(ye)}})}).catch(R)});return _(A,T),A}function Oe(g){var T=this,w=new m(function(A,M){T.ready().then(function(){xt(T._dbInfo,U,function(R,J){if(R)return M(R);try{var ue=J.objectStore(T._dbInfo.storeName),fe=ue.clear();J.oncomplete=function(){A()},J.onabort=J.onerror=function(){var de=fe.error?fe.error:fe.transaction.error;M(de)}}catch(de){M(de)}})}).catch(M)});return _(w,g),w}function Q(g){var T=this,w=new m(function(A,M){T.ready().then(function(){xt(T._dbInfo,ae,function(R,J){if(R)return M(R);try{var ue=J.objectStore(T._dbInfo.storeName),fe=ue.count();fe.onsuccess=function(){A(fe.result)},fe.onerror=function(){M(fe.error)}}catch(de){M(de)}})}).catch(M)});return _(w,g),w}function Be(g,T){var w=this,A=new m(function(M,R){if(g<0){M(null);return}w.ready().then(function(){xt(w._dbInfo,ae,function(J,ue){if(J)return R(J);try{var fe=ue.objectStore(w._dbInfo.storeName),de=!1,ye=fe.openKeyCursor();ye.onsuccess=function(){var $e=ye.result;if(!$e){M(null);return}g===0||de?M($e.key):(de=!0,$e.advance(g))},ye.onerror=function(){R(ye.error)}}catch($e){R($e)}})}).catch(R)});return _(A,T),A}function ft(g){var T=this,w=new m(function(A,M){T.ready().then(function(){xt(T._dbInfo,ae,function(R,J){if(R)return M(R);try{var ue=J.objectStore(T._dbInfo.storeName),fe=ue.openKeyCursor(),de=[];fe.onsuccess=function(){var ye=fe.result;if(!ye){A(de);return}de.push(ye.key),ye.continue()},fe.onerror=function(){M(fe.error)}}catch(ye){M(ye)}})}).catch(M)});return _(w,g),w}function S(g,T){T=re.apply(this,arguments);var w=this.config();g=typeof g!="function"&&g||{},g.name||(g.name=g.name||w.name,g.storeName=g.storeName||w.storeName);var A=this,M;if(!g.name)M=m.reject("Invalid arguments");else{var R=g.name===w.name&&A._dbInfo.db,J=R?m.resolve(A._dbInfo.db):Ne(g).then(function(ue){var fe=W[g.name],de=fe.forages;fe.db=ue;for(var ye=0;ye<de.length;ye++)de[ye]._dbInfo.db=ue;return ue});g.storeName?M=J.then(function(ue){if(ue.objectStoreNames.contains(g.storeName)){var fe=ue.version+1;X(g);var de=W[g.name],ye=de.forages;ue.close();for(var $e=0;$e<ye.length;$e++){var Xe=ye[$e];Xe._dbInfo.db=null,Xe._dbInfo.version=fe}var lt=new m(function(pt,Pt){var qe=d.open(g.name,fe);qe.onerror=function(Yt){var Tr=qe.result;Tr.close(),Pt(Yt)},qe.onupgradeneeded=function(){var Yt=qe.result;Yt.deleteObjectStore(g.storeName)},qe.onsuccess=function(){var Yt=qe.result;Yt.close(),pt(Yt)}});return lt.then(function(pt){de.db=pt;for(var Pt=0;Pt<ye.length;Pt++){var qe=ye[Pt];qe._dbInfo.db=pt,we(qe._dbInfo)}}).catch(function(pt){throw(Te(g,pt)||m.resolve()).catch(function(){}),pt})}}):M=J.then(function(ue){X(g);var fe=W[g.name],de=fe.forages;ue.close();for(var ye=0;ye<de.length;ye++){var $e=de[ye];$e._dbInfo.db=null}var Xe=new m(function(lt,pt){var Pt=d.deleteDatabase(g.name);Pt.onerror=function(){var qe=Pt.result;qe&&qe.close(),pt(Pt.error)},Pt.onblocked=function(){console.warn('dropInstance blocked for database "'+g.name+'" until all open connections are closed')},Pt.onsuccess=function(){var qe=Pt.result;qe&&qe.close(),lt(qe)}});return Xe.then(function(lt){fe.db=lt;for(var pt=0;pt<de.length;pt++){var Pt=de[pt];we(Pt._dbInfo)}}).catch(function(lt){throw(Te(g,lt)||m.resolve()).catch(function(){}),lt})})}return _(M,T),M}var E={_driver:"asyncStorage",_initStorage:en,_support:y(),iterate:xn,getItem:Cn,setItem:kt,removeItem:te,clear:Oe,length:Q,key:Be,keys:ft,dropInstance:S};function j(){return typeof openDatabase=="function"}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe="~~local_forage_type~",ne=/^~~local_forage_type~([^~]+)~/,Ie="__lfsc__:",_e=Ie.length,ve="arbf",ie="blob",je="si08",Ae="ui08",Me="uic8",Ue="si16",He="si32",st="ur16",ut="ui32",At="fl32",Ot="fl64",qt=_e+ve.length,Dt=Object.prototype.toString;function cn(g){var T=g.length*.75,w=g.length,A,M=0,R,J,ue,fe;g[g.length-1]==="="&&(T--,g[g.length-2]==="="&&T--);var de=new ArrayBuffer(T),ye=new Uint8Array(de);for(A=0;A<w;A+=4)R=G.indexOf(g[A]),J=G.indexOf(g[A+1]),ue=G.indexOf(g[A+2]),fe=G.indexOf(g[A+3]),ye[M++]=R<<2|J>>4,ye[M++]=(J&15)<<4|ue>>2,ye[M++]=(ue&3)<<6|fe&63;return de}function On(g){var T=new Uint8Array(g),w="",A;for(A=0;A<T.length;A+=3)w+=G[T[A]>>2],w+=G[(T[A]&3)<<4|T[A+1]>>4],w+=G[(T[A+1]&15)<<2|T[A+2]>>6],w+=G[T[A+2]&63];return T.length%3===2?w=w.substring(0,w.length-1)+"=":T.length%3===1&&(w=w.substring(0,w.length-2)+"=="),w}function Et(g,T){var w="";if(g&&(w=Dt.call(g)),g&&(w==="[object ArrayBuffer]"||g.buffer&&Dt.call(g.buffer)==="[object ArrayBuffer]")){var A,M=Ie;g instanceof ArrayBuffer?(A=g,M+=ve):(A=g.buffer,w==="[object Int8Array]"?M+=je:w==="[object Uint8Array]"?M+=Ae:w==="[object Uint8ClampedArray]"?M+=Me:w==="[object Int16Array]"?M+=Ue:w==="[object Uint16Array]"?M+=st:w==="[object Int32Array]"?M+=He:w==="[object Uint32Array]"?M+=ut:w==="[object Float32Array]"?M+=At:w==="[object Float64Array]"?M+=Ot:T(new Error("Failed to get type for BinaryArray"))),T(M+On(A))}else if(w==="[object Blob]"){var R=new FileReader;R.onload=function(){var J=oe+g.type+"~"+On(this.result);T(Ie+ie+J)},R.readAsArrayBuffer(g)}else try{T(JSON.stringify(g))}catch(J){console.error("Couldn't convert value into a JSON string: ",g),T(null,J)}}function ke(g){if(g.substring(0,_e)!==Ie)return JSON.parse(g);var T=g.substring(qt),w=g.substring(_e,qt),A;if(w===ie&&ne.test(T)){var M=T.match(ne);A=M[1],T=T.substring(M[0].length)}var R=cn(T);switch(w){case ve:return R;case ie:return p([R],{type:A});case je:return new Int8Array(R);case Ae:return new Uint8Array(R);case Me:return new Uint8ClampedArray(R);case Ue:return new Int16Array(R);case st:return new Uint16Array(R);case He:return new Int32Array(R);case ut:return new Uint32Array(R);case At:return new Float32Array(R);case Ot:return new Float64Array(R);default:throw new Error("Unkown type: "+w)}}var mn={serialize:Et,deserialize:ke,stringToBuffer:cn,bufferToString:On};function Dn(g,T,w,A){g.executeSql("CREATE TABLE IF NOT EXISTS "+T.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],w,A)}function Kr(g){var T=this,w={db:null};if(g)for(var A in g)w[A]=typeof g[A]!="string"?g[A].toString():g[A];var M=new m(function(R,J){try{w.db=openDatabase(w.name,String(w.version),w.description,w.size)}catch(ue){return J(ue)}w.db.transaction(function(ue){Dn(ue,w,function(){T._dbInfo=w,R()},function(fe,de){J(de)})},J)});return w.serializer=mn,M}function Se(g,T,w,A,M,R){g.executeSql(w,A,M,function(J,ue){ue.code===ue.SYNTAX_ERR?J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[T.storeName],function(fe,de){de.rows.length?R(fe,ue):Dn(fe,T,function(){fe.executeSql(w,A,M,R)},R)},R):R(J,ue)},R)}function fo(g,T){var w=this;g=H(g);var A=new m(function(M,R){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ue){Se(ue,J,"SELECT * FROM "+J.storeName+" WHERE key = ? LIMIT 1",[g],function(fe,de){var ye=de.rows.length?de.rows.item(0).value:null;ye&&(ye=J.serializer.deserialize(ye)),M(ye)},function(fe,de){R(de)})})}).catch(R)});return _(A,T),A}function ci(g,T){var w=this,A=new m(function(M,R){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ue){Se(ue,J,"SELECT * FROM "+J.storeName,[],function(fe,de){for(var ye=de.rows,$e=ye.length,Xe=0;Xe<$e;Xe++){var lt=ye.item(Xe),pt=lt.value;if(pt&&(pt=J.serializer.deserialize(pt)),pt=g(pt,lt.key,Xe+1),pt!==void 0){M(pt);return}}M()},function(fe,de){R(de)})})}).catch(R)});return _(A,T),A}function Ur(g,T,w,A){var M=this;g=H(g);var R=new m(function(J,ue){M.ready().then(function(){T===void 0&&(T=null);var fe=T,de=M._dbInfo;de.serializer.serialize(T,function(ye,$e){$e?ue($e):de.db.transaction(function(Xe){Se(Xe,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[g,ye],function(){J(fe)},function(lt,pt){ue(pt)})},function(Xe){if(Xe.code===Xe.QUOTA_ERR){if(A>0){J(Ur.apply(M,[g,fe,w,A-1]));return}ue(Xe)}})})}).catch(ue)});return _(R,w),R}function fi(g,T,w){return Ur.apply(this,[g,T,w,1])}function ho(g,T){var w=this;g=H(g);var A=new m(function(M,R){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ue){Se(ue,J,"DELETE FROM "+J.storeName+" WHERE key = ?",[g],function(){M()},function(fe,de){R(de)})})}).catch(R)});return _(A,T),A}function cs(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var R=T._dbInfo;R.db.transaction(function(J){Se(J,R,"DELETE FROM "+R.storeName,[],function(){A()},function(ue,fe){M(fe)})})}).catch(M)});return _(w,g),w}function fs(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var R=T._dbInfo;R.db.transaction(function(J){Se(J,R,"SELECT COUNT(key) as c FROM "+R.storeName,[],function(ue,fe){var de=fe.rows.item(0).c;A(de)},function(ue,fe){M(fe)})})}).catch(M)});return _(w,g),w}function or(g,T){var w=this,A=new m(function(M,R){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ue){Se(ue,J,"SELECT key FROM "+J.storeName+" WHERE id = ? LIMIT 1",[g+1],function(fe,de){var ye=de.rows.length?de.rows.item(0).key:null;M(ye)},function(fe,de){R(de)})})}).catch(R)});return _(A,T),A}function ir(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var R=T._dbInfo;R.db.transaction(function(J){Se(J,R,"SELECT key FROM "+R.storeName,[],function(ue,fe){for(var de=[],ye=0;ye<fe.rows.length;ye++)de.push(fe.rows.item(ye).key);A(de)},function(ue,fe){M(fe)})})}).catch(M)});return _(w,g),w}function po(g){return new m(function(T,w){g.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(M,R){for(var J=[],ue=0;ue<R.rows.length;ue++)J.push(R.rows.item(ue).name);T({db:g,storeNames:J})},function(M,R){w(R)})},function(A){w(A)})})}function qr(g,T){T=re.apply(this,arguments);var w=this.config();g=typeof g!="function"&&g||{},g.name||(g.name=g.name||w.name,g.storeName=g.storeName||w.storeName);var A=this,M;return g.name?M=new m(function(R){var J;g.name===w.name?J=A._dbInfo.db:J=openDatabase(g.name,"","",0),g.storeName?R({db:J,storeNames:[g.storeName]}):R(po(J))}).then(function(R){return new m(function(J,ue){R.db.transaction(function(fe){function de(lt){return new m(function(pt,Pt){fe.executeSql("DROP TABLE IF EXISTS "+lt,[],function(){pt()},function(qe,Yt){Pt(Yt)})})}for(var ye=[],$e=0,Xe=R.storeNames.length;$e<Xe;$e++)ye.push(de(R.storeNames[$e]));m.all(ye).then(function(){J()}).catch(function(lt){ue(lt)})},function(fe){ue(fe)})})}):M=m.reject("Invalid arguments"),_(M,T),M}var St={_driver:"webSQLStorage",_initStorage:Kr,_support:j(),iterate:ci,getItem:fo,setItem:fi,removeItem:ho,clear:cs,length:fs,key:or,keys:ir,dropInstance:qr};function Mt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function di(g,T){var w=g.name+"/";return g.storeName!==T.storeName&&(w+=g.storeName+"/"),w}function Vr(){var g="_localforage_support_test";try{return localStorage.setItem(g,!0),localStorage.removeItem(g),!1}catch{return!0}}function Hr(){return!Vr()||localStorage.length>0}function Wr(g){var T=this,w={};if(g)for(var A in g)w[A]=g[A];return w.keyPrefix=di(g,T._defaultConfig),Hr()?(T._dbInfo=w,w.serializer=mn,m.resolve()):m.reject()}function ds(g){var T=this,w=T.ready().then(function(){for(var A=T._dbInfo.keyPrefix,M=localStorage.length-1;M>=0;M--){var R=localStorage.key(M);R.indexOf(A)===0&&localStorage.removeItem(R)}});return _(w,g),w}function Nn(g,T){var w=this;g=H(g);var A=w.ready().then(function(){var M=w._dbInfo,R=localStorage.getItem(M.keyPrefix+g);return R&&(R=M.serializer.deserialize(R)),R});return _(A,T),A}function sr(g,T){var w=this,A=w.ready().then(function(){for(var M=w._dbInfo,R=M.keyPrefix,J=R.length,ue=localStorage.length,fe=1,de=0;de<ue;de++){var ye=localStorage.key(de);if(ye.indexOf(R)===0){var $e=localStorage.getItem(ye);if($e&&($e=M.serializer.deserialize($e)),$e=g($e,ye.substring(J),fe++),$e!==void 0)return $e}}});return _(A,T),A}function $n(g,T){var w=this,A=w.ready().then(function(){var M=w._dbInfo,R;try{R=localStorage.key(g)}catch{R=null}return R&&(R=R.substring(M.keyPrefix.length)),R});return _(A,T),A}function zr(g){var T=this,w=T.ready().then(function(){for(var A=T._dbInfo,M=localStorage.length,R=[],J=0;J<M;J++){var ue=localStorage.key(J);ue.indexOf(A.keyPrefix)===0&&R.push(ue.substring(A.keyPrefix.length))}return R});return _(w,g),w}function hs(g){var T=this,w=T.keys().then(function(A){return A.length});return _(w,g),w}function Bn(g,T){var w=this;g=H(g);var A=w.ready().then(function(){var M=w._dbInfo;localStorage.removeItem(M.keyPrefix+g)});return _(A,T),A}function hi(g,T,w){var A=this;g=H(g);var M=A.ready().then(function(){T===void 0&&(T=null);var R=T;return new m(function(J,ue){var fe=A._dbInfo;fe.serializer.serialize(T,function(de,ye){if(ye)ue(ye);else try{localStorage.setItem(fe.keyPrefix+g,de),J(R)}catch($e){($e.name==="QuotaExceededError"||$e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ue($e),ue($e)}})})});return _(M,w),M}function zn(g,T){if(T=re.apply(this,arguments),g=typeof g!="function"&&g||{},!g.name){var w=this.config();g.name=g.name||w.name,g.storeName=g.storeName||w.storeName}var A=this,M;return g.name?M=new m(function(R){g.storeName?R(di(g,A._defaultConfig)):R(g.name+"/")}).then(function(R){for(var J=localStorage.length-1;J>=0;J--){var ue=localStorage.key(J);ue.indexOf(R)===0&&localStorage.removeItem(ue)}}):M=m.reject("Invalid arguments"),_(M,T),M}var pi={_driver:"localStorageWrapper",_initStorage:Wr,_support:Mt(),iterate:sr,getItem:Nn,setItem:hi,removeItem:Bn,clear:ds,length:hs,key:$n,keys:zr,dropInstance:zn},mo=function(T,w){return T===w||typeof T=="number"&&typeof w=="number"&&isNaN(T)&&isNaN(w)},Tt=function(T,w){for(var A=T.length,M=0;M<A;){if(mo(T[M],w))return!0;M++}return!1},Mn=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"},tn={},vo={},fn={INDEXEDDB:E,WEBSQL:St,LOCALSTORAGE:pi},Yr=[fn.INDEXEDDB._driver,fn.WEBSQL._driver,fn.LOCALSTORAGE._driver],ar=["dropInstance"],Ir=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ar),Yn={description:"",driver:Yr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mi(g,T){g[T]=function(){var w=arguments;return g.ready().then(function(){return g[T].apply(g,w)})}}function ur(){for(var g=1;g<arguments.length;g++){var T=arguments[g];if(T)for(var w in T)T.hasOwnProperty(w)&&(Mn(T[w])?arguments[0][w]=T[w].slice():arguments[0][w]=T[w])}return arguments[0]}var vi=function(){function g(T){c(this,g);for(var w in fn)if(fn.hasOwnProperty(w)){var A=fn[w],M=A._driver;this[w]=M,tn[M]||this.defineDriver(A)}this._defaultConfig=ur({},Yn),this._config=ur({},this._defaultConfig,T),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return g.prototype.config=function(w){if((typeof w>"u"?"undefined":a(w))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in w){if(A==="storeName"&&(w[A]=w[A].replace(/\W/g,"_")),A==="version"&&typeof w[A]!="number")return new Error("Database version must be a number.");this._config[A]=w[A]}return"driver"in w&&w.driver?this.setDriver(this._config.driver):!0}else return typeof w=="string"?this._config[w]:this._config},g.prototype.defineDriver=function(w,A,M){var R=new m(function(J,ue){try{var fe=w._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!w._driver){ue(de);return}for(var ye=Ir.concat("_initStorage"),$e=0,Xe=ye.length;$e<Xe;$e++){var lt=ye[$e],pt=!Tt(ar,lt);if((pt||w[lt])&&typeof w[lt]!="function"){ue(de);return}}var Pt=function(){for(var Tr=function(Ln){return function(){var yi=new Error("Method "+Ln+" is not implemented by the current driver"),_o=m.reject(yi);return _(_o,arguments[arguments.length-1]),_o}},yo=0,nn=ar.length;yo<nn;yo++){var Fn=ar[yo];w[Fn]||(w[Fn]=Tr(Fn))}};Pt();var qe=function(Tr){tn[fe]&&console.info("Redefining LocalForage driver: "+fe),tn[fe]=w,vo[fe]=Tr,J()};"_support"in w?w._support&&typeof w._support=="function"?w._support().then(qe,ue):qe(!!w._support):qe(!0)}catch(Yt){ue(Yt)}});return C(R,A,M),R},g.prototype.driver=function(){return this._driver||null},g.prototype.getDriver=function(w,A,M){var R=tn[w]?m.resolve(tn[w]):m.reject(new Error("Driver not found."));return C(R,A,M),R},g.prototype.getSerializer=function(w){var A=m.resolve(mn);return C(A,w),A},g.prototype.ready=function(w){var A=this,M=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return C(M,w,w),M},g.prototype.setDriver=function(w,A,M){var R=this;Mn(w)||(w=[w]);var J=this._getSupportedDrivers(w);function ue(){R._config.driver=R.driver()}function fe($e){return R._extend($e),ue(),R._ready=R._initStorage(R._config),R._ready}function de($e){return function(){var Xe=0;function lt(){for(;Xe<$e.length;){var pt=$e[Xe];return Xe++,R._dbInfo=null,R._ready=null,R.getDriver(pt).then(fe).catch(lt)}ue();var Pt=new Error("No available storage method found.");return R._driverSet=m.reject(Pt),R._driverSet}return lt()}}var ye=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=ye.then(function(){var $e=J[0];return R._dbInfo=null,R._ready=null,R.getDriver($e).then(function(Xe){R._driver=Xe._driver,ue(),R._wrapLibraryMethodsWithReady(),R._initDriver=de(J)})}).catch(function(){ue();var $e=new Error("No available storage method found.");return R._driverSet=m.reject($e),R._driverSet}),C(this._driverSet,A,M),this._driverSet},g.prototype.supports=function(w){return!!vo[w]},g.prototype._extend=function(w){ur(this,w)},g.prototype._getSupportedDrivers=function(w){for(var A=[],M=0,R=w.length;M<R;M++){var J=w[M];this.supports(J)&&A.push(J)}return A},g.prototype._wrapLibraryMethodsWithReady=function(){for(var w=0,A=Ir.length;w<A;w++)mi(this,Ir[w])},g.prototype.createInstance=function(w){return new g(w)},g}(),at=new vi;o.exports=at},{3:3}]},{},[4])(4)})}(Gs)),Gs.exports}var Tp=Ip();const Ap=Gc(Tp);function Pp(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got ${typeof e}`);e=[...e];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var ji={exports:{}},Rp=ji.exports,Zu;function kp(){return Zu||(Zu=1,function(e,t){(function(n,o){e.exports=o()})(Rp,function(){var n=function(r,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])})(r,i)},o=function(){return(o=Object.assign||function(r){for(var i,u=1,f=arguments.length;u<f;u++)for(var h in i=arguments[u])Object.prototype.hasOwnProperty.call(i,h)&&(r[h]=i[h]);return r}).apply(this,arguments)};function s(r,i,u){for(var f,h=0,v=i.length;h<v;h++)!f&&h in i||((f=f||Array.prototype.slice.call(i,0,h))[h]=i[h]);return r.concat(f||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ro,c=Object.keys,l=Array.isArray;function d(r,i){return typeof i!="object"||c(i).forEach(function(u){r[u]=i[u]}),r}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var y=Object.getPrototypeOf,p={}.hasOwnProperty;function m(r,i){return p.call(r,i)}function _(r,i){typeof i=="function"&&(i=i(y(r))),(typeof Reflect>"u"?c:Reflect.ownKeys)(i).forEach(function(u){H(r,u,i[u])})}var C=Object.defineProperty;function H(r,i,u,f){C(r,i,d(u&&m(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function re(r){return{from:function(i){return r.prototype=Object.create(i.prototype),H(r.prototype,"constructor",r),{extend:_.bind(null,r.prototype)}}}}var Ee=Object.getOwnPropertyDescriptor,z=[].slice;function W(r,i,u){return z.call(r,i,u)}function Z(r,i){return i(r)}function ae(r){if(!r)throw new Error("Assertion Failed")}function U(r){a.setImmediate?setImmediate(r):setTimeout(r,0)}function be(r,i){if(typeof i=="string"&&m(r,i))return r[i];if(!i)return r;if(typeof i!="string"){for(var u=[],f=0,h=i.length;f<h;++f){var v=be(r,i[f]);u.push(v)}return u}var b=i.indexOf(".");if(b!==-1){var x=r[i.substr(0,b)];return x==null?void 0:be(x,i.substr(b+1))}}function le(r,i,u){if(r&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof i!="string"&&"length"in i){ae(typeof u!="string"&&"length"in u);for(var f=0,h=i.length;f<h;++f)le(r,i[f],u[f])}else{var v,b,x=i.indexOf(".");x!==-1?(v=i.substr(0,x),(b=i.substr(x+1))===""?u===void 0?l(r)&&!isNaN(parseInt(v))?r.splice(v,1):delete r[v]:r[v]=u:le(x=!(x=r[v])||!m(r,v)?r[v]={}:x,b,u)):u===void 0?l(r)&&!isNaN(parseInt(i))?r.splice(i,1):delete r[i]:r[i]=u}}function me(r){var i,u={};for(i in r)m(r,i)&&(u[i]=r[i]);return u}var X=[].concat;function we(r){return X.apply([],r)}var He="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(we([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(i){return i+r+"Array"})}))).filter(function(r){return a[r]}),Te=new Set(He.map(function(r){return a[r]})),se=null;function Ne(r){return se=new WeakMap,r=function i(u){if(!u||typeof u!="object")return u;var f=se.get(u);if(f)return f;if(l(u)){f=[],se.set(u,f);for(var h=0,v=u.length;h<v;++h)f.push(i(u[h]))}else if(Te.has(u.constructor))f=u;else{var b,x=y(u);for(b in f=x===Object.prototype?{}:Object.create(x),se.set(u,f),u)m(u,b)&&(f[b]=i(u[b]))}return f}(r),se=null,r}var nt={}.toString;function _t(r){return nt.call(r).slice(8,-1)}var it=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof it=="symbol"?function(r){var i;return r!=null&&(i=r[it])&&i.apply(r)}:function(){return null};function Je(r,i){return i=r.indexOf(i),0<=i&&r.splice(i,1),0<=i}var Ut={};function Bt(r){var i,u,f,h;if(arguments.length===1){if(l(r))return r.slice();if(this===Ut&&typeof r=="string")return[r];if(h=Ve(r)){for(u=[];!(f=h.next()).done;)u.push(f.value);return u}if(r==null)return[r];if(typeof(i=r.length)!="number")return[r];for(u=new Array(i);i--;)u[i]=r[i];return u}for(i=arguments.length,u=new Array(i);i--;)u[i]=arguments[i];return u}var xt=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ue),Lt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function en(r,i){this.name=r,this.message=i}function Cn(r,i){return r+". Errors: "+Object.keys(i).map(function(u){return i[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function xn(r,i,u,f){this.failures=i,this.failedKeys=f,this.successCount=u,this.message=Cn(r,i)}function kt(r,i){this.name="BulkError",this.failures=Object.keys(i).map(function(u){return i[u]}),this.failuresByPos=i,this.message=Cn(r,this.failures)}re(en).from(Error).extend({toString:function(){return this.name+": "+this.message}}),re(xn).from(en),re(kt).from(en);var te=vn.reduce(function(r,i){return r[i]=i+"Error",r},{}),Oe=en,Q=vn.reduce(function(r,i){var u=i+"Error";function f(h,v){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(v?`
 `+v:""),this.inner=v||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Lt[i]||u,this.inner=null)}return re(f).from(Oe),r[i]=f,r},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var Be=Ue.reduce(function(r,i){return r[i+"Error"]=Q[i],r},{}),ft=vn.reduce(function(r,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(r[i+"Error"]=Q[i]),r},{});function S(){}function E(r){return r}function j(r,i){return r==null||r===E?i:function(u){return i(r(u))}}function G(r,i){return function(){r.apply(this,arguments),i.apply(this,arguments)}}function oe(r,i){return r===S?i:function(){var u=r.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var v=i.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?G(f,this.onsuccess):f),h&&(this.onerror=this.onerror?G(h,this.onerror):h),v!==void 0?v:u}}function ne(r,i){return r===S?i:function(){r.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?G(u,this.onsuccess):u),f&&(this.onerror=this.onerror?G(f,this.onerror):f)}}function Ie(r,i){return r===S?i:function(u){var f=r.apply(this,arguments);d(u,f);var h=this.onsuccess,v=this.onerror;return this.onsuccess=null,this.onerror=null,u=i.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?G(h,this.onsuccess):h),v&&(this.onerror=this.onerror?G(v,this.onerror):v),f===void 0?u===void 0?void 0:u:d(f,u)}}function _e(r,i){return r===S?i:function(){return i.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function ve(r,i){return r===S?i:function(){var u=r.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,v=new Array(h);h--;)v[h]=arguments[h];return u.then(function(){return i.apply(f,v)})}return i.apply(this,arguments)}}ft.ModifyError=xn,ft.DexieError=en,ft.BulkError=kt;var ie=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(r){ie=r}var Ae={},Me=100,He=typeof Promise>"u"?[]:function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,y(r),r];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,y(i),r]}(),Ue=He[0],vn=He[1],He=He[2],vn=vn&&vn.then,st=Ue&&Ue.constructor,ut=!!He,At=function(r,i){mn.push([r,i]),qt&&(queueMicrotask(fs),qt=!1)},Ot=!0,qt=!0,Dt=[],cn=[],On=E,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:S,pgp:!1,env:{},finalize:S},ke=Et,mn=[],Dn=0,Kr=[];function Se(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=ke;if(typeof r!="function"){if(r!==Ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ur(this,this._value))}this._state=null,this._value=null,++i.ref,function u(f,h){try{h(function(v){if(f._state===null){if(v===f)throw new TypeError("A promise cannot be resolved with itself.");var b=f._lib&&or();v&&typeof v.then=="function"?u(f,function(x,P){v instanceof Se?v._then(x,P):v.then(x,P)}):(f._state=!0,f._value=v,fi(f)),b&&ir()}},Ur.bind(null,f))}catch(v){Ur(f,v)}}(this,r)}var fo={get:function(){var r=ke,i=Wr;function u(f,h){var v=this,b=!r.global&&(r!==ke||i!==Wr),x=b&&!$n(),P=new Se(function(O,B){ho(v,new ci(pi(f,r,b,x),pi(h,r,b,x),O,B,r))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return u.prototype=Ae,u},set:function(r){H(this,"then",r&&r.prototype===Ae?fo:{get:function(){return r},set:fo.set})}};function ci(r,i,u,f,h){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof i=="function"?i:null,this.resolve=u,this.reject=f,this.psd=h}function Ur(r,i){var u,f;cn.push(i),r._state===null&&(u=r._lib&&or(),i=On(i),r._state=!1,r._value=i,f=r,Dt.some(function(h){return h._value===f._value})||Dt.push(f),fi(r),u&&ir())}function fi(r){var i=r._listeners;r._listeners=[];for(var u=0,f=i.length;u<f;++u)ho(r,i[u]);var h=r._PSD;--h.ref||h.finalize(),Dn===0&&(++Dn,At(function(){--Dn==0&&po()},[]))}function ho(r,i){if(r._state!==null){var u=r._state?i.onFulfilled:i.onRejected;if(u===null)return(r._state?i.resolve:i.reject)(r._value);++i.psd.ref,++Dn,At(cs,[u,r,i])}else r._listeners.push(i)}function cs(r,i,u){try{var f,h=i._value;!i._state&&cn.length&&(cn=[]),f=ie&&i._consoleTask?i._consoleTask.run(function(){return r(h)}):r(h),i._state||cn.indexOf(h)!==-1||function(v){for(var b=Dt.length;b;)if(Dt[--b]._value===v._value)return Dt.splice(b,1)}(i),u.resolve(f)}catch(v){u.reject(v)}finally{--Dn==0&&po(),--u.psd.ref||u.psd.finalize()}}function fs(){zn(Et,function(){or()&&ir()})}function or(){var r=Ot;return qt=Ot=!1,r}function ir(){var r,i,u;do for(;0<mn.length;)for(r=mn,mn=[],u=r.length,i=0;i<u;++i){var f=r[i];f[0].apply(null,f[1])}while(0<mn.length);qt=Ot=!0}function po(){var r=Dt;Dt=[],r.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var i=Kr.slice(0),u=i.length;u;)i[--u]()}function qr(r){return new Se(Ae,!1,r)}function St(r,i){var u=ke;return function(){var f=or(),h=ke;try{return Bn(u,!0),r.apply(this,arguments)}catch(v){i&&i(v)}finally{Bn(h,!1),f&&ir()}}}_(Se.prototype,{then:fo,_then:function(r,i){ho(this,new ci(null,null,r,i,ke))},catch:function(r){if(arguments.length===1)return this.then(null,r);var i=r,u=arguments[1];return typeof i=="function"?this.then(null,function(f){return(f instanceof i?u:qr)(f)}):this.then(null,function(f){return(f&&f.name===i?u:qr)(f)})},finally:function(r){return this.then(function(i){return Se.resolve(r()).then(function(){return i})},function(i){return Se.resolve(r()).then(function(){return qr(i)})})},timeout:function(r,i){var u=this;return r<1/0?new Se(function(f,h){var v=setTimeout(function(){return h(new Q.Timeout(i))},r);u.then(f,h).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&H(Se.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=hi(),_(Se,{all:function(){var r=Bt.apply(null,arguments).map(zr);return new Se(function(i,u){r.length===0&&i([]);var f=r.length;r.forEach(function(h,v){return Se.resolve(h).then(function(b){r[v]=b,--f||i(r)},u)})})},resolve:function(r){return r instanceof Se?r:r&&typeof r.then=="function"?new Se(function(i,u){r.then(i,u)}):new Se(Ae,!0,r)},reject:qr,race:function(){var r=Bt.apply(null,arguments).map(zr);return new Se(function(i,u){r.map(function(f){return Se.resolve(f).then(i,u)})})},PSD:{get:function(){return ke},set:function(r){return ke=r}},totalEchoes:{get:function(){return Wr}},newPSD:Nn,usePSD:zn,scheduler:{get:function(){return At},set:function(r){At=r}},rejectionMapper:{get:function(){return On},set:function(r){On=r}},follow:function(r,i){return new Se(function(u,f){return Nn(function(h,v){var b=ke;b.unhandleds=[],b.onunhandled=v,b.finalize=G(function(){var x,P=this;x=function(){P.unhandleds.length===0?h():v(P.unhandleds[0])},Kr.push(function O(){x(),Kr.splice(Kr.indexOf(O),1)}),++Dn,At(function(){--Dn==0&&po()},[])},b.finalize),r()},i,u,f)})}}),st&&(st.allSettled&&H(Se,"allSettled",function(){var r=Bt.apply(null,arguments).map(zr);return new Se(function(i){r.length===0&&i([]);var u=r.length,f=new Array(u);r.forEach(function(h,v){return Se.resolve(h).then(function(b){return f[v]={status:"fulfilled",value:b}},function(b){return f[v]={status:"rejected",reason:b}}).then(function(){return--u||i(f)})})})}),st.any&&typeof AggregateError<"u"&&H(Se,"any",function(){var r=Bt.apply(null,arguments).map(zr);return new Se(function(i,u){r.length===0&&u(new AggregateError([]));var f=r.length,h=new Array(f);r.forEach(function(v,b){return Se.resolve(v).then(function(x){return i(x)},function(x){h[b]=x,--f||u(new AggregateError(h))})})})}),st.withResolvers&&(Se.withResolvers=st.withResolvers));var Mt={awaits:0,echoes:0,id:0},di=0,Vr=[],Hr=0,Wr=0,ds=0;function Nn(r,i,u,f){var h=ke,v=Object.create(h);return v.parent=h,v.ref=0,v.global=!1,v.id=++ds,Et.env,v.env=ut?{Promise:Se,PromiseProp:{value:Se,configurable:!0,writable:!0},all:Se.all,race:Se.race,allSettled:Se.allSettled,any:Se.any,resolve:Se.resolve,reject:Se.reject}:{},i&&d(v,i),++h.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},f=zn(v,r,u,f),v.ref===0&&v.finalize(),f}function sr(){return Mt.id||(Mt.id=++di),++Mt.awaits,Mt.echoes+=Me,Mt.id}function $n(){return!!Mt.awaits&&(--Mt.awaits==0&&(Mt.id=0),Mt.echoes=Mt.awaits*Me,!0)}function zr(r){return Mt.echoes&&r&&r.constructor===st?(sr(),r.then(function(i){return $n(),i},function(i){return $n(),Tt(i)})):r}function hs(){var r=Vr[Vr.length-1];Vr.pop(),Bn(r,!1)}function Bn(r,i){var u,f=ke;(i?!Mt.echoes||Hr++&&r===ke:!Hr||--Hr&&r===ke)||queueMicrotask(i?(function(h){++Wr,Mt.echoes&&--Mt.echoes!=0||(Mt.echoes=Mt.awaits=Mt.id=0),Vr.push(ke),Bn(h,!0)}).bind(null,r):hs),r!==ke&&(ke=r,f===Et&&(Et.env=hi()),ut&&(u=Et.env.Promise,i=r.env,(f.global||r.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),u.all=i.all,u.race=i.race,u.resolve=i.resolve,u.reject=i.reject,i.allSettled&&(u.allSettled=i.allSettled),i.any&&(u.any=i.any))))}function hi(){var r=a.Promise;return ut?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function zn(r,i,u,f,h){var v=ke;try{return Bn(r,!0),i(u,f,h)}finally{Bn(v,!1)}}function pi(r,i,u,f){return typeof r!="function"?r:function(){var h=ke;u&&sr(),Bn(i,!0);try{return r.apply(this,arguments)}finally{Bn(h,!1),f&&queueMicrotask($n)}}}function mo(r){Promise===st&&Mt.echoes===0?Hr===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+vn).indexOf("[native code]")===-1&&(sr=$n=S);var Tt=Se.reject,Mn="",tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vo="String expected.",fn=[],Yr="__dbnames",ar="readonly",Ir="readwrite";function Yn(r,i){return r?i?function(){return r.apply(this,arguments)&&i.apply(this,arguments)}:r:i}var mi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ur(r){return typeof r!="string"||/\./.test(r)?function(i){return i}:function(i){return i[r]===void 0&&r in i&&delete(i=Ne(i))[r],i}}function vi(){throw Q.Type()}function at(r,i){try{var u=g(r),f=g(i);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return i<r?1:r<i?-1:0;case"binary":return function(h,v){for(var b=h.length,x=v.length,P=b<x?b:x,O=0;O<P;++O)if(h[O]!==v[O])return h[O]<v[O]?-1:1;return b===x?0:b<x?-1:1}(T(r),T(i));case"Array":return function(h,v){for(var b=h.length,x=v.length,P=b<x?b:x,O=0;O<P;++O){var B=at(h[O],v[O]);if(B!==0)return B}return b===x?0:b<x?-1:1}(r,i)}}catch{}return NaN}function g(r){var i=typeof r;return i!="object"?i:ArrayBuffer.isView(r)?"binary":(r=_t(r),r==="ArrayBuffer"?"binary":r)}function T(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}var w=(A.prototype._trans=function(r,i,u){var f=this._tx||ke.trans,h=this.name,v=ie&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function b(O,B,I){if(!I.schema[h])throw new Q.NotFound("Table "+h+" not part of transaction");return i(I.idbtrans,I)}var x=or();try{var P=f&&f.db._novip===this.db._novip?f===ke.trans?f._promise(r,b,u):Nn(function(){return f._promise(r,b,u)},{trans:f,transless:ke.transless||ke}):function O(B,I,L,k){if(B.idbdb&&(B._state.openComplete||ke.letThrough||B._vip)){var $=B._createTransaction(I,L,B._dbSchema);try{$.create(),B._state.PR1398_maxLoop=3}catch(F){return F.name===te.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return O(B,I,L,k)})):Tt(F)}return $._promise(I,function(F,D){return Nn(function(){return ke.trans=$,k(F,D,$)})}).then(function(F){if(I==="readwrite")try{$.idbtrans.commit()}catch{}return I==="readonly"?F:$._completion.then(function(){return F})})}if(B._state.openComplete)return Tt(new Q.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return Tt(new Q.DatabaseClosed);B.open().catch(S)}return B._state.dbReadyPromise.then(function(){return O(B,I,L,k)})}(this.db,r,[this.name],b);return v&&(P._consoleTask=v,P=P.catch(function(O){return console.trace(O),Tt(O)})),P}finally{x&&ir()}},A.prototype.get=function(r,i){var u=this;return r&&r.constructor===Object?this.where(r).first(i):r==null?Tt(new Q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:r}).then(function(h){return u.hook.reading.fire(h)})}).then(i)},A.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(l(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var i=c(r);if(i.length===1)return this.where(i[0]).equals(r[i[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&i.every(function(O){return 0<=x.keyPath.indexOf(O)})){for(var P=0;P<i.length;++P)if(i.indexOf(x.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(x,P){return x.keyPath.length-P.keyPath.length})[0];if(u&&this.db._maxKey!==Mn){var v=u.keyPath.slice(0,i.length);return this.where(v).equals(v.map(function(P){return r[P]}))}!u&&ie&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var f=this.schema.idxByName;function h(x,P){return at(x,P)===0}var b=i.reduce(function(I,P){var O=I[0],B=I[1],I=f[P],L=r[P];return[O||I,O||!I?Yn(B,I&&I.multi?function(k){return k=be(k,P),l(k)&&k.some(function($){return h(L,$)})}:function(k){return h(L,be(k,P))}):B]},[null,null]),v=b[0],b=b[1];return v?this.where(v.name).equals(r[v.keyPath]).filter(b):u?this.filter(b):this.where(i).equals("")},A.prototype.filter=function(r){return this.toCollection().and(r)},A.prototype.count=function(r){return this.toCollection().count(r)},A.prototype.offset=function(r){return this.toCollection().offset(r)},A.prototype.limit=function(r){return this.toCollection().limit(r)},A.prototype.each=function(r){return this.toCollection().each(r)},A.prototype.toArray=function(r){return this.toCollection().toArray(r)},A.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},A.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,l(r)?"[".concat(r.join("+"),"]"):r))},A.prototype.reverse=function(){return this.toCollection().reverse()},A.prototype.mapToClass=function(r){var i,u=this.db,f=this.name;function h(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof vi&&(function(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function B(){this.constructor=P}n(P,O),P.prototype=O===null?Object.create(O):(B.prototype=O.prototype,new B)}(h,i=r),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},r=h);for(var v=new Set,b=r.prototype;b;b=y(b))Object.getOwnPropertyNames(b).forEach(function(P){return v.add(P)});function x(P){if(!P)return P;var O,B=Object.create(r.prototype);for(O in P)if(!v.has(O))try{B[O]=P[O]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),r},A.prototype.defineClass=function(){return this.mapToClass(function(r){d(this,r)})},A.prototype.add=function(r,i){var u=this,f=this.schema.primKey,h=f.auto,v=f.keyPath,b=r;return v&&h&&(b=ur(v)(r)),this._trans("readwrite",function(x){return u.core.mutate({trans:x,type:"add",keys:i!=null?[i]:null,values:[b]})}).then(function(x){return x.numFailures?Se.reject(x.failures[0]):x.lastResult}).then(function(x){if(v)try{le(r,v,x)}catch{}return x})},A.prototype.update=function(r,i){return typeof r!="object"||l(r)?this.where(":id").equals(r).modify(i):(r=be(r,this.schema.primKey.keyPath),r===void 0?Tt(new Q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(i))},A.prototype.put=function(r,i){var u=this,f=this.schema.primKey,h=f.auto,v=f.keyPath,b=r;return v&&h&&(b=ur(v)(r)),this._trans("readwrite",function(x){return u.core.mutate({trans:x,type:"put",values:[b],keys:i!=null?[i]:null})}).then(function(x){return x.numFailures?Se.reject(x.failures[0]):x.lastResult}).then(function(x){if(v)try{le(r,v,x)}catch{}return x})},A.prototype.delete=function(r){var i=this;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:[r]})}).then(function(u){return u.numFailures?Se.reject(u.failures[0]):void 0})},A.prototype.clear=function(){var r=this;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"deleteRange",range:mi})}).then(function(i){return i.numFailures?Se.reject(i.failures[0]):void 0})},A.prototype.bulkGet=function(r){var i=this;return this._trans("readonly",function(u){return i.core.getMany({keys:r,trans:u}).then(function(f){return f.map(function(h){return i.hook.reading.fire(h)})})})},A.prototype.bulkAdd=function(r,i,u){var f=this,h=Array.isArray(i)?i:void 0,v=(u=u||(h?void 0:i))?u.allKeys:void 0;return this._trans("readwrite",function(b){var O=f.schema.primKey,x=O.auto,O=O.keyPath;if(O&&h)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==r.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var P=r.length,O=O&&x?r.map(ur(O)):r;return f.core.mutate({trans:b,type:"add",keys:h,values:O,wantResults:v}).then(function($){var I=$.numFailures,L=$.results,k=$.lastResult,$=$.failures;if(I===0)return v?L:k;throw new kt("".concat(f.name,".bulkAdd(): ").concat(I," of ").concat(P," operations failed"),$)})})},A.prototype.bulkPut=function(r,i,u){var f=this,h=Array.isArray(i)?i:void 0,v=(u=u||(h?void 0:i))?u.allKeys:void 0;return this._trans("readwrite",function(b){var O=f.schema.primKey,x=O.auto,O=O.keyPath;if(O&&h)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==r.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var P=r.length,O=O&&x?r.map(ur(O)):r;return f.core.mutate({trans:b,type:"put",keys:h,values:O,wantResults:v}).then(function($){var I=$.numFailures,L=$.results,k=$.lastResult,$=$.failures;if(I===0)return v?L:k;throw new kt("".concat(f.name,".bulkPut(): ").concat(I," of ").concat(P," operations failed"),$)})})},A.prototype.bulkUpdate=function(r){var i=this,u=this.core,f=r.map(function(b){return b.key}),h=r.map(function(b){return b.changes}),v=[];return this._trans("readwrite",function(b){return u.getMany({trans:b,keys:f,cache:"clone"}).then(function(x){var P=[],O=[];r.forEach(function(I,L){var k=I.key,$=I.changes,F=x[L];if(F){for(var D=0,K=Object.keys($);D<K.length;D++){var q=K[D],V=$[q];if(q===i.schema.primKey.keyPath){if(at(V,k)!==0)throw new Q.Constraint("Cannot update primary key in bulkUpdate()")}else le(F,q,V)}v.push(L),P.push(k),O.push(F)}});var B=P.length;return u.mutate({trans:b,type:"put",keys:P,values:O,updates:{keys:f,changeSpecs:h}}).then(function(I){var L=I.numFailures,k=I.failures;if(L===0)return B;for(var $=0,F=Object.keys(k);$<F.length;$++){var D,K=F[$],q=v[Number(K)];q!=null&&(D=k[K],delete k[K],k[q]=D)}throw new kt("".concat(i.name,".bulkUpdate(): ").concat(L," of ").concat(B," operations failed"),k)})})})},A.prototype.bulkDelete=function(r){var i=this,u=r.length;return this._trans("readwrite",function(f){return i.core.mutate({trans:f,type:"delete",keys:r})}).then(function(b){var h=b.numFailures,v=b.lastResult,b=b.failures;if(h===0)return v;throw new kt("".concat(i.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),b)})},A);function A(){}function M(r){function i(b,x){if(x){for(var P=arguments.length,O=new Array(P-1);--P;)O[P-1]=arguments[P];return u[b].subscribe.apply(null,O),r}if(typeof b=="string")return u[b]}var u={};i.addEventType=v;for(var f=1,h=arguments.length;f<h;++f)v(arguments[f]);return i;function v(b,x,P){if(typeof b!="object"){var O;x=x||_e;var B={subscribers:[],fire:P=P||S,subscribe:function(I){B.subscribers.indexOf(I)===-1&&(B.subscribers.push(I),B.fire=x(B.fire,I))},unsubscribe:function(I){B.subscribers=B.subscribers.filter(function(L){return L!==I}),B.fire=B.subscribers.reduce(x,P)}};return u[b]=i[b]=B}c(O=b).forEach(function(I){var L=O[I];if(l(L))v(I,O[I][0],O[I][1]);else{if(L!=="asap")throw new Q.InvalidArgument("Invalid event config");var k=v(I,E,function(){for(var $=arguments.length,F=new Array($);$--;)F[$]=arguments[$];k.subscribers.forEach(function(D){U(function(){D.apply(null,F)})})})}})}}function R(r,i){return re(i).from({prototype:r}),i}function J(r,i){return!(r.filter||r.algorithm||r.or)&&(i?r.justLimit:!r.replayFilter)}function ue(r,i){r.filter=Yn(r.filter,i)}function fe(r,i,u){var f=r.replayFilter;r.replayFilter=f?function(){return Yn(f(),i())}:i,r.justLimit=u&&!f}function de(r,i){if(r.isPrimKey)return i.primaryKey;var u=i.getIndexByKeyPath(r.index);if(!u)throw new Q.Schema("KeyPath "+r.index+" on object store "+i.name+" is not indexed");return u}function ye(r,i,u){var f=de(r,i.schema);return i.openCursor({trans:u,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:f,range:r.range}})}function $e(r,i,u,f){var h=r.replayFilter?Yn(r.filter,r.replayFilter()):r.filter;if(r.or){var v={},b=function(x,P,O){var B,I;h&&!h(P,O,function(L){return P.stop(L)},function(L){return P.fail(L)})||((I=""+(B=P.primaryKey))=="[object ArrayBuffer]"&&(I=""+new Uint8Array(B)),m(v,I)||(v[I]=!0,i(x,P,O)))};return Promise.all([r.or._iterate(b,u),Xe(ye(r,f,u),r.algorithm,b,!r.keysOnly&&r.valueMapper)])}return Xe(ye(r,f,u),Yn(r.algorithm,h),i,!r.keysOnly&&r.valueMapper)}function Xe(r,i,u,f){var h=St(f?function(v,b,x){return u(f(v),b,x)}:u);return r.then(function(v){if(v)return v.start(function(){var b=function(){return v.continue()};i&&!i(v,function(x){return b=x},function(x){v.stop(x),b=S},function(x){v.fail(x),b=S})||h(v.value,v,function(x){return b=x}),b()})})}var lt=(pt.prototype.execute=function(r){var i=this["@@propmod"];if(i.add!==void 0){var u=i.add;if(l(u))return s(s([],l(r)?r:[],!0),u).sort();if(typeof u=="number")return(Number(r)||0)+u;if(typeof u=="bigint")try{return BigInt(r)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(i.remove!==void 0){var f=i.remove;if(l(f))return l(r)?r.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(r)-f;if(typeof f=="bigint")try{return BigInt(r)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return u=(u=i.replacePrefix)===null||u===void 0?void 0:u[0],u&&typeof r=="string"&&r.startsWith(u)?i.replacePrefix[1]+r.substring(u.length):r},pt);function pt(r){this["@@propmod"]=r}var Pt=(qe.prototype._read=function(r,i){var u=this._ctx;return u.error?u.table._trans(null,Tt.bind(null,u.error)):u.table._trans("readonly",r).then(i)},qe.prototype._write=function(r){var i=this._ctx;return i.error?i.table._trans(null,Tt.bind(null,i.error)):i.table._trans("readwrite",r,"locked")},qe.prototype._addAlgorithm=function(r){var i=this._ctx;i.algorithm=Yn(i.algorithm,r)},qe.prototype._iterate=function(r,i){return $e(this._ctx,r,i,this._ctx.table.core)},qe.prototype.clone=function(r){var i=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return r&&d(u,r),i._ctx=u,i},qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},qe.prototype.each=function(r){var i=this._ctx;return this._read(function(u){return $e(i,r,u,i.table.core)})},qe.prototype.count=function(r){var i=this;return this._read(function(u){var f=i._ctx,h=f.table.core;if(J(f,!0))return h.count({trans:u,query:{index:de(f,h.schema),range:f.range}}).then(function(b){return Math.min(b,f.limit)});var v=0;return $e(f,function(){return++v,!1},u,h).then(function(){return v})}).then(r)},qe.prototype.sortBy=function(r,i){var u=r.split(".").reverse(),f=u[0],h=u.length-1;function v(P,O){return O?v(P[u[O]],O-1):P[f]}var b=this._ctx.dir==="next"?1:-1;function x(P,O){return at(v(P,h),v(O,h))*b}return this.toArray(function(P){return P.sort(x)}).then(i)},qe.prototype.toArray=function(r){var i=this;return this._read(function(u){var f=i._ctx;if(f.dir==="next"&&J(f,!0)&&0<f.limit){var h=f.valueMapper,v=de(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:v,range:f.range}}).then(function(x){return x=x.result,h?x.map(h):x})}var b=[];return $e(f,function(x){return b.push(x)},u,f.table.core).then(function(){return b})},r)},qe.prototype.offset=function(r){var i=this._ctx;return r<=0||(i.offset+=r,J(i)?fe(i,function(){var u=r;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):fe(i,function(){var u=r;return function(){return--u<0}})),this},qe.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),fe(this._ctx,function(){var i=r;return function(u,f,h){return--i<=0&&f(h),0<=i}},!0),this},qe.prototype.until=function(r,i){return ue(this._ctx,function(u,f,h){return!r(u.value)||(f(h),i)}),this},qe.prototype.first=function(r){return this.limit(1).toArray(function(i){return i[0]}).then(r)},qe.prototype.last=function(r){return this.reverse().first(r)},qe.prototype.filter=function(r){var i;return ue(this._ctx,function(u){return r(u.value)}),(i=this._ctx).isMatch=Yn(i.isMatch,r),this},qe.prototype.and=function(r){return this.filter(r)},qe.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qe.prototype.desc=function(){return this.reverse()},qe.prototype.eachKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(u,f){r(f.key,f)})},qe.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},qe.prototype.eachPrimaryKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(u,f){r(f.primaryKey,f)})},qe.prototype.keys=function(r){var i=this._ctx;i.keysOnly=!i.isMatch;var u=[];return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(r)},qe.prototype.primaryKeys=function(r){var i=this._ctx;if(i.dir==="next"&&J(i,!0)&&0<i.limit)return this._read(function(f){var h=de(i,i.table.core.schema);return i.table.core.query({trans:f,values:!1,limit:i.limit,query:{index:h,range:i.range}})}).then(function(f){return f.result}).then(r);i.keysOnly=!i.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(r)},qe.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},qe.prototype.firstKey=function(r){return this.limit(1).keys(function(i){return i[0]}).then(r)},qe.prototype.lastKey=function(r){return this.reverse().firstKey(r)},qe.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var i={};return ue(this._ctx,function(h){var f=h.primaryKey.toString(),h=m(i,f);return i[f]=!0,!h}),this},qe.prototype.modify=function(r){var i=this,u=this._ctx;return this._write(function(f){var h,v,b;b=typeof r=="function"?r:(h=c(r),v=h.length,function(D){for(var K=!1,q=0;q<v;++q){var V=h[q],ee=r[V],he=be(D,V);ee instanceof lt?(le(D,V,ee.execute(he)),K=!0):he!==ee&&(le(D,V,ee),K=!0)}return K});var x=u.table.core,I=x.schema.primaryKey,P=I.outbound,O=I.extractKey,B=200,I=i.db._options.modifyChunkSize;I&&(B=typeof I=="object"?I[x.name]||I["*"]||200:I);function L(D,V){var q=V.failures,V=V.numFailures;$+=D-V;for(var ee=0,he=c(q);ee<he.length;ee++){var xe=he[ee];k.push(q[xe])}}var k=[],$=0,F=[];return i.clone().primaryKeys().then(function(D){function K(V){var ee=Math.min(B,D.length-V);return x.getMany({trans:f,keys:D.slice(V,V+ee),cache:"immutable"}).then(function(he){for(var xe=[],pe=[],ge=P?[]:null,Re=[],Ce=0;Ce<ee;++Ce){var De=he[Ce],Ye={value:Ne(De),primKey:D[V+Ce]};b.call(Ye,Ye.value,Ye)!==!1&&(Ye.value==null?Re.push(D[V+Ce]):P||at(O(De),O(Ye.value))===0?(pe.push(Ye.value),P&&ge.push(D[V+Ce])):(Re.push(D[V+Ce]),xe.push(Ye.value)))}return Promise.resolve(0<xe.length&&x.mutate({trans:f,type:"add",values:xe}).then(function(rt){for(var ot in rt.failures)Re.splice(parseInt(ot),1);L(xe.length,rt)})).then(function(){return(0<pe.length||q&&typeof r=="object")&&x.mutate({trans:f,type:"put",keys:ge,values:pe,criteria:q,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<V}).then(function(rt){return L(pe.length,rt)})}).then(function(){return(0<Re.length||q&&r===Yt)&&x.mutate({trans:f,type:"delete",keys:Re,criteria:q,isAdditionalChunk:0<V}).then(function(rt){return L(Re.length,rt)})}).then(function(){return D.length>V+ee&&K(V+B)})})}var q=J(u)&&u.limit===1/0&&(typeof r!="function"||r===Yt)&&{index:u.index,range:u.range};return K(0).then(function(){if(0<k.length)throw new xn("Error modifying one or more objects",k,$,F);return D.length})})})},qe.prototype.delete=function(){var r=this._ctx,i=r.range;return J(r)&&(r.isPrimKey||i.type===3)?this._write(function(u){var f=r.table.core.schema.primaryKey,h=i;return r.table.core.count({trans:u,query:{index:f,range:h}}).then(function(v){return r.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(b){var x=b.failures;if(b.lastResult,b.results,b=b.numFailures,b)throw new xn("Could not delete some values",Object.keys(x).map(function(P){return x[P]}),v-b);return v-b})})}):this.modify(Yt)},qe);function qe(){}var Yt=function(r,i){return i.value=null};function Tr(r,i){return r<i?-1:r===i?0:1}function yo(r,i){return i<r?-1:r===i?0:1}function nn(r,i,u){return r=r instanceof _o?new r.Collection(r):r,r._ctx.error=new(u||TypeError)(i),r}function Fn(r){return new r.Collection(r,function(){return yi("")}).limit(0)}function go(r,i,u,f){var h,v,b,x,P,O,B,I=u.length;if(!u.every(function($){return typeof $=="string"}))return nn(r,vo);function L($){h=$==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},v=$==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=$==="next"?Tr:yo;var F=u.map(function(D){return{lower:v(D),upper:h(D)}}).sort(function(D,K){return b(D.lower,K.lower)});x=F.map(function(D){return D.upper}),P=F.map(function(D){return D.lower}),B=(O=$)==="next"?"":f}L("next"),r=new r.Collection(r,function(){return Ln(x[0],P[I-1]+f)}),r._ondirectionchange=function($){L($)};var k=0;return r._addAlgorithm(function($,F,D){var K=$.key;if(typeof K!="string")return!1;var q=v(K);if(i(q,P,k))return!0;for(var V=null,ee=k;ee<I;++ee){var he=function(xe,pe,ge,Re,Ce,De){for(var Ye=Math.min(xe.length,Re.length),rt=-1,ot=0;ot<Ye;++ot){var dn=pe[ot];if(dn!==Re[ot])return Ce(xe[ot],ge[ot])<0?xe.substr(0,ot)+ge[ot]+ge.substr(ot+1):Ce(xe[ot],Re[ot])<0?xe.substr(0,ot)+Re[ot]+ge.substr(ot+1):0<=rt?xe.substr(0,rt)+pe[rt]+ge.substr(rt+1):null;Ce(xe[ot],dn)<0&&(rt=ot)}return Ye<Re.length&&De==="next"?xe+ge.substr(xe.length):Ye<xe.length&&De==="prev"?xe.substr(0,ge.length):rt<0?null:xe.substr(0,rt)+Re[rt]+ge.substr(rt+1)}(K,q,x[ee],P[ee],b,O);he===null&&V===null?k=ee+1:(V===null||0<b(V,he))&&(V=he)}return F(V!==null?function(){$.continue(V+B)}:D),!1}),r}function Ln(r,i,u,f){return{type:2,lower:r,upper:i,lowerOpen:u,upperOpen:f}}function yi(r){return{type:1,lower:r,upper:r}}var _o=(Object.defineProperty(Vt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vt.prototype.between=function(r,i,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(r,i)||this._cmp(r,i)===0&&(u||f)&&(!u||!f)?Fn(this):new this.Collection(this,function(){return Ln(r,i,!u,!f)})}catch{return nn(this,tn)}},Vt.prototype.equals=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return yi(r)})},Vt.prototype.above=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Ln(r,void 0,!0)})},Vt.prototype.aboveOrEqual=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Ln(r,void 0,!1)})},Vt.prototype.below=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Ln(void 0,r,!1,!0)})},Vt.prototype.belowOrEqual=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Ln(void 0,r)})},Vt.prototype.startsWith=function(r){return typeof r!="string"?nn(this,vo):this.between(r,r+Mn,!0,!0)},Vt.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):go(this,function(i,u){return i.indexOf(u[0])===0},[r],Mn)},Vt.prototype.equalsIgnoreCase=function(r){return go(this,function(i,u){return i===u[0]},[r],"")},Vt.prototype.anyOfIgnoreCase=function(){var r=Bt.apply(Ut,arguments);return r.length===0?Fn(this):go(this,function(i,u){return u.indexOf(i)!==-1},r,"")},Vt.prototype.startsWithAnyOfIgnoreCase=function(){var r=Bt.apply(Ut,arguments);return r.length===0?Fn(this):go(this,function(i,u){return u.some(function(f){return i.indexOf(f)===0})},r,Mn)},Vt.prototype.anyOf=function(){var r=this,i=Bt.apply(Ut,arguments),u=this._cmp;try{i.sort(u)}catch{return nn(this,tn)}if(i.length===0)return Fn(this);var f=new this.Collection(this,function(){return Ln(i[0],i[i.length-1])});f._ondirectionchange=function(v){u=v==="next"?r._ascending:r._descending,i.sort(u)};var h=0;return f._addAlgorithm(function(v,b,x){for(var P=v.key;0<u(P,i[h]);)if(++h===i.length)return b(x),!1;return u(P,i[h])===0||(b(function(){v.continue(i[h])}),!1)}),f},Vt.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vt.prototype.noneOf=function(){var r=Bt.apply(Ut,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return nn(this,tn)}var i=r.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return i.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},Vt.prototype.inAnyRange=function(K,i){var u=this,f=this._cmp,h=this._ascending,v=this._descending,b=this._min,x=this._max;if(K.length===0)return Fn(this);if(!K.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&h(q[0],q[1])<=0}))return nn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);var P=!i||i.includeLowers!==!1,O=i&&i.includeUppers===!0,B,I=h;function L(q,V){return I(q[0],V[0])}try{(B=K.reduce(function(q,V){for(var ee=0,he=q.length;ee<he;++ee){var xe=q[ee];if(f(V[0],xe[1])<0&&0<f(V[1],xe[0])){xe[0]=b(xe[0],V[0]),xe[1]=x(xe[1],V[1]);break}}return ee===he&&q.push(V),q},[])).sort(L)}catch{return nn(this,tn)}var k=0,$=O?function(q){return 0<h(q,B[k][1])}:function(q){return 0<=h(q,B[k][1])},F=P?function(q){return 0<v(q,B[k][0])}:function(q){return 0<=v(q,B[k][0])},D=$,K=new this.Collection(this,function(){return Ln(B[0][0],B[B.length-1][1],!P,!O)});return K._ondirectionchange=function(q){I=q==="next"?(D=$,h):(D=F,v),B.sort(L)},K._addAlgorithm(function(q,V,ee){for(var he,xe=q.key;D(xe);)if(++k===B.length)return V(ee),!1;return!$(he=xe)&&!F(he)||(u._cmp(xe,B[k][1])===0||u._cmp(xe,B[k][0])===0||V(function(){I===h?q.continue(B[k][0]):q.continue(B[k][1])}),!1)}),K},Vt.prototype.startsWithAnyOf=function(){var r=Bt.apply(Ut,arguments);return r.every(function(i){return typeof i=="string"})?r.length===0?Fn(this):this.inAnyRange(r.map(function(i){return[i,i+Mn]})):nn(this,"startsWithAnyOf() only works with strings")},Vt);function Vt(){}function jn(r){return St(function(i){return bo(i),r(i.target.error),!1})}function bo(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var wo="storagemutated",ps="x-storagemutated-1",lr=M(null,wo),mf=(Kn.prototype._lock=function(){return ae(!ke.global),++this._reculock,this._reculock!==1||ke.global||(ke.lockOwnerFor=this),this},Kn.prototype._unlock=function(){if(ae(!ke.global),--this._reculock==0)for(ke.global||(ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{zn(r[1],r[0])}catch{}}return this},Kn.prototype._locked=function(){return this._reculock&&ke.lockOwnerFor!==this},Kn.prototype.create=function(r){var i=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(ae(!this.idbtrans),!r&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(f);case"MissingAPIError":throw new Q.MissingAPI(f.message,f);default:throw new Q.OpenFailed(f)}if(!this.active)throw new Q.TransactionInactive;return ae(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=St(function(h){bo(h),i._reject(r.error)}),r.onabort=St(function(h){bo(h),i.active&&i._reject(new Q.Abort(r.error)),i.active=!1,i.on("abort").fire(h)}),r.oncomplete=St(function(){i.active=!1,i._resolve(),"mutatedParts"in r&&lr.storagemutated.fire(r.mutatedParts)}),this},Kn.prototype._promise=function(r,i,u){var f=this;if(r==="readwrite"&&this.mode!=="readwrite")return Tt(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new Q.TransactionInactive);if(this._locked())return new Se(function(v,b){f._blockedFuncs.push([function(){f._promise(r,i,u).then(v,b)},ke])});if(u)return Nn(function(){var v=new Se(function(b,x){f._lock();var P=i(b,x,f);P&&P.then&&P.then(b,x)});return v.finally(function(){return f._unlock()}),v._lib=!0,v});var h=new Se(function(v,b){var x=i(v,b,f);x&&x.then&&x.then(v,b)});return h._lib=!0,h},Kn.prototype._root=function(){return this.parent?this.parent._root():this},Kn.prototype.waitFor=function(r){var i,u=this._root(),f=Se.resolve(r);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],i=u.idbtrans.objectStore(u.storeNames[0]),function v(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(i.get(-1/0).onsuccess=v)}());var h=u._waitingFor;return new Se(function(v,b){f.then(function(x){return u._waitingQueue.push(St(v.bind(null,x)))},function(x){return u._waitingQueue.push(St(b.bind(null,x)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},Kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))},Kn.prototype.table=function(r){var i=this._memoizedTables||(this._memoizedTables={});if(m(i,r))return i[r];var u=this.schema[r];if(!u)throw new Q.NotFound("Table "+r+" not part of transaction");return u=new this.db.Table(r,u,this),u.core=this.db.core.table(r),i[r]=u},Kn);function Kn(){}function ms(r,i,u,f,h,v,b){return{name:r,keyPath:i,unique:u,multi:f,auto:h,compound:v,src:(u&&!b?"&":"")+(f?"*":"")+(h?"++":"")+Wa(i)}}function Wa(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function vs(r,i,u){return{name:r,primKey:i,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,v,b){return b=f(v,b),b&&(h[b[0]]=b[1]),h},{}))};var f}var So=function(r){try{return r.only([[]]),So=function(){return[[]]},[[]]}catch{return So=function(){return Mn},Mn}};function ys(r){return r==null?function(){}:typeof r=="string"?(i=r).split(".").length===1?function(u){return u[i]}:function(u){return be(u,i)}:function(u){return be(u,r)};var i}function za(r){return[].slice.call(r)}var vf=0;function Co(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function yf(r,i,P){function f(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var k=D.lower,$=D.upper,F=D.lowerOpen,D=D.upperOpen;return k===void 0?$===void 0?null:i.upperBound($,!!D):$===void 0?i.lowerBound(k,!!F):i.bound(k,$,!!F,!!D)}function h(L){var k,$=L.name;return{name:$,schema:L,mutate:function(F){var D=F.trans,K=F.type,q=F.keys,V=F.values,ee=F.range;return new Promise(function(he,xe){he=St(he);var pe=D.objectStore($),ge=pe.keyPath==null,Re=K==="put"||K==="add";if(!Re&&K!=="delete"&&K!=="deleteRange")throw new Error("Invalid operation type: "+K);var Ce,De=(q||V||{length:1}).length;if(q&&V&&q.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return he({numFailures:0,failures:{},results:[],lastResult:void 0});function Ye(rn){++dn,bo(rn)}var rt=[],ot=[],dn=0;if(K==="deleteRange"){if(ee.type===4)return he({numFailures:dn,failures:ot,results:[],lastResult:void 0});ee.type===3?rt.push(Ce=pe.clear()):rt.push(Ce=pe.delete(f(ee)))}else{var ge=Re?ge?[V,q]:[V,null]:[q,null],ze=ge[0],Qt=ge[1];if(Re)for(var Jt=0;Jt<De;++Jt)rt.push(Ce=Qt&&Qt[Jt]!==void 0?pe[K](ze[Jt],Qt[Jt]):pe[K](ze[Jt])),Ce.onerror=Ye;else for(Jt=0;Jt<De;++Jt)rt.push(Ce=pe[K](ze[Jt])),Ce.onerror=Ye}function Ri(rn){rn=rn.target.result,rt.forEach(function(Rr,$s){return Rr.error!=null&&(ot[$s]=Rr.error)}),he({numFailures:dn,failures:ot,results:K==="delete"?q:rt.map(function(Rr){return Rr.result}),lastResult:rn})}Ce.onerror=function(rn){Ye(rn),Ri(rn)},Ce.onsuccess=Ri})},getMany:function(F){var D=F.trans,K=F.keys;return new Promise(function(q,V){q=St(q);for(var ee,he=D.objectStore($),xe=K.length,pe=new Array(xe),ge=0,Re=0,Ce=function(rt){rt=rt.target,pe[rt._pos]=rt.result,++Re===ge&&q(pe)},De=jn(V),Ye=0;Ye<xe;++Ye)K[Ye]!=null&&((ee=he.get(K[Ye]))._pos=Ye,ee.onsuccess=Ce,ee.onerror=De,++ge);ge===0&&q(pe)})},get:function(F){var D=F.trans,K=F.key;return new Promise(function(q,V){q=St(q);var ee=D.objectStore($).get(K);ee.onsuccess=function(he){return q(he.target.result)},ee.onerror=jn(V)})},query:(k=O,function(F){return new Promise(function(D,K){D=St(D);var q,V,ee,ge=F.trans,he=F.values,xe=F.limit,Ce=F.query,pe=xe===1/0?void 0:xe,Re=Ce.index,Ce=Ce.range,ge=ge.objectStore($),Re=Re.isPrimaryKey?ge:ge.index(Re.name),Ce=f(Ce);if(xe===0)return D({result:[]});k?((pe=he?Re.getAll(Ce,pe):Re.getAllKeys(Ce,pe)).onsuccess=function(De){return D({result:De.target.result})},pe.onerror=jn(K)):(q=0,V=!he&&"openKeyCursor"in Re?Re.openKeyCursor(Ce):Re.openCursor(Ce),ee=[],V.onsuccess=function(De){var Ye=V.result;return Ye?(ee.push(he?Ye.value:Ye.primaryKey),++q===xe?D({result:ee}):void Ye.continue()):D({result:ee})},V.onerror=jn(K))})}),openCursor:function(F){var D=F.trans,K=F.values,q=F.query,V=F.reverse,ee=F.unique;return new Promise(function(he,xe){he=St(he);var Re=q.index,pe=q.range,ge=D.objectStore($),ge=Re.isPrimaryKey?ge:ge.index(Re.name),Re=V?ee?"prevunique":"prev":ee?"nextunique":"next",Ce=!K&&"openKeyCursor"in ge?ge.openKeyCursor(f(pe),Re):ge.openCursor(f(pe),Re);Ce.onerror=jn(xe),Ce.onsuccess=St(function(De){var Ye,rt,ot,dn,ze=Ce.result;ze?(ze.___id=++vf,ze.done=!1,Ye=ze.continue.bind(ze),rt=(rt=ze.continuePrimaryKey)&&rt.bind(ze),ot=ze.advance.bind(ze),dn=function(){throw new Error("Cursor not stopped")},ze.trans=D,ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=function(){throw new Error("Cursor not started")},ze.fail=St(xe),ze.next=function(){var Qt=this,Jt=1;return this.start(function(){return Jt--?Qt.continue():Qt.stop()}).then(function(){return Qt})},ze.start=function(Qt){function Jt(){if(Ce.result)try{Qt()}catch(rn){ze.fail(rn)}else ze.done=!0,ze.start=function(){throw new Error("Cursor behind last entry")},ze.stop()}var Ri=new Promise(function(rn,Rr){rn=St(rn),Ce.onerror=jn(Rr),ze.fail=Rr,ze.stop=function($s){ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=dn,rn($s)}});return Ce.onsuccess=St(function(rn){Ce.onsuccess=Jt,Jt()}),ze.continue=Ye,ze.continuePrimaryKey=rt,ze.advance=ot,Jt(),Ri},he(ze)):he(null)},xe)})},count:function(F){var D=F.query,K=F.trans,q=D.index,V=D.range;return new Promise(function(ee,he){var xe=K.objectStore($),pe=q.isPrimaryKey?xe:xe.index(q.name),xe=f(V),pe=xe?pe.count(xe):pe.count();pe.onsuccess=St(function(ge){return ee(ge.target.result)}),pe.onerror=jn(he)})}}}var v,b,x,B=(b=P,x=za((v=r).objectStoreNames),{schema:{name:v.name,tables:x.map(function(L){return b.objectStore(L)}).map(function(L){var k=L.keyPath,D=L.autoIncrement,$=l(k),F={},D={name:L.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:k==null,compound:$,keyPath:k,autoIncrement:D,unique:!0,extractKey:ys(k)},indexes:za(L.indexNames).map(function(K){return L.index(K)}).map(function(ee){var q=ee.name,V=ee.unique,he=ee.multiEntry,ee=ee.keyPath,he={name:q,compound:l(ee),keyPath:ee,unique:V,multiEntry:he,extractKey:ys(ee)};return F[Co(ee)]=he}),getIndexByKeyPath:function(K){return F[Co(K)]}};return F[":id"]=D.primaryKey,k!=null&&(F[Co(k)]=D.primaryKey),D})},hasGetAll:0<x.length&&"getAll"in b.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),P=B.schema,O=B.hasGetAll,B=P.tables.map(h),I={};return B.forEach(function(L){return I[L.name]=L}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(L){if(!I[L])throw new Error("Table '".concat(L,"' not found"));return I[L]},MIN_KEY:-1/0,MAX_KEY:So(i),schema:P}}function gf(r,i,u,f){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=yf(i,h,f),r.dbcore.reduce(function(v,b){return b=b.create,o(o({},v),b(v))},f))}}function gi(r,f){var u=f.db,f=gf(r._middlewares,u,r._deps,f);r.core=f.dbcore,r.tables.forEach(function(h){var v=h.name;r.core.schema.tables.some(function(b){return b.name===v})&&(h.core=r.core.table(v),r[v]instanceof r.Table&&(r[v].core=h.core))})}function _i(r,i,u,f){u.forEach(function(h){var v=f[h];i.forEach(function(b){var x=function P(O,B){return Ee(O,B)||(O=y(O))&&P(O,B)}(b,h);(!x||"value"in x&&x.value===void 0)&&(b===r.Transaction.prototype||b instanceof r.Transaction?H(b,h,{get:function(){return this.table(h)},set:function(P){C(this,h,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):b[h]=new r.Table(h,v))})})}function gs(r,i){i.forEach(function(u){for(var f in u)u[f]instanceof r.Table&&delete u[f]})}function _f(r,i){return r._cfg.version-i._cfg.version}function bf(r,i,u,f){var h=r._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=vs("$meta",Ga("")[0],[]),r._storeNames.push("$meta"));var v=r._createTransaction("readwrite",r._storeNames,h);v.create(u),v._completion.catch(f);var b=v._reject.bind(v),x=ke.transless||ke;Nn(function(){return ke.trans=v,ke.transless=x,i!==0?(gi(r,u),O=i,((P=v).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(B){return B??O}):Se.resolve(O)).then(function(B){return L=B,k=v,$=u,F=[],B=(I=r)._versions,D=I._dbSchema=wi(0,I.idbdb,$),(B=B.filter(function(K){return K._cfg.version>=L})).length!==0?(B.forEach(function(K){F.push(function(){var q=D,V=K._cfg.dbschema;Si(I,q,$),Si(I,V,$),D=I._dbSchema=V;var ee=_s(q,V);ee.add.forEach(function(Re){bs($,Re[0],Re[1].primKey,Re[1].indexes)}),ee.change.forEach(function(Re){if(Re.recreate)throw new Q.Upgrade("Not yet support for changing primary key");var Ce=$.objectStore(Re.name);Re.add.forEach(function(De){return bi(Ce,De)}),Re.change.forEach(function(De){Ce.deleteIndex(De.name),bi(Ce,De)}),Re.del.forEach(function(De){return Ce.deleteIndex(De)})});var he=K._cfg.contentUpgrade;if(he&&K._cfg.version>L){gi(I,$),k._memoizedTables={};var xe=me(V);ee.del.forEach(function(Re){xe[Re]=q[Re]}),gs(I,[I.Transaction.prototype]),_i(I,[I.Transaction.prototype],c(xe),xe),k.schema=xe;var pe,ge=xt(he);return ge&&sr(),ee=Se.follow(function(){var Re;(pe=he(k))&&ge&&(Re=$n.bind(null,null),pe.then(Re,Re))}),pe&&typeof pe.then=="function"?Se.resolve(pe):ee.then(function(){return pe})}}),F.push(function(q){var V,ee,he=K._cfg.dbschema;V=he,ee=q,[].slice.call(ee.db.objectStoreNames).forEach(function(xe){return V[xe]==null&&ee.db.deleteObjectStore(xe)}),gs(I,[I.Transaction.prototype]),_i(I,[I.Transaction.prototype],I._storeNames,I._dbSchema),k.schema=I._dbSchema}),F.push(function(q){I.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(I.idbdb.version/10)===K._cfg.version?(I.idbdb.deleteObjectStore("$meta"),delete I._dbSchema.$meta,I._storeNames=I._storeNames.filter(function(V){return V!=="$meta"})):q.objectStore("$meta").put(K._cfg.version,"version"))})}),function K(){return F.length?Se.resolve(F.shift()(k.idbtrans)).then(K):Se.resolve()}().then(function(){Ya(D,$)})):Se.resolve();var I,L,k,$,F,D}).catch(b)):(c(h).forEach(function(B){bs(u,B,h[B].primKey,h[B].indexes)}),gi(r,u),void Se.follow(function(){return r.on.populate.fire(v)}).catch(b));var P,O})}function wf(r,i){Ya(r._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var u=wi(0,r.idbdb,i);Si(r,r._dbSchema,i);for(var f=0,h=_s(u,r._dbSchema).change;f<h.length;f++){var v=function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=i.objectStore(b.name);b.add.forEach(function(P){ie&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(P.src)),bi(x,P)})}(h[f]);if(typeof v=="object")return v.value}}function _s(r,i){var u,f={del:[],add:[],change:[]};for(u in r)i[u]||f.del.push(u);for(u in i){var h=r[u],v=i[u];if(h){var b={name:u,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||h.primKey.auto!==v.primKey.auto)b.recreate=!0,f.change.push(b);else{var x=h.idxByName,P=v.idxByName,O=void 0;for(O in x)P[O]||b.del.push(O);for(O in P){var B=x[O],I=P[O];B?B.src!==I.src&&b.change.push(I):b.add.push(I)}(0<b.del.length||0<b.add.length||0<b.change.length)&&f.change.push(b)}}else f.add.push([u,v])}return f}function bs(r,i,u,f){var h=r.db.createObjectStore(i,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(v){return bi(h,v)}),h}function Ya(r,i){c(r).forEach(function(u){i.db.objectStoreNames.contains(u)||(ie&&console.debug("Dexie: Creating missing table",u),bs(i,u,r[u].primKey,r[u].indexes))})}function bi(r,i){r.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function wi(r,i,u){var f={};return W(i.objectStoreNames,0).forEach(function(h){for(var v=u.objectStore(h),b=ms(Wa(O=v.keyPath),O||"",!0,!1,!!v.autoIncrement,O&&typeof O!="string",!0),x=[],P=0;P<v.indexNames.length;++P){var B=v.index(v.indexNames[P]),O=B.keyPath,B=ms(B.name,O,!!B.unique,!!B.multiEntry,!1,O&&typeof O!="string",!1);x.push(B)}f[h]=vs(h,b,x)}),f}function Si(r,i,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var v=f[h],b=u.objectStore(v);r._hasGetAll="getAll"in b;for(var x=0;x<b.indexNames.length;++x){var P=b.indexNames[x],O=b.index(P).keyPath,B=typeof O=="string"?O:"["+W(O).join("+")+"]";!i[v]||(O=i[v].idxByName[B])&&(O.name=P,delete i[v].idxByName[B],i[v].idxByName[P]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Ga(r){return r.split(",").map(function(i,u){var f=(i=i.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return ms(f,h||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),l(h),u===0)})}var Sf=(Ci.prototype._parseStoresSpec=function(r,i){c(r).forEach(function(u){if(r[u]!==null){var f=Ga(r[u]),h=f.shift();if(h.unique=!0,h.multi)throw new Q.Schema("Primary key cannot be multi-valued");f.forEach(function(v){if(v.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),i[u]=vs(u,h,f)}})},Ci.prototype.stores=function(u){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,u):u;var u=i._versions,f={},h={};return u.forEach(function(v){d(f,v._cfg.storesSource),h=v._cfg.dbschema={},v._parseStoresSpec(f,h)}),i._dbSchema=h,gs(i,[i._allTables,i,i.Transaction.prototype]),_i(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],c(h),h),i._storeNames=c(h),this},Ci.prototype.upgrade=function(r){return this._cfg.contentUpgrade=ve(this._cfg.contentUpgrade||S,r),this},Ci);function Ci(){}function ws(r,i){var u=r._dbNamesDB;return u||(u=r._dbNamesDB=new Gn(Yr,{addons:[],indexedDB:r,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Ss(r){return r&&typeof r.databases=="function"}function Cs(r){return Nn(function(){return ke.letThrough=!0,r()})}function xs(r){return!("from"in r)}var Gt=function(r,i){if(!this){var u=new Gt;return r&&"d"in r&&d(u,r),u}d(this,arguments.length?{d:1,from:r,to:1<arguments.length?i:r}:{d:0})};function xo(r,i,u){var f=at(i,u);if(!isNaN(f)){if(0<f)throw RangeError();if(xs(r))return d(r,{from:i,to:u,d:1});var h=r.l,f=r.r;if(at(u,r.from)<0)return h?xo(h,i,u):r.l={from:i,to:u,d:1,l:null,r:null},Ja(r);if(0<at(i,r.to))return f?xo(f,i,u):r.r={from:i,to:u,d:1,l:null,r:null},Ja(r);at(i,r.from)<0&&(r.from=i,r.l=null,r.d=f?f.d+1:1),0<at(u,r.to)&&(r.to=u,r.r=null,r.d=r.l?r.l.d+1:1),u=!r.r,h&&!r.l&&Eo(r,h),f&&u&&Eo(r,f)}}function Eo(r,i){xs(i)||function u(f,P){var v=P.from,b=P.to,x=P.l,P=P.r;xo(f,v,b),x&&u(f,x),P&&u(f,P)}(r,i)}function Qa(r,i){var u=xi(i),f=u.next();if(f.done)return!1;for(var h=f.value,v=xi(r),b=v.next(h.from),x=b.value;!f.done&&!b.done;){if(at(x.from,h.to)<=0&&0<=at(x.to,h.from))return!0;at(h.from,x.from)<0?h=(f=u.next(x.from)).value:x=(b=v.next(h.from)).value}return!1}function xi(r){var i=xs(r)?null:{s:0,n:r};return{next:function(u){for(var f=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,f)for(;i.n.l&&at(u,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!f||at(u,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Ja(r){var i,u,f=(((i=r.r)===null||i===void 0?void 0:i.d)||0)-(((u=r.l)===null||u===void 0?void 0:u.d)||0),h=1<f?"r":f<-1?"l":"";h&&(i=h=="r"?"l":"r",u=o({},r),f=r[h],r.from=f.from,r.to=f.to,r[h]=f[h],u[h]=f[i],(r[i]=u).d=Xa(u)),r.d=Xa(r)}function Xa(u){var i=u.r,u=u.l;return(i?u?Math.max(i.d,u.d):i.d:u?u.d:0)+1}function Ei(r,i){return c(i).forEach(function(u){r[u]?Eo(r[u],i[u]):r[u]=function f(h){var v,b,x={};for(v in h)m(h,v)&&(b=h[v],x[v]=!b||typeof b!="object"||Te.has(b.constructor)?b:f(b));return x}(i[u])}),r}function Es(r,i){return r.all||i.all||Object.keys(r).some(function(u){return i[u]&&Qa(i[u],r[u])})}_(Gt.prototype,((vn={add:function(r){return Eo(this,r),this},addKey:function(r){return xo(this,r,r),this},addKeys:function(r){var i=this;return r.forEach(function(u){return xo(i,u,u)}),this},hasKey:function(r){var i=xi(this).next(r).value;return i&&at(i.from,r)<=0&&0<=at(i.to,r)}})[it]=function(){return xi(this)},vn));var Ar={},Is={},Ts=!1;function Ii(r){Ei(Is,r),Ts||(Ts=!0,setTimeout(function(){Ts=!1,As(Is,!(Is={}))},0))}function As(r,i){i===void 0&&(i=!1);var u=new Set;if(r.all)for(var f=0,h=Object.values(Ar);f<h.length;f++)Za(b=h[f],r,u,i);else for(var v in r){var b,x=/^idb\:\/\/(.*)\/(.*)\//.exec(v);x&&(v=x[1],x=x[2],(b=Ar["idb://".concat(v,"/").concat(x)])&&Za(b,r,u,i))}u.forEach(function(P){return P()})}function Za(r,i,u,f){for(var h=[],v=0,b=Object.entries(r.queries.query);v<b.length;v++){for(var x=b[v],P=x[0],O=[],B=0,I=x[1];B<I.length;B++){var L=I[B];Es(i,L.obsSet)?L.subscribers.forEach(function(D){return u.add(D)}):f&&O.push(L)}f&&h.push([P,O])}if(f)for(var k=0,$=h;k<$.length;k++){var F=$[k],P=F[0],O=F[1];r.queries.query[P]=O}}function Cf(r){var i=r._state,u=r._deps.indexedDB;if(i.isBeingOpened||r.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Tt(i.dbOpenError):r});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var f=i.openCanceller,h=Math.round(10*r.verno),v=!1;function b(){if(i.openCanceller!==f)throw new Q.DatabaseClosed("db.open() was cancelled")}function x(){return new Se(function(L,k){if(b(),!u)throw new Q.MissingAPI;var $=r.name,F=i.autoSchema||!h?u.open($):u.open($,h);if(!F)throw new Q.MissingAPI;F.onerror=jn(k),F.onblocked=St(r._fireOnBlocked),F.onupgradeneeded=St(function(D){var K;B=F.transaction,i.autoSchema&&!r._options.allowEmptyDB?(F.onerror=bo,B.abort(),F.result.close(),(K=u.deleteDatabase($)).onsuccess=K.onerror=St(function(){k(new Q.NoSuchDatabase("Database ".concat($," doesnt exist")))})):(B.onerror=jn(k),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,I=D<1,r.idbdb=F.result,v&&wf(r,B),bf(r,D/10,B,k))},k),F.onsuccess=St(function(){B=null;var D,K,q,V,ee,he=r.idbdb=F.result,xe=W(he.objectStoreNames);if(0<xe.length)try{var pe=he.transaction((V=xe).length===1?V[0]:V,"readonly");if(i.autoSchema)K=he,q=pe,(D=r).verno=K.version/10,q=D._dbSchema=wi(0,K,q),D._storeNames=W(K.objectStoreNames,0),_i(D,[D._allTables],c(q),q);else if(Si(r,r._dbSchema,pe),((ee=_s(wi(0,(ee=r).idbdb,pe),ee._dbSchema)).add.length||ee.change.some(function(ge){return ge.add.length||ge.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),he.close(),h=he.version+1,v=!0,L(x());gi(r,pe)}catch{}fn.push(r),he.onversionchange=St(function(ge){i.vcFired=!0,r.on("versionchange").fire(ge)}),he.onclose=St(function(ge){r.on("close").fire(ge)}),I&&(ee=r._deps,pe=$,he=ee.indexedDB,ee=ee.IDBKeyRange,Ss(he)||pe===Yr||ws(he,ee).put({name:pe}).catch(S)),L()},k)}).catch(function(L){switch(L==null?void 0:L.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(0<h)return h=0,x()}return Se.reject(L)})}var P,O=i.dbReadyResolve,B=null,I=!1;return Se.race([f,(typeof navigator>"u"?Se.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(L){function k(){return indexedDB.databases().finally(L)}P=setInterval(k,100),k()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(x)]).then(function(){return b(),i.onReadyBeingFired=[],Se.resolve(Cs(function(){return r.on.ready.fire(r.vip)})).then(function L(){if(0<i.onReadyBeingFired.length){var k=i.onReadyBeingFired.reduce(ve,S);return i.onReadyBeingFired=[],Se.resolve(Cs(function(){return k(r.vip)})).then(L)}})}).finally(function(){i.openCanceller===f&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(L){i.dbOpenError=L;try{B&&B.abort()}catch{}return f===i.openCanceller&&r._close(),Tt(L)}).finally(function(){i.openComplete=!0,O()}).then(function(){var L;return I&&(L={},r.tables.forEach(function(k){k.schema.indexes.forEach(function($){$.name&&(L["idb://".concat(r.name,"/").concat(k.name,"/").concat($.name)]=new Gt(-1/0,[[[]]]))}),L["idb://".concat(r.name,"/").concat(k.name,"/")]=L["idb://".concat(r.name,"/").concat(k.name,"/:dels")]=new Gt(-1/0,[[[]]])}),lr(wo).fire(L),As(L,!0)),r})}function Ps(r){function i(v){return r.next(v)}var u=h(i),f=h(function(v){return r.throw(v)});function h(v){return function(P){var x=v(P),P=x.value;return x.done?P:P&&typeof P.then=="function"?P.then(u,f):l(P)?Promise.all(P).then(u,f):u(P)}}return h(i)()}function Ti(r,i,u){for(var f=l(r)?r.slice():[r],h=0;h<u;++h)f.push(i);return f}var xf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return o(o({},r),{table:function(i){var u=r.table(i),f=u.schema,h={},v=[];function b(I,L,k){var $=Co(I),F=h[$]=h[$]||[],D=I==null?0:typeof I=="string"?1:I.length,K=0<L,K=o(o({},k),{name:K?"".concat($,"(virtual-from:").concat(k.name,")"):k.name,lowLevelIndex:k,isVirtual:K,keyTail:L,keyLength:D,extractKey:ys(I),unique:!K&&k.unique});return F.push(K),K.isPrimaryKey||v.push(K),1<D&&b(D===2?I[0]:I.slice(0,D-1),L+1,k),F.sort(function(q,V){return q.keyTail-V.keyTail}),K}i=b(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[i];for(var x=0,P=f.indexes;x<P.length;x++){var O=P[x];b(O.keyPath,0,O)}function B(I){var L,k=I.query.index;return k.isVirtual?o(o({},I),{query:{index:k.lowLevelIndex,range:(L=I.query.range,k=k.keyTail,{type:L.type===1?2:L.type,lower:Ti(L.lower,L.lowerOpen?r.MAX_KEY:r.MIN_KEY,k),lowerOpen:!0,upper:Ti(L.upper,L.upperOpen?r.MIN_KEY:r.MAX_KEY,k),upperOpen:!0})}}):I}return o(o({},u),{schema:o(o({},f),{primaryKey:i,indexes:v,getIndexByKeyPath:function(I){return(I=h[Co(I)])&&I[0]}}),count:function(I){return u.count(B(I))},query:function(I){return u.query(B(I))},openCursor:function(I){var L=I.query.index,k=L.keyTail,$=L.isVirtual,F=L.keyLength;return $?u.openCursor(B(I)).then(function(K){return K&&D(K)}):u.openCursor(I);function D(K){return Object.create(K,{continue:{value:function(q){q!=null?K.continue(Ti(q,I.reverse?r.MAX_KEY:r.MIN_KEY,k)):I.unique?K.continue(K.key.slice(0,F).concat(I.reverse?r.MIN_KEY:r.MAX_KEY,k)):K.continue()}},continuePrimaryKey:{value:function(q,V){K.continuePrimaryKey(Ti(q,r.MAX_KEY,k),V)}},primaryKey:{get:function(){return K.primaryKey}},key:{get:function(){var q=K.key;return F===1?q[0]:q.slice(0,F)}},value:{get:function(){return K.value}}})}}})}})}};function Rs(r,i,u,f){return u=u||{},f=f||"",c(r).forEach(function(h){var v,b,x;m(i,h)?(v=r[h],b=i[h],typeof v=="object"&&typeof b=="object"&&v&&b?(x=_t(v))!==_t(b)?u[f+h]=i[h]:x==="Object"?Rs(v,b,u,f+h+"."):v!==b&&(u[f+h]=i[h]):v!==b&&(u[f+h]=i[h])):u[f+h]=void 0}),c(i).forEach(function(h){m(r,h)||(u[f+h]=i[h])}),u}function ks(r,i){return i.type==="delete"?i.keys:i.keys||i.values.map(r.extractKey)}var Ef={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return o(o({},r),{table:function(i){var u=r.table(i),f=u.schema.primaryKey;return o(o({},u),{mutate:function(h){var v=ke.trans,b=v.table(i).hook,x=b.deleting,P=b.creating,O=b.updating;switch(h.type){case"add":if(P.fire===S)break;return v._promise("readwrite",function(){return B(h)},!0);case"put":if(P.fire===S&&O.fire===S)break;return v._promise("readwrite",function(){return B(h)},!0);case"delete":if(x.fire===S)break;return v._promise("readwrite",function(){return B(h)},!0);case"deleteRange":if(x.fire===S)break;return v._promise("readwrite",function(){return function I(L,k,$){return u.query({trans:L,values:!1,query:{index:f,range:k},limit:$}).then(function(F){var D=F.result;return B({type:"delete",keys:D,trans:L}).then(function(K){return 0<K.numFailures?Promise.reject(K.failures[0]):D.length<$?{failures:[],numFailures:0,lastResult:void 0}:I(L,o(o({},k),{lower:D[D.length-1],lowerOpen:!0}),$)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function B(I){var L,k,$,F=ke.trans,D=I.keys||ks(f,I);if(!D)throw new Error("Keys missing");return(I=I.type==="add"||I.type==="put"?o(o({},I),{keys:D}):o({},I)).type!=="delete"&&(I.values=s([],I.values)),I.keys&&(I.keys=s([],I.keys)),L=u,$=D,((k=I).type==="add"?Promise.resolve([]):L.getMany({trans:k.trans,keys:$,cache:"immutable"})).then(function(K){var q=D.map(function(V,ee){var he,xe,pe,ge=K[ee],Re={onerror:null,onsuccess:null};return I.type==="delete"?x.fire.call(Re,V,ge,F):I.type==="add"||ge===void 0?(he=P.fire.call(Re,V,I.values[ee],F),V==null&&he!=null&&(I.keys[ee]=V=he,f.outbound||le(I.values[ee],f.keyPath,V))):(he=Rs(ge,I.values[ee]),(xe=O.fire.call(Re,he,V,ge,F))&&(pe=I.values[ee],Object.keys(xe).forEach(function(Ce){m(pe,Ce)?pe[Ce]=xe[Ce]:le(pe,Ce,xe[Ce])}))),Re});return u.mutate(I).then(function(V){for(var ee=V.failures,he=V.results,xe=V.numFailures,V=V.lastResult,pe=0;pe<D.length;++pe){var ge=(he||D)[pe],Re=q[pe];ge==null?Re.onerror&&Re.onerror(ee[pe]):Re.onsuccess&&Re.onsuccess(I.type==="put"&&K[pe]?I.values[pe]:ge)}return{failures:ee,results:he,numFailures:xe,lastResult:V}}).catch(function(V){return q.forEach(function(ee){return ee.onerror&&ee.onerror(V)}),Promise.reject(V)})})}}})}})}};function eu(r,i,u){try{if(!i||i.keys.length<r.length)return null;for(var f=[],h=0,v=0;h<i.keys.length&&v<r.length;++h)at(i.keys[h],r[v])===0&&(f.push(u?Ne(i.values[h]):i.values[h]),++v);return f.length===r.length?f:null}catch{return null}}var If={stack:"dbcore",level:-1,create:function(r){return{table:function(i){var u=r.table(i);return o(o({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=eu(f.keys,f.trans._cache,f.cache==="clone");return h?Se.resolve(h):u.getMany(f).then(function(v){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Ne(v):v},v})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function tu(r,i){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function nu(r,i){switch(r){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Tf={stack:"dbcore",level:0,name:"Observability",create:function(r){var i=r.schema.name,u=new Gt(r.MIN_KEY,r.MAX_KEY);return o(o({},r),{transaction:function(f,h,v){if(ke.subscr&&h!=="readonly")throw new Q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ke.querier));return r.transaction(f,h,v)},table:function(f){var h=r.table(f),v=h.schema,b=v.primaryKey,I=v.indexes,x=b.extractKey,P=b.outbound,O=b.autoIncrement&&I.filter(function(k){return k.compound&&k.keyPath.includes(b.keyPath)}),B=o(o({},h),{mutate:function(k){function $(Ce){return Ce="idb://".concat(i,"/").concat(f,"/").concat(Ce),V[Ce]||(V[Ce]=new Gt)}var F,D,K,q=k.trans,V=k.mutatedParts||(k.mutatedParts={}),ee=$(""),he=$(":dels"),xe=k.type,Re=k.type==="deleteRange"?[k.range]:k.type==="delete"?[k.keys]:k.values.length<50?[ks(b,k).filter(function(Ce){return Ce}),k.values]:[],pe=Re[0],ge=Re[1],Re=k.trans._cache;return l(pe)?(ee.addKeys(pe),(Re=xe==="delete"||pe.length===ge.length?eu(pe,Re):null)||he.addKeys(pe),(Re||ge)&&(F=$,D=Re,K=ge,v.indexes.forEach(function(Ce){var De=F(Ce.name||"");function Ye(ot){return ot!=null?Ce.extractKey(ot):null}function rt(ot){return Ce.multiEntry&&l(ot)?ot.forEach(function(dn){return De.addKey(dn)}):De.addKey(ot)}(D||K).forEach(function(ot,Qt){var ze=D&&Ye(D[Qt]),Qt=K&&Ye(K[Qt]);at(ze,Qt)!==0&&(ze!=null&&rt(ze),Qt!=null&&rt(Qt))})}))):pe?(ge={from:(ge=pe.lower)!==null&&ge!==void 0?ge:r.MIN_KEY,to:(ge=pe.upper)!==null&&ge!==void 0?ge:r.MAX_KEY},he.add(ge),ee.add(ge)):(ee.add(u),he.add(u),v.indexes.forEach(function(Ce){return $(Ce.name).add(u)})),h.mutate(k).then(function(Ce){return!pe||k.type!=="add"&&k.type!=="put"||(ee.addKeys(Ce.results),O&&O.forEach(function(De){for(var Ye=k.values.map(function(ze){return De.extractKey(ze)}),rt=De.keyPath.findIndex(function(ze){return ze===b.keyPath}),ot=0,dn=Ce.results.length;ot<dn;++ot)Ye[ot][rt]=Ce.results[ot];$(De.name).addKeys(Ye)})),q.mutatedParts=Ei(q.mutatedParts||{},V),Ce})}}),I=function($){var F=$.query,$=F.index,F=F.range;return[$,new Gt(($=F.lower)!==null&&$!==void 0?$:r.MIN_KEY,(F=F.upper)!==null&&F!==void 0?F:r.MAX_KEY)]},L={get:function(k){return[b,new Gt(k.key)]},getMany:function(k){return[b,new Gt().addKeys(k.keys)]},count:I,query:I,openCursor:I};return c(L).forEach(function(k){B[k]=function($){var F=ke.subscr,D=!!F,K=tu(ke,h)&&nu(k,$)?$.obsSet={}:F;if(D){var q=function(ge){return ge="idb://".concat(i,"/").concat(f,"/").concat(ge),K[ge]||(K[ge]=new Gt)},V=q(""),ee=q(":dels"),F=L[k]($),D=F[0],F=F[1];if((k==="query"&&D.isPrimaryKey&&!$.values?ee:q(D.name||"")).add(F),!D.isPrimaryKey){if(k!=="count"){var he=k==="query"&&P&&$.values&&h.query(o(o({},$),{values:!1}));return h[k].apply(this,arguments).then(function(ge){if(k==="query"){if(P&&$.values)return he.then(function(Ye){return Ye=Ye.result,V.addKeys(Ye),ge});var Re=$.values?ge.result.map(x):ge.result;($.values?V:ee).addKeys(Re)}else if(k==="openCursor"){var Ce=ge,De=$.values;return Ce&&Object.create(Ce,{key:{get:function(){return ee.addKey(Ce.primaryKey),Ce.key}},primaryKey:{get:function(){var Ye=Ce.primaryKey;return ee.addKey(Ye),Ye}},value:{get:function(){return De&&V.addKey(Ce.primaryKey),Ce.value}}})}return ge})}ee.add(u)}}return h[k].apply(this,arguments)}}),B}})}};function ru(r,i,u){if(u.numFailures===0)return i;if(i.type==="deleteRange")return null;var f=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return u.numFailures===f?null:(i=o({},i),l(i.keys)&&(i.keys=i.keys.filter(function(h,v){return!(v in u.failures)})),"values"in i&&l(i.values)&&(i.values=i.values.filter(function(h,v){return!(v in u.failures)})),i)}function Os(r,i){return u=r,((f=i).lower===void 0||(f.lowerOpen?0<at(u,f.lower):0<=at(u,f.lower)))&&(r=r,(i=i).upper===void 0||(i.upperOpen?at(r,i.upper)<0:at(r,i.upper)<=0));var u,f}function ou(r,i,L,f,h,v){if(!L||L.length===0)return r;var b=i.query.index,x=b.multiEntry,P=i.query.range,O=f.schema.primaryKey.extractKey,B=b.extractKey,I=(b.lowLevelIndex||b).extractKey,L=L.reduce(function(k,$){var F=k,D=[];if($.type==="add"||$.type==="put")for(var K=new Gt,q=$.values.length-1;0<=q;--q){var V,ee=$.values[q],he=O(ee);K.hasKey(he)||(V=B(ee),(x&&l(V)?V.some(function(Ce){return Os(Ce,P)}):Os(V,P))&&(K.addKey(he),D.push(ee)))}switch($.type){case"add":var xe=new Gt().addKeys(i.values?k.map(function(De){return O(De)}):k),F=k.concat(i.values?D.filter(function(De){return De=O(De),!xe.hasKey(De)&&(xe.addKey(De),!0)}):D.map(function(De){return O(De)}).filter(function(De){return!xe.hasKey(De)&&(xe.addKey(De),!0)}));break;case"put":var pe=new Gt().addKeys($.values.map(function(De){return O(De)}));F=k.filter(function(De){return!pe.hasKey(i.values?O(De):De)}).concat(i.values?D:D.map(function(De){return O(De)}));break;case"delete":var ge=new Gt().addKeys($.keys);F=k.filter(function(De){return!ge.hasKey(i.values?O(De):De)});break;case"deleteRange":var Re=$.range;F=k.filter(function(De){return!Os(O(De),Re)})}return F},r);return L===r?r:(L.sort(function(k,$){return at(I(k),I($))||at(O(k),O($))}),i.limit&&i.limit<1/0&&(L.length>i.limit?L.length=i.limit:r.length===i.limit&&L.length<i.limit&&(h.dirty=!0)),v?Object.freeze(L):L)}function iu(r,i){return at(r.lower,i.lower)===0&&at(r.upper,i.upper)===0&&!!r.lowerOpen==!!i.lowerOpen&&!!r.upperOpen==!!i.upperOpen}function Af(r,i){return function(u,f,h,v){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=at(u,f))===0){if(h&&v)return 0;if(h)return 1;if(v)return-1}return f}(r.lower,i.lower,r.lowerOpen,i.lowerOpen)<=0&&0<=function(u,f,h,v){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=at(u,f))===0){if(h&&v)return 0;if(h)return-1;if(v)return 1}return f}(r.upper,i.upper,r.upperOpen,i.upperOpen)}function Pf(r,i,u,f){r.subscribers.add(u),f.addEventListener("abort",function(){var h,v;r.subscribers.delete(u),r.subscribers.size===0&&(h=r,v=i,setTimeout(function(){h.subscribers.size===0&&Je(v,h)},3e3))})}var Rf={stack:"dbcore",level:0,name:"Cache",create:function(r){var i=r.schema.name;return o(o({},r),{transaction:function(u,f,h){var v,b,x=r.transaction(u,f,h);return f==="readwrite"&&(b=(v=new AbortController).signal,h=function(P){return function(){if(v.abort(),f==="readwrite"){for(var O=new Set,B=0,I=u;B<I.length;B++){var L=I[B],k=Ar["idb://".concat(i,"/").concat(L)];if(k){var $=r.table(L),F=k.optimisticOps.filter(function(De){return De.trans===x});if(x._explicit&&P&&x.mutatedParts)for(var D=0,K=Object.values(k.queries.query);D<K.length;D++)for(var q=0,V=(xe=K[D]).slice();q<V.length;q++)Es((pe=V[q]).obsSet,x.mutatedParts)&&(Je(xe,pe),pe.subscribers.forEach(function(De){return O.add(De)}));else if(0<F.length){k.optimisticOps=k.optimisticOps.filter(function(De){return De.trans!==x});for(var ee=0,he=Object.values(k.queries.query);ee<he.length;ee++)for(var xe,pe,ge,Re=0,Ce=(xe=he[ee]).slice();Re<Ce.length;Re++)(pe=Ce[Re]).res!=null&&x.mutatedParts&&(P&&!pe.dirty?(ge=Object.isFrozen(pe.res),ge=ou(pe.res,pe.req,F,$,pe,ge),pe.dirty?(Je(xe,pe),pe.subscribers.forEach(function(De){return O.add(De)})):ge!==pe.res&&(pe.res=ge,pe.promise=Se.resolve({result:ge}))):(pe.dirty&&Je(xe,pe),pe.subscribers.forEach(function(De){return O.add(De)})))}}}O.forEach(function(De){return De()})}}},x.addEventListener("abort",h(!1),{signal:b}),x.addEventListener("error",h(!1),{signal:b}),x.addEventListener("complete",h(!0),{signal:b})),x},table:function(u){var f=r.table(u),h=f.schema.primaryKey;return o(o({},f),{mutate:function(v){var b=ke.trans;if(h.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return f.mutate(v);var x=Ar["idb://".concat(i,"/").concat(u)];return x?(b=f.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||ks(h,v).some(function(P){return P==null}))?(x.optimisticOps.push(v),v.mutatedParts&&Ii(v.mutatedParts),b.then(function(P){0<P.numFailures&&(Je(x.optimisticOps,v),(P=ru(0,v,P))&&x.optimisticOps.push(P),v.mutatedParts&&Ii(v.mutatedParts))}),b.catch(function(){Je(x.optimisticOps,v),v.mutatedParts&&Ii(v.mutatedParts)})):b.then(function(P){var O=ru(0,o(o({},v),{values:v.values.map(function(B,I){var L;return P.failures[I]?B:(B=(L=h.keyPath)!==null&&L!==void 0&&L.includes(".")?Ne(B):o({},B),le(B,h.keyPath,P.results[I]),B)})}),P);x.optimisticOps.push(O),queueMicrotask(function(){return v.mutatedParts&&Ii(v.mutatedParts)})}),b):f.mutate(v)},query:function(v){if(!tu(ke,f)||!nu("query",v))return f.query(v);var b=((O=ke.trans)===null||O===void 0?void 0:O.db._options.cache)==="immutable",I=ke,x=I.requery,P=I.signal,O=function($,F,D,K){var q=Ar["idb://".concat($,"/").concat(F)];if(!q)return[];if(!(F=q.queries[D]))return[null,!1,q,null];var V=F[(K.query?K.query.index.name:null)||""];if(!V)return[null,!1,q,null];switch(D){case"query":var ee=V.find(function(he){return he.req.limit===K.limit&&he.req.values===K.values&&iu(he.req.query.range,K.query.range)});return ee?[ee,!0,q,V]:[V.find(function(he){return("limit"in he.req?he.req.limit:1/0)>=K.limit&&(!K.values||he.req.values)&&Af(he.req.query.range,K.query.range)}),!1,q,V];case"count":return ee=V.find(function(he){return iu(he.req.query.range,K.query.range)}),[ee,!!ee,q,V]}}(i,u,"query",v),B=O[0],I=O[1],L=O[2],k=O[3];return B&&I?B.obsSet=v.obsSet:(I=f.query(v).then(function($){var F=$.result;if(B&&(B.res=F),b){for(var D=0,K=F.length;D<K;++D)Object.freeze(F[D]);Object.freeze(F)}else $.result=Ne(F);return $}).catch(function($){return k&&B&&Je(k,B),Promise.reject($)}),B={obsSet:v.obsSet,promise:I,subscribers:new Set,type:"query",req:v,dirty:!1},k?k.push(B):(k=[B],(L=L||(Ar["idb://".concat(i,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=k)),Pf(B,k,x,P),B.promise.then(function($){return{result:ou($.result,v,L==null?void 0:L.optimisticOps,f,B,b)}})}})}})}};function Ai(r,i){return new Proxy(r,{get:function(u,f,h){return f==="db"?i:Reflect.get(u,f,h)}})}var Gn=(Nt.prototype.version=function(r){if(isNaN(r)||r<.1)throw new Q.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var i=this._versions,u=i.filter(function(f){return f._cfg.version===r})[0];return u||(u=new this.Version(r),i.push(u),i.sort(_f),u.stores({}),this._state.autoSchema=!1,u)},Nt.prototype._whenReady=function(r){var i=this;return this.idbdb&&(this._state.openComplete||ke.letThrough||this._vip)?r():new Se(function(u,f){if(i._state.openComplete)return f(new Q.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void f(new Q.DatabaseClosed);i.open().catch(S)}i._state.dbReadyPromise.then(u,f)}).then(r)},Nt.prototype.use=function(r){var i=r.stack,u=r.create,f=r.level,h=r.name;return h&&this.unuse({stack:i,name:h}),r=this._middlewares[i]||(this._middlewares[i]=[]),r.push({stack:i,create:u,level:f??10,name:h}),r.sort(function(v,b){return v.level-b.level}),this},Nt.prototype.unuse=function(r){var i=r.stack,u=r.name,f=r.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},Nt.prototype.open=function(){var r=this;return zn(Et,function(){return Cf(r)})},Nt.prototype._close=function(){var r=this._state,i=fn.indexOf(this);if(0<=i&&fn.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new Se(function(u){r.dbReadyResolve=u}),r.openCanceller=new Se(function(u,f){r.cancelOpen=f}))},Nt.prototype.close=function(u){var i=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;i?(u.isBeingOpened&&u.cancelOpen(new Q.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new Q.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Nt.prototype.delete=function(r){var i=this;r===void 0&&(r={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new Se(function(h,v){function b(){i.close(r);var x=i._deps.indexedDB.deleteDatabase(i.name);x.onsuccess=St(function(){var P,O,B;P=i._deps,O=i.name,B=P.indexedDB,P=P.IDBKeyRange,Ss(B)||O===Yr||ws(B,P).delete(O).catch(S),h()}),x.onerror=jn(v),x.onblocked=i._fireOnBlocked}if(u)throw new Q.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(b):b()})},Nt.prototype.backendDB=function(){return this.idbdb},Nt.prototype.isOpen=function(){return this.idbdb!==null},Nt.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},Nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nt.prototype,"tables",{get:function(){var r=this;return c(this._allTables).map(function(i){return r._allTables[i]})},enumerable:!1,configurable:!0}),Nt.prototype.transaction=function(){var r=(function(i,u,f){var h=arguments.length;if(h<2)throw new Q.InvalidArgument("Too few arguments");for(var v=new Array(h-1);--h;)v[h-1]=arguments[h];return f=v.pop(),[i,we(v),f]}).apply(this,arguments);return this._transaction.apply(this,r)},Nt.prototype._transaction=function(r,i,u){var f=this,h=ke.trans;h&&h.db===this&&r.indexOf("!")===-1||(h=null);var v,b,x=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(b=i.map(function(O){if(O=O instanceof f.Table?O.name:O,typeof O!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return O}),r=="r"||r===ar)v=ar;else{if(r!="rw"&&r!=Ir)throw new Q.InvalidArgument("Invalid transaction mode: "+r);v=Ir}if(h){if(h.mode===ar&&v===Ir){if(!x)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&b.forEach(function(O){if(h&&h.storeNames.indexOf(O)===-1){if(!x)throw new Q.SubTransaction("Table "+O+" not included in parent transaction.");h=null}}),x&&h&&!h.active&&(h=null)}}catch(O){return h?h._promise(null,function(B,I){I(O)}):Tt(O)}var P=(function O(B,I,L,k,$){return Se.resolve().then(function(){var F=ke.transless||ke,D=B._createTransaction(I,L,B._dbSchema,k);if(D.explicit=!0,F={trans:D,transless:F},k)D.idbtrans=k.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(V){return V.name===te.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return O(B,I,L,null,$)})):Tt(V)}var K,q=xt($);return q&&sr(),F=Se.follow(function(){var V;(K=$.call(D,D))&&(q?(V=$n.bind(null,null),K.then(V,V)):typeof K.next=="function"&&typeof K.throw=="function"&&(K=Ps(K)))},F),(K&&typeof K.then=="function"?Se.resolve(K).then(function(V){return D.active?V:Tt(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):F.then(function(){return K})).then(function(V){return k&&D._resolve(),D._completion.then(function(){return V})}).catch(function(V){return D._reject(V),Tt(V)})})}).bind(null,this,v,b,h,u);return h?h._promise(v,P,"lock"):ke.trans?zn(ke.transless,function(){return f._whenReady(P)}):this._whenReady(P)},Nt.prototype.table=function(r){if(!m(this._allTables,r))throw new Q.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},Nt);function Nt(r,i){var u=this;this._middlewares={},this.verno=0;var f=Nt.dependencies;this._options=i=o({addons:Nt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},f=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,v,b,x,P,O={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:S,dbReadyPromise:null,cancelOpen:S,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};O.dbReadyPromise=new Se(function(I){O.dbReadyResolve=I}),O.openCanceller=new Se(function(I,L){O.cancelOpen=L}),this._state=O,this.name=r,this.on=M(this,"populate","blocked","versionchange","close",{ready:[ve,S]}),this.on.ready.subscribe=Z(this.on.ready.subscribe,function(I){return function(L,k){Nt.vip(function(){var $,F=u._state;F.openComplete?(F.dbOpenError||Se.resolve().then(L),k&&I(L)):F.onReadyBeingFired?(F.onReadyBeingFired.push(L),k&&I(L)):(I(L),$=u,k||I(function D(){$.on.ready.unsubscribe(L),$.on.ready.unsubscribe(D)}))})}}),this.Collection=(h=this,R(Pt.prototype,function(K,D){this.db=h;var k=mi,$=null;if(D)try{k=D()}catch(q){$=q}var F=K._ctx,D=F.table,K=D.hook.reading.fire;this._ctx={table:D,index:F.index,isPrimKey:!F.index||D.schema.primKey.keyPath&&F.index===D.schema.primKey.name,range:k,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:$,or:F.or,valueMapper:K!==E?K:null}})),this.Table=(v=this,R(w.prototype,function(I,L,k){this.db=v,this._tx=k,this.name=I,this.schema=L,this.hook=v._allTables[I]?v._allTables[I].hook:M(null,{creating:[oe,S],reading:[j,E],updating:[Ie,S],deleting:[ne,S]})})),this.Transaction=(b=this,R(mf.prototype,function(I,L,k,$,F){var D=this;this.db=b,this.mode=I,this.storeNames=L,this.schema=k,this.chromeTransactionDurability=$,this.idbtrans=null,this.on=M(this,"complete","error","abort"),this.parent=F||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Se(function(K,q){D._resolve=K,D._reject=q}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(K){var q=D.active;return D.active=!1,D.on.error.fire(K),D.parent?D.parent._reject(K):q&&D.idbtrans&&D.idbtrans.abort(),Tt(K)})})),this.Version=(x=this,R(Sf.prototype,function(I){this.db=x,this._cfg={version:I,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,R(_o.prototype,function(I,L,k){if(this.db=P,this._ctx={table:I,index:L===":id"?null:L,or:k},this._cmp=this._ascending=at,this._descending=function($,F){return at(F,$)},this._max=function($,F){return 0<at($,F)?$:F},this._min=function($,F){return at($,F)<0?$:F},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new Q.MissingAPI})),this.on("versionchange",function(I){0<I.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(I){!I.newVersion||I.newVersion<I.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(I.oldVersion/10))}),this._maxKey=So(i.IDBKeyRange),this._createTransaction=function(I,L,k,$){return new u.Transaction(I,L,k,u._options.chromeTransactionDurability,$)},this._fireOnBlocked=function(I){u.on("blocked").fire(I),fn.filter(function(L){return L.name===u.name&&L!==u&&!L._state.vcFired}).map(function(L){return L.on("versionchange").fire(I)})},this.use(If),this.use(Rf),this.use(Tf),this.use(xf),this.use(Ef);var B=new Proxy(this,{get:function(I,L,k){if(L==="_vip")return!0;if(L==="table")return function(F){return Ai(u.table(F),B)};var $=Reflect.get(I,L,k);return $ instanceof w?Ai($,B):L==="tables"?$.map(function(F){return Ai(F,B)}):L==="_createTransaction"?function(){return Ai($.apply(this,arguments),B)}:$}});this.vip=B,f.forEach(function(I){return I(u)})}var Pi,vn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",kf=(Ds.prototype.subscribe=function(r,i,u){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:i,complete:u})},Ds.prototype[vn]=function(){return this},Ds);function Ds(r){this._subscribe=r}try{Pi={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Pi={indexedDB:null,IDBKeyRange:null}}function su(r){var i,u=!1,f=new kf(function(h){var v=xt(r),b,x=!1,P={},O={},B={get closed(){return x},unsubscribe:function(){x||(x=!0,b&&b.abort(),I&&lr.storagemutated.unsubscribe(k))}};h.start&&h.start(B);var I=!1,L=function(){return mo($)},k=function(F){Ei(P,F),Es(O,P)&&L()},$=function(){var F,D,K;!x&&Pi.indexedDB&&(P={},F={},b&&b.abort(),b=new AbortController,K=function(q){var V=or();try{v&&sr();var ee=Nn(r,q);return ee=v?ee.finally($n):ee}finally{V&&ir()}}(D={subscr:F,signal:b.signal,requery:L,querier:r,trans:null}),Promise.resolve(K).then(function(q){u=!0,i=q,x||D.signal.aborted||(P={},function(V){for(var ee in V)if(m(V,ee))return;return 1}(O=F)||I||(lr(wo,k),I=!0),mo(function(){return!x&&h.next&&h.next(q)}))},function(q){u=!1,["DatabaseClosedError","AbortError"].includes(q==null?void 0:q.name)||x||mo(function(){x||h.error&&h.error(q)})}))};return setTimeout(L,0),B});return f.hasValue=function(){return u},f.getValue=function(){return i},f}var Pr=Gn;function Ns(r){var i=cr;try{cr=!0,lr.storagemutated.fire(r),As(r,!0)}finally{cr=i}}_(Pr,o(o({},ft),{delete:function(r){return new Pr(r,{addons:[]}).delete()},exists:function(r){return new Pr(r,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return i=Pr.dependencies,u=i.indexedDB,i=i.IDBKeyRange,(Ss(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Yr})}):ws(u,i).toCollection().primaryKeys()).then(r)}catch{return Tt(new Q.MissingAPI)}var i,u},defineClass:function(){return function(r){d(this,r)}},ignoreTransaction:function(r){return ke.trans?zn(ke.transless,r):r()},vip:Cs,async:function(r){return function(){try{var i=Ps(r.apply(this,arguments));return i&&typeof i.then=="function"?i:Se.resolve(i)}catch(u){return Tt(u)}}},spawn:function(r,i,u){try{var f=Ps(r.apply(u,i||[]));return f&&typeof f.then=="function"?f:Se.resolve(f)}catch(h){return Tt(h)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(r,i){return i=Se.resolve(typeof r=="function"?Pr.ignoreTransaction(r):r).timeout(i||6e4),ke.trans?ke.trans.waitFor(i):i},Promise:Se,debug:{get:function(){return ie},set:function(r){je(r)}},derive:re,extend:d,props:_,override:Z,Events:M,on:lr,liveQuery:su,extendObservabilitySet:Ei,getByKeyPath:be,setByKeyPath:le,delByKeyPath:function(r,i){typeof i=="string"?le(r,i,void 0):"length"in i&&[].map.call(i,function(u){le(r,u,void 0)})},shallowClone:me,deepClone:Ne,getObjectDiff:Rs,cmp:at,asap:U,minKey:-1/0,addons:[],connections:fn,errnames:te,dependencies:Pi,cache:Ar,semVer:"4.0.11",version:"4.0.11".split(".").map(function(r){return parseInt(r)}).reduce(function(r,i,u){return r+i/Math.pow(10,2*u)})})),Pr.maxKey=So(Pr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lr(wo,function(r){cr||(r=new CustomEvent(ps,{detail:r}),cr=!0,dispatchEvent(r),cr=!1)}),addEventListener(ps,function(r){r=r.detail,cr||Ns(r)}));var Gr,cr=!1,au=function(){};return typeof BroadcastChannel<"u"&&((au=function(){(Gr=new BroadcastChannel(ps)).onmessage=function(r){return r.data&&Ns(r.data)}})(),typeof Gr.unref=="function"&&Gr.unref(),lr(wo,function(r){cr||Gr.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!Gn.disableBfCache&&r.persisted){ie&&console.debug("Dexie: handling persisted pagehide"),Gr!=null&&Gr.close();for(var i=0,u=fn;i<u.length;i++)u[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!Gn.disableBfCache&&r.persisted&&(ie&&console.debug("Dexie: handling persisted pageshow"),au(),Ns({all:new Gt(-1/0,[[]])}))})),Se.rejectionMapper=function(r,i){return!r||r instanceof en||r instanceof TypeError||r instanceof SyntaxError||!r.name||!Be[r.name]?r:(i=new Be[r.name](i||r.message,r),"stack"in r&&H(i,"stack",{get:function(){return this.inner.stack}}),i)},je(ie),o(Gn,Object.freeze({__proto__:null,Dexie:Gn,liveQuery:su,Entity:vi,cmp:at,PropModification:lt,replacePrefix:function(r,i){return new lt({replacePrefix:[r,i]})},add:function(r){return new lt({add:r})},remove:function(r){return new lt({remove:r})},default:Gn,RangeSet:Gt,mergeRanges:Eo,rangesOverlap:Qa}),{default:Gn}),Gn})}(ji)),ji.exports}var Op=kp();const pa=Gc(Op),el=Symbol.for("Dexie"),ma=globalThis[el]||(globalThis[el]=pa);if(pa.semVer!==ma.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${pa.semVer} and ${ma.semVer}`);class Dp extends ma{constructor(){super("MemoryAppDB");Qr(this,"categories");Qr(this,"themes");Qr(this,"cards");Qr(this,"files");Qr(this,"settings");this.version(1).stores({categories:"id, name, description",themes:"id, categoryId, name, description, isThemeSelected",cards:"id, themeId, front, back, multimediaFront, multimediaBack, level",files:"id",settings:"id, displayName, useDailyNotifications, profilePicture"})}}const Ge=new Dp,zt=[];for(let e=0;e<256;++e)zt.push((e+256).toString(16).slice(1));function Np(e,t=0){return(zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]).toLowerCase()}let Qs;const $p=new Uint8Array(16);function Bp(){if(!Qs){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qs=crypto.getRandomValues.bind(crypto)}return Qs($p)}const Mp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tl={randomUUID:Mp};function La(e,t,n){var s;if(tl.randomUUID&&!e)return tl.randomUUID();e=e||{};const o=e.random??((s=e.rng)==null?void 0:s.call(e))??Bp();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Np(o)}const _n=oi("card",()=>{const e=et([]),t=et(!1),n=async()=>{try{e.value=await Ge.cards.toArray()}catch(d){console.error("Erreur lors du chargement des cartes : ",d)}t.value=!0};return{cards:e,isLoaded:t,addCardOrUpdateIt:async(d,y,p)=>{if(d.id||(d.id=La(),d.createdAt=new Date().toISOString()),y){const m=new Blob([await y.arrayBuffer()],{type:y.type});await Ge.files.put({id:`${d.id}-front`,file:m}),d.multimediaFront=`${d.id}-front`}if(p){const m=new Blob([await p.arrayBuffer()],{type:p.type});await Ge.files.put({id:`${d.id}-back`,file:m}),d.multimediaBack=`${d.id}-back`}await Ge.cards.put({...d}),await n()},deleteCardById:async d=>{await Ge.cards.delete(d),await Ge.files.delete(`${d}-front`),await Ge.files.delete(`${d}-back`),await n()},getFileById:async d=>{const y=await Ge.files.get(d);return y?new Blob([y.file],{type:y.file.type}):null},loadCards:n,getCardsByThemeId:d=>e.value.filter(y=>y.themeId===d),getCardsByThemeList:d=>e.value.filter(y=>d.find(p=>p.id===y.themeId&&y.currentLevel<=p.maxLevel))}}),Sn=oi("theme",()=>{const e=et([]),t=et(!1),n=async()=>{try{e.value=await Ge.themes.toArray()}catch(_){console.error("Erreur lors du chargement des thmes : ",_)}t.value=!0};return{themes:e,isLoaded:t,addThemeOrUpdateIt:async _=>{_.id||(_.id=La(),_.createdAt=new Date().toISOString()),_.lastActivityAt=new Date().toISOString(),await Ge.themes.put({..._}),await n()},loadThemes:n,deleteThemeById:async _=>{await Ge.cards.where("themeId").equals(_).delete(),await Ge.themes.delete(_),await n()},deleteThemeByCategoryId:async _=>{const C=(await Ge.themes.where("categoryId").equals(_).toArray()).map(H=>H.id);await Ge.cards.where("themeId").anyOf(C).delete(),await Ge.themes.where("categoryId").equals(_).delete(),await n()},getThemeById:_=>e.value.find(C=>C.id===_),getThemesByCategoryId:_=>e.value.filter(C=>C.categoryId===_),setThemeSelected:async _=>{const C=await Ge.themes.get(_);C&&(C.isThemeSelected=!0,C.lastActivityAt=new Date().toISOString(),await Ge.themes.put(C),await n())},getSelectedThemes:()=>e.value.filter(_=>_.isThemeSelected),setThemeUnselected:async _=>{const C=await Ge.themes.get(_);C&&(C.isThemeSelected=!1,C.lastActivityAt=new Date().toISOString(),await Ge.themes.put(C),await n())},setLatestActivity:async _=>{const C=await Ge.themes.get(_);C&&(C.lastActivityAt=new Date().toISOString(),await Ge.themes.put(C),await n())}}}),Er=oi("category",()=>{const e=et([]),t=et(!1),n=Sn(),o=async()=>{try{e.value=await Ge.categories.toArray()}catch(l){console.error("Erreur lors du chargement des catgories : ",l)}t.value=!0};return{categories:e,isLoaded:t,addCategory:async l=>{l.id||(l.id=La()),await Ge.categories.put({...l}),await o()},deleteCategoryById:async l=>{n.getThemesByCategoryId(l).forEach(d=>{n.deleteThemeById(d.id)}),await Ge.categories.delete(l),await o()},loadCategories:o,getCategoryById:async l=>Ge.categories.get(l)}}),ii=()=>{const e=(z,W=1,Z=2)=>Math.round(W*Math.pow(Z,z)),t=(z=7,W=1,Z=2)=>Array.from({length:z},(ae,U)=>e(U,W,Z));Er();const n=Sn(),o=_n(),s=z=>new Date(z.getTime()-z.getTimezoneOffset()*6e4).toISOString().slice(0,10),a=(z,W=2)=>{let Z=new Date;return Z.setDate(Z.getDate()+e(z-1,1,W)),Z.setHours(0,0,0,0),s(Z)},c=(z,W)=>{const Z=new Date;if(!z.currentLevel||z.currentLevel>=W)return!1;if(z.nextReviewAt)return!z.nextReviewAt||new Date(z.nextReviewAt)<=Z},l=z=>{const W=s(new Date);return z.currentLevel===1&&z.firstReviewedAt&&s(new Date(z.firstReviewedAt))==W},d=(z,W)=>{if(z==null&&(z=o.cards),W&&z.reduce((U,be)=>l(be)?U+1:U,0)>=W)return[];let Z=z.filter(ae=>!ae.currentLevel);return console.log(Z),!W||Z.length<=W?(console.log("here"),Z):Pp(Z).slice(0,W)},y=(z,W,Z)=>{let ae=[];return ae=z.filter(U=>c(U,W)).sort((U,be)=>be.currentLevel-U.currentLevel),ae.push(...d(z,Z)),ae},p=(z=n.themes,W=o.cards)=>{let Z=[];return z.forEach(ae=>{let U=W.filter(me=>ae.id===me.themeId),be=U.filter(me=>c(me,ae.maxLevel)).sort((me,X)=>X.currentLevel-me.currentLevel),le=d(U,ae.newCardsPerDay).length;Z.push({themeId:ae.id,cards:be,newCards:le})}),Z},m=(z=n.themes,W=o.cards,Z)=>{let ae=[];return z.forEach(U=>{let le=W.filter(we=>U.id===we.themeId).filter(we=>{if(!we.nextReviewAt)return!1;const Te=new Date(we.nextReviewAt),se=new Date;switch(Te.setHours(0,0,0,0),se.setHours(0,0,0,0),Z){case"past":return c(we,U.maxLevel)&&Te<se;case"today":return c(we,U.maxLevel)&&Te==se;case"future":return Te>se;default:return!0}}).sort((we,Te)=>Te.currentLevel-we.currentLevel);const me=d(null,U.newCardsPerDay).length;let X=Z=="today"?me:0;(le.length||X)&&ae.push({themeId:U.id,cards:le,newCards:X})}),ae},_=async(z,W,Z=1)=>{let ae=_n();const U=new Date;if(z.lastReviewedAt=U.toISOString(),z.firstReviewedAt||(z.firstReviewedAt=U.toISOString()),z.currentLevel=Z>0?Math.min((z.currentLevel??0)+Z,W):Math.max((z.currentLevel??0)+Z,1),z.currentLevel>=W){z.nextReviewAt=void 0;return}z.nextReviewAt=a(z.currentLevel),await ae.addCardOrUpdateIt(z)};return{reviewInterval:e,generateReviewInterval:t,getCardsToPractice:y,promoteCard:(z,W)=>_(z,W,1),demoteCard:(z,W)=>_(z,W,-1),resetCardLevel:async z=>{let W=_n();z.currentLevel=0,z.nextReviewAt=void 0,z.lastReviewedAt=void 0,z.firstReviewedAt=void 0,await W.addCardOrUpdateIt(z)},getCardsToPracticeTodayByTheme:p,getCardCountToPracticeToday:()=>p().reduce((z,W)=>z+W.cards.length+W.newCards,0),getThemesToPracticeByPeriod:m}},nl="/Projet-Memory/assets/mariannepray-csTYKolm.png",si=oi("files",()=>{const e=et(!1),t=et([]),n=async()=>{try{t.value=await Ge.files.toArray()}catch(l){console.error("Erreur lors du chargement des cartes : ",l)}e.value=!0},o=async(l,d)=>{const y=new Blob([await d.arrayBuffer()],{type:d.type});await Ge.files.put({id:l,file:y}),await n()},s=async l=>{await Ge.files.delete({id:l})},a=l=>t.value.find(d=>d.id==l);return{loadFiles:n,files:t,addFile:o,deleteFileById:s,getFileById:a,isLoaded:e,getFileURLById:l=>{const d=a(l);return d!=null&&d.file?URL.createObjectURL(d.file):""}}}),ai=oi("settings",()=>{const e=si(),t=et(),n=et(!1),o=async()=>{e.isLoaded||await e.loadFiles();try{t.value=(await Ge.settings.toArray())[0],t.value||await s()}catch(l){console.error("Erreur lors du chargement des paramtres : ",l)}n.value=!0},s=async()=>{let l={id:"1",displayName:"",useDailyNotification:!0,profilePicture:"",lastNotificationDate:""};await Ge.settings.put(l),await o()};return{settings:t,loadSettings:o,updateSettings:async(l,d)=>{d&&(await e.addFile("profile-picture",d),l.profilePicture="profile-picture"),await Ge.settings.put({id:"1",displayName:l.displayName,useDailyNotification:l.useDailyNotification,profilePicture:l.profilePicture,lastNotificationDate:l.lastNotificationDate}),await o()},setLastNotificationDate:async l=>{if(!t.value){console.error("Settings non charges");return}t.value.lastNotificationDate=l,await Ge.settings.put({id:"1",displayName:t.value.displayName,useDailyNotification:t.value.useDailyNotification,profilePicture:t.value.profilePicture,lastNotificationDate:l})}}});function Qc(){const e=ai(),t=Qe(()=>e.settings),n=()=>{var d;if(!t.value||((d=t.value)==null?void 0:d.useDailyNotification)===!1)return!1;const c=t.value.lastNotificationDate,l=new Date().toISOString().split("T")[0];return c===l?(console.log("Notification dj envoye aujourd'hui"),!1):!0},o=async()=>"Notification"in window?await Notification.requestPermission()==="granted":(console.error("Notifications non supportes par ce navigateur."),!1),s=async()=>{if(await Notification.requestPermission()!=="granted"){console.log("Permission refuse");return}await e.setLastNotificationDate(new Date().toISOString().split("T")[0]);const l=ii().getCardCountToPracticeToday(),d=a(l);"serviceWorker"in navigator&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Memory App",body:d,icon:nl}}):new Notification("Memory App",{body:d,icon:nl})},a=c=>c?`La rvision du jour est disponible !
Vous avez ${c} cartes  rviser aujourd'hui.
Cliquez sur cette notification pour commencer !`:"Tout est bon ! Aucune carte  rviser aujourd'hui !";return{requestNotificationPermission:o,notifyUser:s,generatePracticeMessage:a,isNotificationSendable:n}}const Fp=dt({__name:"App",setup(e){const{requestNotificationPermission:t,notifyUser:n,isNotificationSendable:o}=Qc();return co(async()=>{await t()&&setTimeout(()=>{o()&&n()},5e3)}),(s,a)=>{const c=ni("router-view");return Y(),yt(c)}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const eo=typeof document<"u";function Jc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Lp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Jc(e.default)}const mt=Object.assign;function Js(e,t){const n={};for(const o in t){const s=t[o];n[o]=kn(s)?s.map(e):e(s)}return n}const Mo=()=>{},kn=Array.isArray,Xc=/#/g,jp=/&/g,Kp=/\//g,Up=/=/g,qp=/\?/g,Zc=/\+/g,Vp=/%5B/g,Hp=/%5D/g,ef=/%5E/g,Wp=/%60/g,tf=/%7B/g,zp=/%7C/g,nf=/%7D/g,Yp=/%20/g;function ja(e){return encodeURI(""+e).replace(zp,"|").replace(Vp,"[").replace(Hp,"]")}function Gp(e){return ja(e).replace(tf,"{").replace(nf,"}").replace(ef,"^")}function va(e){return ja(e).replace(Zc,"%2B").replace(Yp,"+").replace(Xc,"%23").replace(jp,"%26").replace(Wp,"`").replace(tf,"{").replace(nf,"}").replace(ef,"^")}function Qp(e){return va(e).replace(Up,"%3D")}function Jp(e){return ja(e).replace(Xc,"%23").replace(qp,"%3F")}function Xp(e){return e==null?"":Jp(e).replace(Kp,"%2F")}function Yo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Zp=/\/$/,em=e=>e.replace(Zp,"");function Xs(e,t,n="/"){let o,s={},a="",c="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(o=t.slice(0,d),a=t.slice(d+1,l>-1?l:t.length),s=e(a)),l>-1&&(o=o||t.slice(0,l),c=t.slice(l,t.length)),o=om(o??t,n),{fullPath:o+(a&&"?")+a+c,path:o,query:s,hash:Yo(c)}}function tm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nm(e,t,n){const o=t.matched.length-1,s=n.matched.length-1;return o>-1&&o===s&&ao(t.matched[o],n.matched[s])&&rf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ao(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rm(e[n],t[n]))return!1;return!0}function rm(e,t){return kn(e)?ol(e,t):kn(t)?ol(t,e):e===t}function ol(e,t){return kn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function om(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),s=o[o.length-1];(s===".."||s===".")&&o.push("");let a=n.length-1,c,l;for(c=0;c<o.length;c++)if(l=o[c],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+o.slice(c).join("/")}const dr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Go;(function(e){e.pop="pop",e.push="push"})(Go||(Go={}));var Fo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fo||(Fo={}));function im(e){if(!e)if(eo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),em(e)}const sm=/^[^#]+#/;function am(e,t){return e.replace(sm,"#")+t}function um(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const ls=()=>({left:window.scrollX,top:window.scrollY});function lm(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=um(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function il(e,t){return(history.state?history.state.position-t:-1)+e}const ya=new Map;function cm(e,t){ya.set(e,t)}function fm(e){const t=ya.get(e);return ya.delete(e),t}let dm=()=>location.protocol+"//"+location.host;function of(e,t){const{pathname:n,search:o,hash:s}=t,a=e.indexOf("#");if(a>-1){let l=s.includes(e.slice(a))?e.slice(a).length:1,d=s.slice(l);return d[0]!=="/"&&(d="/"+d),rl(d,"")}return rl(n,e)+o+s}function hm(e,t,n,o){let s=[],a=[],c=null;const l=({state:_})=>{const C=of(e,location),H=n.value,re=t.value;let Ee=0;if(_){if(n.value=C,t.value=_,c&&c===H){c=null;return}Ee=re?_.position-re.position:0}else o(C);s.forEach(z=>{z(n.value,H,{delta:Ee,type:Go.pop,direction:Ee?Ee>0?Fo.forward:Fo.back:Fo.unknown})})};function d(){c=n.value}function y(_){s.push(_);const C=()=>{const H=s.indexOf(_);H>-1&&s.splice(H,1)};return a.push(C),C}function p(){const{history:_}=window;_.state&&_.replaceState(mt({},_.state,{scroll:ls()}),"")}function m(){for(const _ of a)_();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:d,listen:y,destroy:m}}function sl(e,t,n,o=!1,s=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:s?ls():null}}function pm(e){const{history:t,location:n}=window,o={value:of(e,n)},s={value:t.state};s.value||a(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(d,y,p){const m=e.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+d:dm()+e+d;try{t[p?"replaceState":"pushState"](y,"",_),s.value=y}catch(C){console.error(C),n[p?"replace":"assign"](_)}}function c(d,y){const p=mt({},t.state,sl(s.value.back,d,s.value.forward,!0),y,{position:s.value.position});a(d,p,!0),o.value=d}function l(d,y){const p=mt({},s.value,t.state,{forward:d,scroll:ls()});a(p.current,p,!0);const m=mt({},sl(o.value,d,null),{position:p.position+1},y);a(d,m,!1),o.value=d}return{location:o,state:s,push:l,replace:c}}function mm(e){e=im(e);const t=pm(e),n=hm(e,t.state,t.location,t.replace);function o(a,c=!0){c||n.pauseListeners(),history.go(a)}const s=mt({location:"",base:e,go:o,createHref:am.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function vm(e){return typeof e=="string"||e&&typeof e=="object"}function sf(e){return typeof e=="string"||typeof e=="symbol"}const af=Symbol("");var al;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(al||(al={}));function uo(e,t){return mt(new Error,{type:e,[af]:!0},t)}function Xn(e,t){return e instanceof Error&&af in e&&(t==null||!!(e.type&t))}const ul="[^/]+?",ym={sensitive:!1,strict:!1,start:!0,end:!0},gm=/[.+*?^${}()[\]/\\]/g;function _m(e,t){const n=mt({},ym,t),o=[];let s=n.start?"^":"";const a=[];for(const y of e){const p=y.length?[]:[90];n.strict&&!y.length&&(s+="/");for(let m=0;m<y.length;m++){const _=y[m];let C=40+(n.sensitive?.25:0);if(_.type===0)m||(s+="/"),s+=_.value.replace(gm,"\\$&"),C+=40;else if(_.type===1){const{value:H,repeatable:re,optional:Ee,regexp:z}=_;a.push({name:H,repeatable:re,optional:Ee});const W=z||ul;if(W!==ul){C+=10;try{new RegExp(`(${W})`)}catch(ae){throw new Error(`Invalid custom RegExp for param "${H}" (${W}): `+ae.message)}}let Z=re?`((?:${W})(?:/(?:${W}))*)`:`(${W})`;m||(Z=Ee&&y.length<2?`(?:/${Z})`:"/"+Z),Ee&&(Z+="?"),s+=Z,C+=20,Ee&&(C+=-8),re&&(C+=-20),W===".*"&&(C+=-50)}p.push(C)}o.push(p)}if(n.strict&&n.end){const y=o.length-1;o[y][o[y].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const c=new RegExp(s,n.sensitive?"":"i");function l(y){const p=y.match(c),m={};if(!p)return null;for(let _=1;_<p.length;_++){const C=p[_]||"",H=a[_-1];m[H.name]=C&&H.repeatable?C.split("/"):C}return m}function d(y){let p="",m=!1;for(const _ of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const C of _)if(C.type===0)p+=C.value;else if(C.type===1){const{value:H,repeatable:re,optional:Ee}=C,z=H in y?y[H]:"";if(kn(z)&&!re)throw new Error(`Provided param "${H}" is an array but it is not repeatable (* or + modifiers)`);const W=kn(z)?z.join("/"):z;if(!W)if(Ee)_.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${H}"`);p+=W}}return p||"/"}return{re:c,score:o,keys:a,parse:l,stringify:d}}function bm(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function uf(e,t){let n=0;const o=e.score,s=t.score;for(;n<o.length&&n<s.length;){const a=bm(o[n],s[n]);if(a)return a;n++}if(Math.abs(s.length-o.length)===1){if(ll(o))return 1;if(ll(s))return-1}return s.length-o.length}function ll(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wm={type:0,value:""},Sm=/[a-zA-Z0-9_]/;function Cm(e){if(!e)return[[]];if(e==="/")return[[wm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${n})/"${y}": ${C}`)}let n=0,o=n;const s=[];let a;function c(){a&&s.push(a),a=[]}let l=0,d,y="",p="";function m(){y&&(n===0?a.push({type:0,value:y}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:y,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),y="")}function _(){y+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:d==="/"?(y&&m(),c()):d===":"?(m(),n=1):_();break;case 4:_(),n=o;break;case 1:d==="("?n=2:Sm.test(d)?_():(m(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:n=3:p+=d;break;case 3:m(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${y}"`),m(),c(),s}function xm(e,t,n){const o=_m(Cm(e.path),n),s=mt(o,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Em(e,t){const n=[],o=new Map;t=hl({strict:!1,end:!0,sensitive:!1},t);function s(m){return o.get(m)}function a(m,_,C){const H=!C,re=fl(m);re.aliasOf=C&&C.record;const Ee=hl(t,m),z=[re];if("alias"in m){const ae=typeof m.alias=="string"?[m.alias]:m.alias;for(const U of ae)z.push(fl(mt({},re,{components:C?C.record.components:re.components,path:U,aliasOf:C?C.record:re})))}let W,Z;for(const ae of z){const{path:U}=ae;if(_&&U[0]!=="/"){const be=_.record.path,le=be[be.length-1]==="/"?"":"/";ae.path=_.record.path+(U&&le+U)}if(W=xm(ae,_,Ee),C?C.alias.push(W):(Z=Z||W,Z!==W&&Z.alias.push(W),H&&m.name&&!dl(W)&&c(m.name)),lf(W)&&d(W),re.children){const be=re.children;for(let le=0;le<be.length;le++)a(be[le],W,C&&C.children[le])}C=C||W}return Z?()=>{c(Z)}:Mo}function c(m){if(sf(m)){const _=o.get(m);_&&(o.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(c),_.alias.forEach(c))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&o.delete(m.record.name),m.children.forEach(c),m.alias.forEach(c))}}function l(){return n}function d(m){const _=Am(m,n);n.splice(_,0,m),m.record.name&&!dl(m)&&o.set(m.record.name,m)}function y(m,_){let C,H={},re,Ee;if("name"in m&&m.name){if(C=o.get(m.name),!C)throw uo(1,{location:m});Ee=C.record.name,H=mt(cl(_.params,C.keys.filter(Z=>!Z.optional).concat(C.parent?C.parent.keys.filter(Z=>Z.optional):[]).map(Z=>Z.name)),m.params&&cl(m.params,C.keys.map(Z=>Z.name))),re=C.stringify(H)}else if(m.path!=null)re=m.path,C=n.find(Z=>Z.re.test(re)),C&&(H=C.parse(re),Ee=C.record.name);else{if(C=_.name?o.get(_.name):n.find(Z=>Z.re.test(_.path)),!C)throw uo(1,{location:m,currentLocation:_});Ee=C.record.name,H=mt({},_.params,m.params),re=C.stringify(H)}const z=[];let W=C;for(;W;)z.unshift(W.record),W=W.parent;return{name:Ee,path:re,params:H,matched:z,meta:Tm(z)}}e.forEach(m=>a(m));function p(){n.length=0,o.clear()}return{addRoute:a,resolve:y,removeRoute:c,clearRoutes:p,getRoutes:l,getRecordMatcher:s}}function cl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function fl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Im(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Im(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function dl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Tm(e){return e.reduce((t,n)=>mt(t,n.meta),{})}function hl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Am(e,t){let n=0,o=t.length;for(;n!==o;){const a=n+o>>1;uf(e,t[a])<0?o=a:n=a+1}const s=Pm(e);return s&&(o=t.lastIndexOf(s,o-1)),o}function Pm(e){let t=e;for(;t=t.parent;)if(lf(t)&&uf(e,t)===0)return t}function lf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rm(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<o.length;++s){const a=o[s].replace(Zc," "),c=a.indexOf("="),l=Yo(c<0?a:a.slice(0,c)),d=c<0?null:Yo(a.slice(c+1));if(l in t){let y=t[l];kn(y)||(y=t[l]=[y]),y.push(d)}else t[l]=d}return t}function pl(e){let t="";for(let n in e){const o=e[n];if(n=Qp(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(kn(o)?o.map(a=>a&&va(a)):[o&&va(o)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function km(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=kn(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return t}const Om=Symbol(""),ml=Symbol(""),Ka=Symbol(""),Ua=Symbol(""),ga=Symbol("");function Ao(){let e=[];function t(o){return e.push(o),()=>{const s=e.indexOf(o);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function yr(e,t,n,o,s,a=c=>c()){const c=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((l,d)=>{const y=_=>{_===!1?d(uo(4,{from:n,to:t})):_ instanceof Error?d(_):vm(_)?d(uo(2,{from:t,to:_})):(c&&o.enterCallbacks[s]===c&&typeof _=="function"&&c.push(_),l())},p=a(()=>e.call(o&&o.instances[s],t,n,y));let m=Promise.resolve(p);e.length<3&&(m=m.then(y)),m.catch(_=>d(_))})}function Zs(e,t,n,o,s=a=>a()){const a=[];for(const c of e)for(const l in c.components){let d=c.components[l];if(!(t!=="beforeRouteEnter"&&!c.instances[l]))if(Jc(d)){const p=(d.__vccOpts||d)[t];p&&a.push(yr(p,n,o,c,l,s))}else{let y=d();a.push(()=>y.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${c.path}"`);const m=Lp(p)?p.default:p;c.mods[l]=p,c.components[l]=m;const C=(m.__vccOpts||m)[t];return C&&yr(C,n,o,c,l,s)()}))}}return a}function vl(e){const t=Tn(Ka),n=Tn(Ua),o=Qe(()=>{const d=Ze(e.to);return t.resolve(d)}),s=Qe(()=>{const{matched:d}=o.value,{length:y}=d,p=d[y-1],m=n.matched;if(!p||!m.length)return-1;const _=m.findIndex(ao.bind(null,p));if(_>-1)return _;const C=yl(d[y-2]);return y>1&&yl(p)===C&&m[m.length-1].path!==C?m.findIndex(ao.bind(null,d[y-2])):_}),a=Qe(()=>s.value>-1&&Mm(n.params,o.value.params)),c=Qe(()=>s.value>-1&&s.value===n.matched.length-1&&rf(n.params,o.value.params));function l(d={}){if(Bm(d)){const y=t[Ze(e.replace)?"replace":"push"](Ze(e.to)).catch(Mo);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:o,href:Qe(()=>o.value.href),isActive:a,isExactActive:c,navigate:l}}function Dm(e){return e.length===1?e[0]:e}const Nm=dt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vl,setup(e,{slots:t}){const n=ei(vl(e)),{options:o}=Tn(Ka),s=Qe(()=>({[gl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[gl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Dm(t.default(n));return e.custom?a:Ma("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},a)}}}),$m=Nm;function Bm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mm(e,t){for(const n in t){const o=t[n],s=e[n];if(typeof o=="string"){if(o!==s)return!1}else if(!kn(s)||s.length!==o.length||o.some((a,c)=>a!==s[c]))return!1}return!0}function yl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gl=(e,t,n)=>e??t??n,Fm=dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Tn(ga),s=Qe(()=>e.route||o.value),a=Tn(ml,0),c=Qe(()=>{let y=Ze(a);const{matched:p}=s.value;let m;for(;(m=p[y])&&!m.components;)y++;return y}),l=Qe(()=>s.value.matched[c.value]);Mi(ml,Qe(()=>c.value+1)),Mi(Om,l),Mi(ga,s);const d=et();return Wn(()=>[d.value,l.value,e.name],([y,p,m],[_,C,H])=>{p&&(p.instances[m]=y,C&&C!==p&&y&&y===_&&(p.leaveGuards.size||(p.leaveGuards=C.leaveGuards),p.updateGuards.size||(p.updateGuards=C.updateGuards))),y&&p&&(!C||!ao(p,C)||!_)&&(p.enterCallbacks[m]||[]).forEach(re=>re(y))},{flush:"post"}),()=>{const y=s.value,p=e.name,m=l.value,_=m&&m.components[p];if(!_)return _l(n.default,{Component:_,route:y});const C=m.props[p],H=C?C===!0?y.params:typeof C=="function"?C(y):C:null,Ee=Ma(_,mt({},H,t,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(m.instances[p]=null)},ref:d}));return _l(n.default,{Component:Ee,route:y})||Ee}}});function _l(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Lm=Fm;function jm(e){const t=Em(e.routes,e),n=e.parseQuery||Rm,o=e.stringifyQuery||pl,s=e.history,a=Ao(),c=Ao(),l=Ao(),d=hd(dr);let y=dr;eo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Js.bind(null,te=>""+te),m=Js.bind(null,Xp),_=Js.bind(null,Yo);function C(te,Oe){let Q,Be;return sf(te)?(Q=t.getRecordMatcher(te),Be=Oe):Be=te,t.addRoute(Be,Q)}function H(te){const Oe=t.getRecordMatcher(te);Oe&&t.removeRoute(Oe)}function re(){return t.getRoutes().map(te=>te.record)}function Ee(te){return!!t.getRecordMatcher(te)}function z(te,Oe){if(Oe=mt({},Oe||d.value),typeof te=="string"){const j=Xs(n,te,Oe.path),G=t.resolve({path:j.path},Oe),oe=s.createHref(j.fullPath);return mt(j,G,{params:_(G.params),hash:Yo(j.hash),redirectedFrom:void 0,href:oe})}let Q;if(te.path!=null)Q=mt({},te,{path:Xs(n,te.path,Oe.path).path});else{const j=mt({},te.params);for(const G in j)j[G]==null&&delete j[G];Q=mt({},te,{params:m(j)}),Oe.params=m(Oe.params)}const Be=t.resolve(Q,Oe),ft=te.hash||"";Be.params=p(_(Be.params));const S=tm(o,mt({},te,{hash:Gp(ft),path:Be.path})),E=s.createHref(S);return mt({fullPath:S,hash:ft,query:o===pl?km(te.query):te.query||{}},Be,{redirectedFrom:void 0,href:E})}function W(te){return typeof te=="string"?Xs(n,te,d.value.path):mt({},te)}function Z(te,Oe){if(y!==te)return uo(8,{from:Oe,to:te})}function ae(te){return le(te)}function U(te){return ae(mt(W(te),{replace:!0}))}function be(te){const Oe=te.matched[te.matched.length-1];if(Oe&&Oe.redirect){const{redirect:Q}=Oe;let Be=typeof Q=="function"?Q(te):Q;return typeof Be=="string"&&(Be=Be.includes("?")||Be.includes("#")?Be=W(Be):{path:Be},Be.params={}),mt({query:te.query,hash:te.hash,params:Be.path!=null?{}:te.params},Be)}}function le(te,Oe){const Q=y=z(te),Be=d.value,ft=te.state,S=te.force,E=te.replace===!0,j=be(Q);if(j)return le(mt(W(j),{state:typeof j=="object"?mt({},ft,j.state):ft,force:S,replace:E}),Oe||Q);const G=Q;G.redirectedFrom=Oe;let oe;return!S&&nm(o,Be,Q)&&(oe=uo(16,{to:G,from:Be}),xt(Be,Be,!0,!1)),(oe?Promise.resolve(oe):we(G,Be)).catch(ne=>Xn(ne)?Xn(ne,2)?ne:Bt(ne):Je(ne,G,Be)).then(ne=>{if(ne){if(Xn(ne,2))return le(mt({replace:E},W(ne.to),{state:typeof ne.to=="object"?mt({},ft,ne.to.state):ft,force:S}),Oe||G)}else ne=se(G,Be,!0,E,ft);return Te(G,Be,ne),ne})}function me(te,Oe){const Q=Z(te,Oe);return Q?Promise.reject(Q):Promise.resolve()}function X(te){const Oe=Cn.values().next().value;return Oe&&typeof Oe.runWithContext=="function"?Oe.runWithContext(te):te()}function we(te,Oe){let Q;const[Be,ft,S]=Km(te,Oe);Q=Zs(Be.reverse(),"beforeRouteLeave",te,Oe);for(const j of Be)j.leaveGuards.forEach(G=>{Q.push(yr(G,te,Oe))});const E=me.bind(null,te,Oe);return Q.push(E),kt(Q).then(()=>{Q=[];for(const j of a.list())Q.push(yr(j,te,Oe));return Q.push(E),kt(Q)}).then(()=>{Q=Zs(ft,"beforeRouteUpdate",te,Oe);for(const j of ft)j.updateGuards.forEach(G=>{Q.push(yr(G,te,Oe))});return Q.push(E),kt(Q)}).then(()=>{Q=[];for(const j of S)if(j.beforeEnter)if(kn(j.beforeEnter))for(const G of j.beforeEnter)Q.push(yr(G,te,Oe));else Q.push(yr(j.beforeEnter,te,Oe));return Q.push(E),kt(Q)}).then(()=>(te.matched.forEach(j=>j.enterCallbacks={}),Q=Zs(S,"beforeRouteEnter",te,Oe,X),Q.push(E),kt(Q))).then(()=>{Q=[];for(const j of c.list())Q.push(yr(j,te,Oe));return Q.push(E),kt(Q)}).catch(j=>Xn(j,8)?j:Promise.reject(j))}function Te(te,Oe,Q){l.list().forEach(Be=>X(()=>Be(te,Oe,Q)))}function se(te,Oe,Q,Be,ft){const S=Z(te,Oe);if(S)return S;const E=Oe===dr,j=eo?history.state:{};Q&&(Be||E?s.replace(te.fullPath,mt({scroll:E&&j&&j.scroll},ft)):s.push(te.fullPath,ft)),d.value=te,xt(te,Oe,Q,E),Bt()}let Ne;function nt(){Ne||(Ne=s.listen((te,Oe,Q)=>{if(!xn.listening)return;const Be=z(te),ft=be(Be);if(ft){le(mt(ft,{replace:!0,force:!0}),Be).catch(Mo);return}y=Be;const S=d.value;eo&&cm(il(S.fullPath,Q.delta),ls()),we(Be,S).catch(E=>Xn(E,12)?E:Xn(E,2)?(le(mt(W(E.to),{force:!0}),Be).then(j=>{Xn(j,20)&&!Q.delta&&Q.type===Go.pop&&s.go(-1,!1)}).catch(Mo),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),Je(E,Be,S))).then(E=>{E=E||se(Be,S,!1),E&&(Q.delta&&!Xn(E,8)?s.go(-Q.delta,!1):Q.type===Go.pop&&Xn(E,20)&&s.go(-1,!1)),Te(Be,S,E)}).catch(Mo)}))}let _t=Ao(),it=Ao(),Ve;function Je(te,Oe,Q){Bt(te);const Be=it.list();return Be.length?Be.forEach(ft=>ft(te,Oe,Q)):console.error(te),Promise.reject(te)}function Ut(){return Ve&&d.value!==dr?Promise.resolve():new Promise((te,Oe)=>{_t.add([te,Oe])})}function Bt(te){return Ve||(Ve=!te,nt(),_t.list().forEach(([Oe,Q])=>te?Q(te):Oe()),_t.reset()),te}function xt(te,Oe,Q,Be){const{scrollBehavior:ft}=e;if(!eo||!ft)return Promise.resolve();const S=!Q&&fm(il(te.fullPath,0))||(Be||!Q)&&history.state&&history.state.scroll||null;return ns().then(()=>ft(te,Oe,S)).then(E=>E&&lm(E)).catch(E=>Je(E,te,Oe))}const Lt=te=>s.go(te);let en;const Cn=new Set,xn={currentRoute:d,listening:!0,addRoute:C,removeRoute:H,clearRoutes:t.clearRoutes,hasRoute:Ee,getRoutes:re,resolve:z,options:e,push:ae,replace:U,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:a.add,beforeResolve:c.add,afterEach:l.add,onError:it.add,isReady:Ut,install(te){const Oe=this;te.component("RouterLink",$m),te.component("RouterView",Lm),te.config.globalProperties.$router=Oe,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>Ze(d)}),eo&&!en&&d.value===dr&&(en=!0,ae(s.location).catch(ft=>{}));const Q={};for(const ft in dr)Object.defineProperty(Q,ft,{get:()=>d.value[ft],enumerable:!0});te.provide(Ka,Oe),te.provide(Ua,Wl(Q)),te.provide(ga,d);const Be=te.unmount;Cn.add(te),te.unmount=function(){Cn.delete(te),Cn.size<1&&(y=dr,Ne&&Ne(),Ne=null,d.value=dr,en=!1,Ve=!1),Be()}}};function kt(te){return te.reduce((Oe,Q)=>Oe.then(()=>X(Q)),Promise.resolve())}return xn}function Km(e,t){const n=[],o=[],s=[],a=Math.max(t.matched.length,e.matched.length);for(let c=0;c<a;c++){const l=t.matched[c];l&&(e.matched.find(y=>ao(y,l))?o.push(l):n.push(l));const d=e.matched[c];d&&(t.matched.find(y=>ao(y,d))||s.push(d))}return[n,o,s]}function Um(e){return Tn(Ua)}const cf="/Projet-Memory/assets/peuchere-BVtDvQmP.png",qm={class:"left"},Vm={class:"right"},Hm={class:"user-data"},Wm={key:0,class:"username"},zm={key:1,class:"username"},Ym={class:"user-pfp"},Gm=["src"],Qm={key:1,src:cf,alt:"Photo de profil par dfaut"},Jm=dt({__name:"Navbar",setup(e){const t=ai(),n=si(),o=Qe(()=>t.settings),s=Qe(()=>o.value?n.getFileURLById(o.value.profilePicture):"");return(a,c)=>{const l=ni("router-link");return Y(),ce("header",null,[N("nav",null,[N("div",qm,[Pe(l,{to:"/"},{default:Le(()=>c[0]||(c[0]=[Kt("Tony Memory")])),_:1})]),N("div",Vm,[N("div",Hm,[o.value&&o.value.displayName?(Y(),ce("span",Wm,Fe(o.value.displayName),1)):(Y(),ce("span",zm,"Utilisateur anonyme")),N("div",Ym,[s.value?(Y(),ce("img",{key:0,src:s.value,alt:"Photo de profil"},null,8,Gm)):(Y(),ce("img",Qm))])])])])])}}}),gt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},Xm=gt(Jm,[["__scopeId","data-v-986a8464"]]),Zm={key:0,class:"nav-element title"},ev={class:"left"},tv={class:"item-title"},nv={key:0,class:"item-details"},rv={class:"right"},ov=dt({__name:"DrawerItem",props:{title:{},subtitle:{},icon:{},details:{},link:{},isTitle:{type:Boolean}},setup(e){return(t,n)=>t.isTitle?(Y(),ce("div",Zm,Fe(t.title),1)):(Y(),yt(jd(t.link?"router-link":"div"),$c({key:1,class:"nav-element item"},t.link?{to:t.link}:{}),{default:Le(()=>[N("div",ev,[t.icon?(Y(),ce("i",{key:0,class:wn(t.icon)},null,2)):ct("",!0),N("div",null,[N("span",tv,Fe(t.title),1),t.subtitle?(Y(),ce("div",nv,Fe(t.subtitle),1)):ct("",!0)])]),N("div",rv,Fe(t.details),1)]),_:1},16))}}),Ki=gt(ov,[["__scopeId","data-v-8bec870e"]]),iv={class:"nav-category"},sv={key:1,class:"item-ctn"},av={key:2,class:"no-item"},uv=dt({__name:"DrawerCategory",props:{title:{},empty_message:{}},setup(e){return(t,n)=>(Y(),ce("div",iv,[t.title?(Y(),yt(Ki,{key:0,title:t.title,"is-title":!0},null,8,["title"])):ct("",!0),t.$slots.default?(Y(),ce("div",sv,[Ft(t.$slots,"default",{},void 0,!0)])):t.empty_message?(Y(),ce("div",av,Fe(t.empty_message)+" hiyo ",1)):ct("",!0)]))}}),bl=gt(uv,[["__scopeId","data-v-7c21b387"]]),lv={key:1},cv=dt({__name:"Button",props:{type:{},size:{},variant:{},color:{},icon:{},label:{}},setup(e){return(t,n)=>(Y(),ce("button",{class:wn([t.type,t.size,t.variant,t.color,{square:!t.label}])},[t.icon?(Y(),ce("i",{key:0,class:wn(t.icon)},null,2)):ct("",!0),t.label?(Y(),ce("label",lv,Fe(t.label),1)):ct("",!0),Ft(t.$slots,"default",{},void 0,!0)],2))}}),It=gt(cv,[["__scopeId","data-v-45c0201f"]]),fv={key:0,class:"modal-container"},dv={class:"modal"},hv={class:"modal-top-bar"},pv={class:"left"},mv={key:0,class:"title"},vv={key:1,class:"description"},yv={class:"right"},gv={class:"modal-header"},_v={class:"modal-body"},bv={class:"modal-footer"},wv=dt({__name:"Modal",props:{title:{},description:{},hideCloseBtn:{type:Boolean}},setup(e,{expose:t}){let n=et(!1);const o=()=>n.value=!0,s=()=>{n.value=!1};return t({openModal:o,closeModal:s}),(a,c)=>(Y(),yt(jc,{name:"modal"},{default:Le(()=>[Ze(n)?(Y(),ce("div",fv,[N("div",{class:"modal-background",onClick:s}),N("div",dv,[N("div",hv,[N("div",pv,[a.title?(Y(),ce("h3",mv,Fe(a.title),1)):ct("",!0),a.description?(Y(),ce("div",vv,Fe(a.description),1)):ct("",!0)]),N("div",yv,[a.hideCloseBtn?ct("",!0):(Y(),yt(It,{key:0,onClick:s,icon:"fa-solid fa-xmark",type:"fab-btn",variant:"filled",color:"secondary"}))])]),N("div",gv,[Ft(a.$slots,"header",{},void 0,!0)]),N("div",_v,[Ft(a.$slots,"body",{closeModal:s},void 0,!0)]),N("div",bv,[Ft(a.$slots,"footer",{},void 0,!0)])])])):ct("",!0)]),_:3}))}}),ui=gt(wv,[["__scopeId","data-v-2b9ae39f"]]);function Sv(){return{jsonImport:async n=>{var a;const s=(a=n.target.files)==null?void 0:a[0];if(s)try{const c=await s.text(),l=JSON.parse(c);return await Ge.transaction("rw",Ge.categories,Ge.themes,Ge.cards,async()=>{l.categories&&await Ge.categories.bulkPut(l.categories),l.themes&&await Ge.themes.bulkPut(l.themes),l.cards&&await Ge.cards.bulkPut(l.cards)}),!0}catch(c){return console.error(c),!1}},exportDataToJson:async()=>{const n=await Ge.categories.toArray(),o=await Ge.themes.toArray(),s=await Ge.cards.toArray(),a=JSON.stringify({categories:n,themes:o,cards:s},null,2),c=new Blob([a],{type:"application/json"}),l=URL.createObjectURL(c),d=document.createElement("a");d.href=l,d.download="data.json",d.click(),URL.revokeObjectURL(l)}}}const Cv={class:"nav-drawer"},xv={class:"form-content"},Ev={class:"form-group"},Iv={for:"new-pfp",class:"pfp-preview"},Tv=["src"],Av=["src"],Pv={key:2,src:cf,alt:"Photo de profil par dfaut"},Rv={class:"form-group"},kv={class:"form-group"},Ov={class:"form-group inline"},Dv={class:"switch"},Nv={class:"form-group inline"},$v={class:"form-actions"},Bv=dt({__name:"NavDrawer",setup(e){const{notifyUser:t}=Qc(),{jsonImport:n}=Sv(),o=et([{title:"Accueil",icon:"fa-solid fa-house",link:"/"},{title:"Rviser",icon:"fa-solid fa-book",subtitle:"24 cartes aujourd'hui",link:"/practice"},{title:"Mes catgories",icon:"fa-solid fa-box-archive",link:"/categories"},{title:"Mes thmes",icon:"fa-solid fa-layer-group",link:"/themes"}]),s=Sn(),a=Qe(()=>s.themes.slice(0,5)),c=si(),l=Qe(()=>m.value?c.getFileURLById(m.value.profilePicture):""),d=et(null),y=()=>{var W;m.value&&(_.value={...m.value},(W=d.value)==null||W.openModal())},p=ai(),m=Qe(()=>p.settings),_=et({id:"1",displayName:"",useDailyNotification:!1,profilePicture:""}),C=async()=>{var W;Ee.value&&(_.value.profilePicture=Ee.value),await p.updateSettings(_.value,H.value),(W=d.value)==null||W.closeModal()},H=et(),re=W=>{var ae;let Z=(ae=W.target.files)==null?void 0:ae[0];Z&&(H.value=Z)},Ee=Qe(()=>H.value?URL.createObjectURL(H.value):null),z=async W=>{await n(W)&&(await p.setLastNotificationDate(""),window.location.reload())};return(W,Z)=>{const ae=ni("router-link");return Y(),ce(tt,null,[N("div",Cv,[Pe(bl,null,{default:Le(()=>[(Y(!0),ce(tt,null,an(o.value,U=>(Y(),yt(Ki,{title:U.title,icon:U.icon,link:U.link},null,8,["title","icon","link"]))),256)),Pe(Ki,{onClick:y,title:"Paramtres",icon:"fa-solid fa-gear"})]),_:1}),Pe(bl,{title:"Thmes",empty_message:"Aucun thme"},{default:Le(()=>[a.value?(Y(),ce(tt,{key:0},[(Y(!0),ce(tt,null,an(a.value,U=>(Y(),yt(Ki,{title:U.name,link:`/themes/${U.id}`},{default:Le(()=>Z[2]||(Z[2]=[Kt(" >")])),_:2},1032,["title","link"]))),256)),Pe(ae,{to:"/themes/",class:"see-more"},{default:Le(()=>Z[3]||(Z[3]=[Kt("Voir tout")])),_:1})],64)):ct("",!0)]),_:1})]),Pe(ui,{title:"Paramtres",ref_key:"parametersModalRef",ref:d},{body:Le(()=>{var U,be;return[N("div",xv,[N("div",Ev,[Z[4]||(Z[4]=N("label",{for:""},"Photo de profil",-1)),N("input",{id:"new-pfp",type:"file",accept:"image/*",onChange:re},null,32),N("label",Iv,[Ee.value?(Y(),ce("img",{key:0,src:Ee.value,alt:"Photo de profil"},null,8,Tv)):(U=m.value)!=null&&U.profilePicture?(Y(),ce("img",{key:1,src:l.value,alt:"Photo de profil"},null,8,Av)):(Y(),ce("img",Pv))])]),N("div",Rv,[Z[5]||(Z[5]=N("label",{for:""},"Nom d'utilisateur",-1)),En(N("input",{type:"text",min:"2",max:"20",placeholder:"Utilisateur Anonyme","onUpdate:modelValue":Z[0]||(Z[0]=le=>_.value.displayName=le)},null,512),[[wr,_.value.displayName]])]),N("div",kv,[Z[6]||(Z[6]=N("label",{for:"import-data"},"Importer des donnes",-1)),N("input",{id:"import-data",type:"file",accept:".json",onChange:z},null,32)]),N("div",Ov,[N("label",Dv,[En(N("input",{type:"checkbox","onUpdate:modelValue":Z[1]||(Z[1]=le=>_.value.useDailyNotification=le)},null,512),[[np,_.value.useDailyNotification]]),Z[7]||(Z[7]=N("span",{class:"slider"},null,-1))]),Z[8]||(Z[8]=N("label",{for:"daily-notifications"},"Activer les notifications journalires",-1))]),N("div",Nv,[Pe(It,{onClick:Ze(t),type:"icon-btn",icon:"fa-solid fa-envelope",size:"small",variant:"outlined",color:"secondary"},null,8,["onClick"]),Z[9]||(Z[9]=N("label",null,"Tester les notifications",-1))]),N("div",$v,[Pe(It,{onClick:(be=d.value)==null?void 0:be.closeModal,label:"Annuler",variant:"outlined"},null,8,["onClick"]),Pe(It,{onClick:C,label:"Sauvegarder",variant:"filled",color:"secondary"})])])]}),_:1},512)],64)}}}),Mv=gt(Bv,[["__scopeId","data-v-16f22f96"]]),Fv={};function Lv(e,t){return Y(),ce("footer",null,t[0]||(t[0]=[N("div",{class:"copyright"}," 2025 - Tony De Donato & Marianne Corbel",-1),N("span",{class:"separation"},"|",-1),N("a",{href:"https://github.com/mzribel/Projet-Memory",target:"_blank"},[N("i",{class:"fa-brands fa-github"})],-1)]))}const ff=gt(Fv,[["render",Lv],["__scopeId","data-v-6ffcc69e"]]),jv={class:"content-ctn"},Kv={id:"content"},Uv=dt({__name:"LayoutDefault",setup(e){return Sn(),_n(),Er(),(t,n)=>(Y(),ce(tt,null,[Pe(Xm),N("main",null,[Pe(Mv),N("div",jv,[N("div",Kv,[Ft(t.$slots,"default",{},void 0,!0)])])]),Pe(ff)],64))}}),li=gt(Uv,[["__scopeId","data-v-2375d0c4"]]),qv=dt({__name:"HomeView",setup(e){const{getCardCountToPracticeToday:t}=ii();Qe(()=>t());const n=si(),o=ai();return Qe(()=>o.settings),Qe(()=>n.files),(s,a)=>(Y(),yt(li))}}),Vv=dt({__name:"Block",props:{type:{}},setup(e){return(t,n)=>(Y(),ce("div",{class:wn(["block",t.type])},[Ft(t.$slots,"default",{},void 0,!0)],2))}}),qa=gt(Vv,[["__scopeId","data-v-0e255809"]]),Hv={class:"header"},Wv={class:"left"},zv={class:"title"},Yv={class:"tags"},Gv={class:"tag"},Qv={class:"tag"},Jv={key:0,class:"description"},Xv=dt({__name:"CategoryItem",props:{category:{}},emits:["edit","delete"],setup(e,{emit:t}){const n=e,o=_n(),s=Sn(),a=Qe(()=>s.themes.filter(l=>l.categoryId===n.category.id).length??0),c=Qe(()=>{const l=s.themes.filter(d=>d.categoryId===n.category.id).map(d=>d.id);return o.cards.filter(d=>l.includes(d.themeId)).length});return(l,d)=>(Y(),yt(qa,{type:"small",class:"theme-item"},{default:Le(()=>[N("div",Hv,[N("div",Wv,[d[3]||(d[3]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-layer-group"})],-1)),N("div",zv,[N("h3",null,Fe(l.category.name),1)])]),N("div",{class:"right",onClick:d[2]||(d[2]=An(()=>{},["prevent"]))},[Pe(It,{onClick:d[0]||(d[0]=An(y=>l.$emit("edit",l.category),["prevent"])),type:"fab-btn",icon:"fa-solid fa-pen",color:"secondary",variant:"filled"}),Pe(It,{onClick:d[1]||(d[1]=An(y=>l.$emit("delete",l.category),["prevent"])),type:"fab-btn",icon:"fa-solid fa-trash-can",color:"secondary",variant:"filled"})])]),N("div",Yv,[N("div",Gv,[d[4]||(d[4]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-archives"})],-1)),Kt(" "+Fe(a.value)+" thme"+Fe(a.value>1?"s":""),1)]),N("div",Qv,[d[5]||(d[5]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-layer-group"})],-1)),Kt(" "+Fe(c.value)+" carte"+Fe(c.value>1?"s":""),1)])]),l.category.description?(Y(),ce("div",Jv,[d[6]||(d[6]=N("h4",null,"Description :",-1)),N("p",null,Fe(l.category.description),1)])):ct("",!0)]),_:1}))}}),Zv=gt(Xv,[["__scopeId","data-v-c3ec2150"]]),ey={class:"form-container"},ty={class:"form-group"},ny={class:"form-group"},ry={class:"form-actions"},oy={class:"form-actions"},iy=dt({__name:"CategoryForm",props:{category:{}},emits:["save","close"],setup(e,{emit:t}){const n=e,o=t,s=et({id:"",name:"",description:""});Wn(()=>n.category,c=>{c?s.value={...c}:s.value={id:"",name:"",description:""}},{immediate:!0});const a=()=>{o("save",s.value)};return(c,l)=>(Y(),ce("div",ey,[N("form",{onSubmit:An(a,["prevent"]),class:"form-content"},[N("div",ty,[l[3]||(l[3]=N("label",{for:"name"},"Nom",-1)),En(N("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>s.value.name=d),type:"text",id:"name",required:""},null,512),[[wr,s.value.name]])]),N("div",ny,[l[4]||(l[4]=N("label",{for:"description"},"Description",-1)),En(N("textarea",{"onUpdate:modelValue":l[1]||(l[1]=d=>s.value.description=d),id:"description",rows:"3"},null,512),[[wr,s.value.description]])]),N("div",ry,[N("div",oy,[Pe(It,{onClick:l[2]||(l[2]=d=>c.$emit("close")),label:"Annuler",variant:"outlined"}),Pe(It,{onClick:a,label:"Sauvegarder",variant:"filled",color:"secondary"})])])],32)]))}}),sy=gt(iy,[["__scopeId","data-v-8485c05d"]]),ay={class:"container"},uy={key:0,class:"flex column gap-8"},ly={key:1,class:"no-content"},cy=dt({__name:"CategoryList",setup(e){const t=Er(),n=et(null),o=et(null),s=()=>{var p;o.value=null,(p=n.value)==null||p.openModal()},a=p=>{var m;o.value=p,(m=n.value)==null||m.openModal()},c=async p=>{await t.addCategory(p),l()},l=()=>{var p;(p=n.value)==null||p.closeModal(),o.value=null};Qe(()=>t.isLoaded);const d=p=>{t.deleteCategoryById(p)},y=Qe(()=>t.categories);return(p,m)=>(Y(),ce("div",ay,[Pe(It,{onClick:m[0]||(m[0]=_=>s()),icon:"fa-solid fa-plus",label:"Ajouter une catgorie",variant:"tonal",size:"large"}),y.value.length?(Y(),ce("div",uy,[(Y(!0),ce(tt,null,an(y.value,_=>(Y(),yt(Zv,{key:_.id,category:_,onEdit:a,onDelete:C=>d(_.id)},null,8,["category","onDelete"]))),128))])):(Y(),ce("div",ly,m[1]||(m[1]=[N("p",null,"Aucune catgorie disponible. Crez-en une !",-1)]))),Pe(ui,{ref_key:"modalRef",ref:n,title:o.value?"Modifier la catgorie":"Crer une nouvelle catgorie"},{body:Le(()=>[Pe(sy,{category:o.value,onSave:c,onClose:l},null,8,["category"])]),_:1},8,["title"])]))}}),fy=gt(cy,[["__scopeId","data-v-8762e1b7"]]),dy={class:"header"},hy={class:"left"},py={class:"title"},my={key:0,class:"category"},vy={class:"tags"},yy={class:"tag"},gy={key:0,class:"description"},_y={key:0},by=dt({__name:"ThemeItem",props:{theme:{}},setup(e){const t=e;Sn();const n=Er(),o=_n(),s=Qe(()=>o.cards.filter(c=>c.themeId==t.theme.id).length),a=Qe(()=>{var c;return((c=n.categories.find(l=>l.id==t.theme.categoryId))==null?void 0:c.name)??""});return(c,l)=>{const d=ni("router-link");return Y(),yt(d,{to:`/themes/${c.theme.id}`},{default:Le(()=>[Pe(qa,{type:"small",class:"theme-item"},{default:Le(()=>[N("div",dy,[N("div",hy,[l[3]||(l[3]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-layer-group"})],-1)),N("div",py,[N("h3",null,Fe(c.theme.name),1),a.value?(Y(),ce("p",my,Fe(a.value),1)):ct("",!0)])]),N("div",{class:"right",onClick:l[2]||(l[2]=An(()=>{},["prevent"]))},[Pe(It,{onClick:l[0]||(l[0]=An(y=>c.$emit("edit",c.theme),["prevent"])),type:"fab-btn",icon:"fa-solid fa-pen",color:"secondary",variant:"filled"}),Pe(It,{onClick:l[1]||(l[1]=An(y=>c.$emit("delete",c.theme),["prevent"])),type:"fab-btn",icon:"fa-solid fa-trash-can",color:"secondary",variant:"filled"})])]),N("div",vy,[N("div",yy,[l[4]||(l[4]=N("div",{class:"icon"},[N("i",{class:"fa-solid fa-list-check"})],-1)),Kt(" "+Fe(s.value)+" cartes ",1)])]),c.theme.description?(Y(),ce("div",gy,[l[5]||(l[5]=N("h4",null,"Description :",-1)),c.theme.description?(Y(),ce("p",_y,Fe(c.theme.description),1)):ct("",!0)])):ct("",!0)]),_:1})]),_:1},8,["to"])}}}),wy=gt(by,[["__scopeId","data-v-48fe6adf"]]),Sy={class:"form-container"},Cy={class:"form-group"},xy={class:"form-group"},Ey={class:"form-group"},Iy=["value"],Ty={class:"form-group"},Ay=["value"],Py={class:"details"},Ry={class:"form-group"},ky={class:"form-group"},Oy={class:"form-actions"},Dy=dt({__name:"ThemeForm",props:{theme:{}},emits:["save","close","resetProgression"],setup(e,{emit:t}){const{generateReviewInterval:n}=ii(),o=e,s=t,a=et({id:"",categoryId:"",name:"",description:"",isThemeSelected:!1,maxLevel:5,createdAt:"",lastActivityAt:""});Wn(()=>o.theme,d=>{d?a.value={...d}:a.value={id:"",categoryId:"",name:"",description:"",isThemeSelected:!1,maxLevel:5,createdAt:"",newCardsPerDay:void 0,lastActivityAt:""}},{immediate:!0});const c=Er(),l=()=>{s("save",a.value)};return(d,y)=>(Y(),ce("div",Sy,[N("form",{onSubmit:An(l,["prevent"]),class:"form-content"},[N("div",Cy,[y[7]||(y[7]=N("label",{for:"name"},"Nom",-1)),En(N("input",{id:"name","onUpdate:modelValue":y[0]||(y[0]=p=>a.value.name=p),required:"",type:"text"},null,512),[[wr,a.value.name]])]),N("div",xy,[y[8]||(y[8]=N("label",{for:"description"},"Description",-1)),En(N("textarea",{id:"description","onUpdate:modelValue":y[1]||(y[1]=p=>a.value.description=p),rows:"3"},null,512),[[wr,a.value.description]])]),N("div",Ey,[y[10]||(y[10]=N("label",{for:"category"},"Catgorie",-1)),En(N("select",{id:"category","onUpdate:modelValue":y[2]||(y[2]=p=>a.value.categoryId=p)},[y[9]||(y[9]=N("option",{value:""},"Choisir une catgorie",-1)),(Y(!0),ce(tt,null,an(Ze(c).categories,p=>(Y(),ce("option",{key:p.id,value:p.id},Fe(p.name),9,Iy))),128))],512),[[Hu,a.value.categoryId]])]),N("div",Ty,[y[11]||(y[11]=N("label",{for:"levelToReview"},"Niveaux de rvision",-1)),En(N("select",{id:"levelToReview","onUpdate:modelValue":y[3]||(y[3]=p=>a.value.maxLevel=p)},[(Y(),ce(tt,null,an(8,p=>N("option",{key:p,value:p},Fe(p),9,Ay)),64))],512),[[Hu,a.value.maxLevel]]),N("p",Py,"Intervalles des niveaux : "+Fe(Ze(n)(a.value.maxLevel).join(" - "))+" jours ",1)]),N("div",Ry,[y[12]||(y[12]=N("label",{for:"newCardsPerDay"},"Nouvelles cartes par jour :",-1)),En(N("input",{id:"newCardsPerDay",type:"number",min:"0","onUpdate:modelValue":y[4]||(y[4]=p=>a.value.newCardsPerDay=p)},null,512),[[wr,a.value.newCardsPerDay]])]),N("div",ky,[y[13]||(y[13]=N("label",{for:""},"Rinitialiser la progression",-1)),Pe(It,{onClick:y[5]||(y[5]=p=>s("resetProgression")),icon:"fa-solid fa-arrow-rotate-left",label:"Rinitialiser",variant:"tonal"})]),N("div",Oy,[Pe(It,{onClick:y[6]||(y[6]=p=>d.$emit("close")),label:"Annuler",variant:"outlined"}),Pe(It,{onClick:l,label:"Sauvegarder",variant:"filled",color:"secondary"})])],32)]))}}),df=gt(Dy,[["__scopeId","data-v-154a4979"]]),Ny={class:"container"},$y={key:0},By={key:1,class:"flex column gap-8"},My={key:2,class:"no-content"},Fy=dt({__name:"ThemeList",setup(e){_n();const t=Sn(),n=et(null),o=et(null),s=()=>{var p;o.value=null,(p=n.value)==null||p.openModal()},a=p=>{var m;o.value=p,(m=n.value)==null||m.openModal()},c=async p=>{var m;await t.addThemeOrUpdateIt(p),(m=n.value)==null||m.closeModal()},l=Qe(()=>t.isLoaded),d=p=>{t.deleteThemeById(p)},y=Qe(()=>t.themes);return(p,m)=>(Y(),ce("div",Ny,[Pe(It,{onClick:m[0]||(m[0]=_=>s()),icon:"fa-solid fa-plus",label:"Ajouter un thme",variant:"tonal",size:"large"}),l.value?y.value.length?(Y(),ce("div",By,[(Y(!0),ce(tt,null,an(y.value,_=>(Y(),yt(wy,{key:_.id,theme:_,onEdit:a,onDelete:C=>d(_.id)},null,8,["theme","onDelete"]))),128))])):(Y(),ce("div",My,m[1]||(m[1]=[N("p",null,"Aucun thme disponible. Crez-en un !",-1)]))):(Y(),ce("div",$y,"Chargement... "+Fe(l.value),1)),Pe(ui,{ref_key:"modalRef",ref:n,title:o.value?"Modifier le thme":"Crer un nouveau thme"},{body:Le(()=>{var _;return[Pe(df,{theme:o.value,onSave:c,onClose:(_=n.value)==null?void 0:_.closeModal},null,8,["theme","onClose"])]}),_:1},8,["title"])]))}}),Ly=gt(Fy,[["__scopeId","data-v-27e9f5b5"]]),jy=dt({__name:"Note",props:{showBar:{type:Boolean}},setup(e){return(t,n)=>(Y(),ce("div",{class:wn(["note",t.showBar?"show-bar":""])},[Ft(t.$slots,"default",{},void 0,!0)],2))}}),Qo=gt(jy,[["__scopeId","data-v-2c410bf4"]]),Ky={},Uy={class:"section-title"},qy={class:"left"},Vy={class:"right"};function Hy(e,t){return Y(),ce("div",Uy,[N("div",qy,[Ft(e.$slots,"left",{},void 0,!0)]),N("div",Vy,[Ft(e.$slots,"right",{},void 0,!0)])])}const Wy=gt(Ky,[["render",Hy],["__scopeId","data-v-7f86783a"]]),zy={class:"section-ctn"},Yy=dt({__name:"Section",setup(e){return(t,n)=>(Y(),ce("section",null,[Pe(Wy,null,{left:Le(()=>[Ft(t.$slots,"title-left",{},void 0,!0)]),right:Le(()=>[Ft(t.$slots,"title-right",{},void 0,!0)]),_:3}),N("div",zy,[Ft(t.$slots,"content",{},void 0,!0)])]))}}),io=gt(Yy,[["__scopeId","data-v-a6b542cb"]]),Gy={class:"left"},Qy={class:"right"},Jy=dt({__name:"PageTitle",props:{alignCenter:{type:Boolean}},setup(e){return(t,n)=>(Y(),ce("div",{class:wn(["page-title",t.alignCenter?"align-center":""])},[N("div",Gy,[Ft(t.$slots,"left",{},void 0,!0)]),N("div",Qy,[Ft(t.$slots,"right",{},void 0,!0)])],2))}}),Xy=gt(Jy,[["__scopeId","data-v-a45d98cb"]]),Zy={class:"page-subtitle"},eg={key:0,class:"icon"},tg=dt({__name:"PageSubtitle",props:{icon:{},emptyIcon:{type:Boolean}},setup(e){return(t,n)=>(Y(),ce("div",Zy,[t.icon||t.emptyIcon?(Y(),ce("div",eg,[t.icon?(Y(),ce("i",{key:0,class:wn(t.icon)},null,2)):ct("",!0)])):ct("",!0),N("div",null,[Ft(t.$slots,"default",{},void 0,!0)])]))}}),ea=gt(tg,[["__scopeId","data-v-f47374e6"]]),ng={class:"page-subtitle-ctn"},rg=dt({__name:"TitleBlock",props:{alignCenterTitle:{type:Boolean}},setup(e){return(t,n)=>(Y(),yt(qa,{type:"title"},{default:Le(()=>[Pe(Xy,{"align-center":t.alignCenterTitle},{left:Le(()=>[Ft(t.$slots,"title-left",{},void 0,!0)]),right:Le(()=>[Ft(t.$slots,"title-right",{},void 0,!0)]),_:3},8,["align-center"]),N("div",ng,[Ft(t.$slots,"subtitle",{},void 0,!0)])]),_:3}))}}),Jo=gt(rg,[["__scopeId","data-v-19cda045"]]),og={class:"theme-list-container"},ig=dt({__name:"CategoriesView",setup(e){const t=Er(),n=Qe(()=>t.categories);return(o,s)=>(Y(),yt(li,null,{default:Le(()=>[n.value?(Y(),ce(tt,{key:0},[Pe(Jo,null,{"title-left":Le(()=>s[0]||(s[0]=[N("h1",null,"Mes catgories",-1)])),_:1}),Pe(io,null,{"title-left":Le(()=>s[1]||(s[1]=[N("h2",null,"Toutes les catgories",-1)])),content:Le(()=>[N("div",og,[Pe(Qo,null,{default:Le(()=>[s[2]||(s[2]=N("b",null,"Total de catgories : ",-1)),Kt(Fe(n.value.length),1)]),_:1}),Pe(fy,{categories:n.value},null,8,["categories"])])]),_:1})],64)):ct("",!0)]),_:1}))}}),sg=gt(ig,[["__scopeId","data-v-85fdb882"]]);function _a(){const e=_n(),t=et(null),n=et(null),o=et(null),s=et(null),a=(d,y)=>{const p=d.target;if(p.files&&p.files[0]){const m=p.files[0];y?o.value=m:s.value=m}},c=async d=>{if(d){const y=await e.getFileById(d);y&&(t.value=y,n.value=URL.createObjectURL(y))}},l=Qe(()=>{var d;return((d=t.value)==null?void 0:d.type)||""});return{file:t,fileUrl:n,fileType:l,newFrontFile:o,newBackFile:s,loadFile:c,handleFileUpload:a}}const ag={class:"header"},ug={class:"left"},lg={class:"face-type"},cg={class:"right",style:{display:"flex",gap:"8px"}},fg={class:"body vertical"},dg={class:"text"},hg={class:"multimedia"},pg=["src"],mg=["src"],vg=["src"],yg=["src"],gg=["src"],_g=["src"],bg={class:"footer"},wg={class:"left"},Sg={class:"level"},Cg={key:0,class:"right"},xg={key:0},Eg={key:1},Ig=dt({__name:"CardFace",props:{showOptions:{type:Boolean},isQuestion:{type:Boolean},card:{}},emits:["editCard","deleteCard"],setup(e,{emit:t}){const n=e,o=t,s=()=>{o("editCard")},a=()=>{o("deleteCard")},{fileUrl:c,fileType:l,loadFile:d}=_a(),{fileUrl:y,fileType:p,loadFile:m}=_a(),_=async()=>{n.isQuestion?await d(n.card.multimediaFront):await m(n.card.multimediaBack)};return Wn(()=>[n.card,n.isQuestion],()=>{_()},{immediate:!0}),co(()=>{_()}),(C,H)=>(Y(),ce("div",{class:wn([C.isQuestion?"question":"answer","card-face"])},[N("div",ag,[N("div",ug,[N("span",lg,Fe(C.isQuestion?"Q":"A"),1)]),N("div",cg,[C.showOptions?(Y(),yt(It,{key:0,color:"secondary",icon:"fa-solid fa-pen",type:"icon-btn",variant:"outlined",onClick:An(s,["stop","prevent"])})):ct("",!0),C.showOptions?(Y(),yt(It,{key:1,color:"secondary",icon:"fa-solid fa-trash",type:"icon-btn",variant:"outlined",onClick:An(a,["stop","prevent"])})):ct("",!0)])]),N("div",fg,[N("div",dg,Fe(C.isQuestion?C.card.front:C.card.back),1),N("div",hg,[Ze(c)&&C.isQuestion?(Y(),ce(tt,{key:0},[C.isQuestion&&Ze(l).startsWith("image")?(Y(),ce("img",{key:0,src:Ze(c),alt:"Recto image",class:"multimedia-img"},null,8,pg)):C.isQuestion&&Ze(l).startsWith("video")?(Y(),ce("video",{key:1,src:Ze(c),controls:"",class:"multimedia-video"},null,8,mg)):C.isQuestion&&Ze(l).startsWith("audio")?(Y(),ce("audio",{key:2,src:Ze(c),controls:"",class:"multimedia-audio"},null,8,vg)):ct("",!0)],64)):Ze(y)&&!C.isQuestion?(Y(),ce(tt,{key:1},[!C.isQuestion&&Ze(p).startsWith("image")?(Y(),ce("img",{key:0,src:Ze(y),alt:"Verso image",class:"multimedia-img"},null,8,yg)):!C.isQuestion&&Ze(p).startsWith("video")?(Y(),ce("video",{key:1,src:Ze(y),controls:"",class:"multimedia-video"},null,8,gg)):!C.isQuestion&&Ze(p).startsWith("audio")?(Y(),ce("audio",{key:2,src:Ze(y),controls:"",class:"multimedia-audio"},null,8,_g)):ct("",!0)],64)):ct("",!0)])]),N("div",bg,[N("div",wg,[N("div",Sg,"Niveau "+Fe(C.card.currentLevel),1)]),C.showOptions?(Y(),ce("div",Cg,[C.card.lastReviewedAt?(Y(),ce("span",xg,"Dernire rvision : "+Fe(C.card.lastReviewedAt.slice(0,10)),1)):ct("",!0),C.card.nextReviewAt?(Y(),ce("span",Eg,"Prochaine rvision : "+Fe(C.card.nextReviewAt.slice(0,10)),1)):ct("",!0)])):ct("",!0)])],2))}}),wl=gt(Ig,[["__scopeId","data-v-825d2207"]]),Tg={class:"flip-card-inner"},Ag={class:"flip-card-front"},Pg={class:"flip-card-back"},Rg=dt({__name:"Card",props:{cardData:{},showOptions:{type:Boolean}},emits:["editCard","deleteCard"],setup(e,{emit:t}){const n=et(!1),o=()=>{n.value=!n.value};et(null);const s=t,a=()=>{s("editCard")},c=()=>{s("deleteCard")};return(l,d)=>(Y(),ce("div",{class:wn([n.value?"flipped":"","flip-card"]),onClick:o},[N("div",Tg,[N("div",Ag,[Pe(wl,{card:l.cardData,onEditCard:a,onDeleteCard:c,"is-question":!0,"show-options":l.showOptions},null,8,["card","show-options"])]),N("div",Pg,[Pe(wl,{card:l.cardData,"is-question":!1,onDeleteCard:c,"show-options":l.showOptions},null,8,["card","show-options"])])])],2))}}),hf=gt(Rg,[["__scopeId","data-v-7895079a"]]),kg={class:"theme-list-container"},Og=dt({__name:"ThemesView",setup(e){const t=Sn(),n=Qe(()=>t.themes);return(o,s)=>(Y(),yt(li,null,{default:Le(()=>[n.value?(Y(),ce(tt,{key:0},[Pe(Jo,null,{"title-left":Le(()=>s[0]||(s[0]=[N("h1",null,"Mes thmes",-1)])),_:1}),Pe(io,null,{"title-left":Le(()=>s[1]||(s[1]=[N("h2",null,"Tous les thmes",-1)])),content:Le(()=>[N("div",kg,[Pe(Qo,null,{default:Le(()=>[s[2]||(s[2]=N("b",null,"Total de thmes : ",-1)),Kt(Fe(n.value.length),1)]),_:1}),Pe(Ly,{themes:n.value},null,8,["themes"])])]),_:1})],64)):ct("",!0)]),_:1}))}}),Dg=gt(Og,[["__scopeId","data-v-d4b427fb"]]),Ng={class:"form-container"},$g={class:"form-group"},Bg={class:"form-group"},Mg={key:0},Fg={class:"form-group"},Lg={class:"form-group"},jg={key:0},Kg={class:"form-actions"},Ug=dt({__name:"CardForm",props:{card:{}},emits:["save","close"],setup(e,{emit:t}){const n=e,o=t,s=et({id:"",themeId:"",front:"",back:"",multimediaFront:"",multimediaBack:"",currentLevel:0});Wn(()=>n.card,y=>{s.value=y?{...y}:{id:"",themeId:"",front:"",back:"",multimediaFront:"",multimediaBack:"",currentLevel:0}},{immediate:!0});const{newFrontFile:a,newBackFile:c,handleFileUpload:l}=_a(),d=()=>o("save",s.value,a.value,c.value);return(y,p)=>(Y(),ce("div",Ng,[N("form",{onSubmit:An(d,["prevent"]),class:"form-content"},[N("div",$g,[p[5]||(p[5]=N("label",{for:"front"},"Recto",-1)),En(N("textarea",{id:"front","onUpdate:modelValue":p[0]||(p[0]=m=>s.value.front=m),required:"",rows:"3"},null,512),[[wr,s.value.front]])]),N("div",Bg,[p[6]||(p[6]=N("label",{for:"multimediaFront"},"Mdia ct recto",-1)),N("input",{id:"multimediaFront",accept:"image/*,video/*,audio/*",type:"file",onChange:p[1]||(p[1]=m=>Ze(l)(m,!0))},null,32),s.value.multimediaFront?(Y(),ce("p",Mg,"Fichier actuel : "+Fe(s.value.multimediaFront),1)):ct("",!0)]),N("div",Fg,[p[7]||(p[7]=N("label",{for:"back"},"Verso",-1)),En(N("textarea",{id:"back","onUpdate:modelValue":p[2]||(p[2]=m=>s.value.back=m),required:"",rows:"3"},null,512),[[wr,s.value.back]])]),N("div",Lg,[p[8]||(p[8]=N("label",{for:"multimediaBack"},"Mdia ct verso",-1)),N("input",{id:"multimediaBack",accept:"image/*,video/*,audio/*",type:"file",onChange:p[3]||(p[3]=m=>Ze(l)(m,!1))},null,32),s.value.multimediaBack?(Y(),ce("p",jg,"Fichier actuel : "+Fe(s.value.multimediaBack),1)):ct("",!0)]),N("div",Kg,[Pe(It,{onClick:p[4]||(p[4]=m=>y.$emit("close")),label:"Annuler",variant:"outlined"}),Pe(It,{onClick:d,label:"Sauvegarder",variant:"filled",color:"secondary"})])],32)]))}}),qg=gt(Ug,[["__scopeId","data-v-11adaab6"]]),Vg={key:0,class:"card-list flex column gap-8"},Hg={class:"cards-ctn flex row-gap-8"},Wg={key:1,class:"no-content"},zg=dt({__name:"CardList",props:{cards:{},themeId:{}},setup(e){const t=_n(),n=Sn();et(!1);const o=et(null),s=et(null),a=()=>{var y;o.value=null,(y=s.value)==null||y.openModal()},c=y=>{var p;o.value=y,(p=s.value)==null||p.openModal()},l=(y,p,m)=>{var _;y.themeId=e.themeId,n.setLatestActivity(y.themeId),t.addCardOrUpdateIt(y,p,m),(_=s.value)==null||_.closeModal()},d=y=>{n.setLatestActivity(e.themeId),t.deleteCardById(y)};return(y,p)=>(Y(),ce(tt,null,[Pe(It,{onClick:p[0]||(p[0]=m=>a()),icon:"fa-solid fa-plus",label:"Ajouter une carte",variant:"tonal"}),y.cards.length?(Y(),ce("div",Vg,[N("div",Hg,[(Y(!0),ce(tt,null,an(y.cards,m=>(Y(),yt(hf,{onEditCard:_=>c(m),onDeleteCard:_=>d(m.id),"show-options":!0,"card-data":m},null,8,["onEditCard","onDeleteCard","card-data"]))),256))])])):(Y(),ce("div",Wg,p[1]||(p[1]=[N("p",null,"Aucune carte disponible. Crez-en une !",-1)]))),Pe(ui,{ref_key:"modalRef",ref:s,title:"Carte"},{body:Le(()=>{var m;return[Pe(qg,{card:o.value,onSave:l,onClose:(m=s.value)==null?void 0:m.closeModal},null,8,["card","onClose"])]}),_:1},512)],64))}}),Yg=gt(zg,[["__scopeId","data-v-893b9037"]]),Gg={key:0},Qg={class:"card-list-container"},Jg=dt({__name:"ThemeDetailView",setup(e){const{resetCardLevel:t}=ii(),n=Um(),o=Sn();let s=Qe(()=>o.getThemeById(n.params.themeId??""));const a=Er(),c=_n(),l=async H=>{s.value||await Va.push("/404")},d=et(null),y=()=>{var H;(H=d.value)==null||H.openModal()},p=async H=>{var re;H&&(await o.addThemeOrUpdateIt(H),(re=d.value)==null||re.closeModal())},m=async()=>{!C.value||!s.value||C.value.forEach(H=>{t(H)})};co(async()=>{await l(n.params.themeId??"")}),Wn(()=>n.params.themeId,H=>{l()});const _=Qe(()=>s.value?a.categories.find(H=>{var re;return H.id===((re=s==null?void 0:s.value)==null?void 0:re.categoryId)}):null),C=Qe(()=>s.value?c.cards.filter(H=>{var re;return H.themeId===((re=s==null?void 0:s.value)==null?void 0:re.id)}):null);return(H,re)=>(Y(),yt(li,null,{default:Le(()=>[Ze(s)?(Y(),ce(tt,{key:0},[Pe(Jo,null,{"title-left":Le(()=>[N("h1",null,Fe(Ze(s).name),1)]),"title-right":Le(()=>[Pe(It,{onClick:y,size:"large",icon:"fa-solid fa-pen",type:"fab-btn",variant:"filled",color:"secondary"})]),subtitle:Le(()=>[_.value?(Y(),yt(ea,{key:0,icon:"fa-solid fa-box-archive"},{default:Le(()=>[Kt(Fe(_.value.name),1)]),_:1})):ct("",!0),Pe(ea,{icon:"fa-solid fa-calendar"},{default:Le(()=>[Kt("Cr le "+Fe(Ze(s).createdAt),1)]),_:1}),Pe(ea,{icon:"fa-solid fa-gear"},{default:Le(()=>[N("span",null,Fe(Ze(s).maxLevel)+" "+Fe(Ze(s).maxLevel>1?"niveaux":"niveau"),1),Ze(s).newCardsPerDay?(Y(),ce("span",Gg," - "+Fe(Ze(s).newCardsPerDay)+" "+Fe(Ze(s).newCardsPerDay>1?"nouvelles cartes":"nouvelle carte")+" par jour",1)):ct("",!0)]),_:1})]),_:1}),C.value?(Y(),yt(io,{key:0},{"title-left":Le(()=>re[0]||(re[0]=[N("h2",null,"CARTES",-1)])),content:Le(()=>[N("div",Qg,[Pe(Qo,null,{default:Le(()=>[re[1]||(re[1]=N("b",null,"Total de cartes : ",-1)),Kt(Fe(C.value.length),1)]),_:1}),Pe(Yg,{cards:C.value,"theme-id":Ze(s).id},null,8,["cards","theme-id"])])]),_:1})):ct("",!0)],64)):ct("",!0),Pe(ui,{ref_key:"themeModalRef",ref:d,title:Ze(s)?"Modifier le thme":"Crer un nouveau thme"},{body:Le(()=>{var Ee;return[Ze(s)?(Y(),yt(df,{key:0,theme:Ze(s)??null,onSave:p,onClose:(Ee=d.value)==null?void 0:Ee.closeModal,onResetProgression:m},null,8,["theme","onClose"])):ct("",!0)]}),_:1},8,["title"])]),_:1}))}}),Xg=gt(Jg,[["__scopeId","data-v-9927d2d2"]]),Zg=()=>({groupCardsByDateAndTheme:(t,n="all")=>{const o={};return t.forEach(s=>{if(!s.nextReviewAt)return;const a=s.nextReviewAt.slice(0,10),c=s.themeId;o[a]||(o[a]={}),o[a][c]||(o[a][c]=[]),o[a][c].push(s)}),o}}),e_={key:0,class:"practice-ctn"},t_={class:"practice-form"},n_={class:"btn-container"},r_={key:1,class:"no-content padding"},o_={key:1,class:"flex column row-gap-16"},i_={class:"flex column row-gap-8"},s_={class:"details"},a_={class:"levels"},u_={key:0},l_={key:1,class:"no-content padding"},c_={class:"flex column row-gap-8"},f_={class:"details"},d_={class:"levels"},h_={key:1,class:"no-content padding"},p_={class:"details"},m_={class:"levels"},v_={key:1,class:"no-content padding"},y_=dt({__name:"RevisionSession",setup(e){const{getCardsToPractice:t,promoteCard:n,demoteCard:o,resetCardLevel:s,getThemesToPracticeByPeriod:a}=ii(),c=_n(),l=Sn(),{groupCardsByDateAndTheme:d}=Zg();Qe(()=>d(c.cards));const y=et([]),p=et(!0),m=async me=>{C.value&&(me?(await n(C.value,5),H.value="right"):(await o(C.value,5),H.value="left"),p.value=!1)},_=et(0),C=Qe(()=>y.value[_.value]??null);co(()=>{l.themes.forEach(X=>{const we=c.getCardsByThemeId(X.id);y.value.push(...t(we,X.maxLevel,X.newCardsPerDay??5))})});const H=et("left"),re=Qe(()=>"card-slide-"+H.value),Ee=()=>{_.value++,p.value=!0},z=et(!1),W=()=>{z.value=!z.value},Z=Qe(()=>a(l.themes,c.cards,"today")),ae=Qe(()=>a(l.themes,c.cards,"past")),U=Qe(()=>a(l.themes,c.cards,"future")),be=me=>me.reduce((X,we)=>(X[we.currentLevel]=(X[we.currentLevel]||0)+1,X),{}),le=me=>{const X=[];for(let we of me)for(let Te of we.cards){if(!Te.nextReviewAt)return;let se=X.find(Ne=>Ne.date==Te.nextReviewAt);if(!se)X.push({date:Te.nextReviewAt,themes:[{themeId:we.themeId,cards:[Te]}]});else{let Ne=se.themes.find(nt=>nt.themeId==Te.themeId);Ne?Ne.cards.push(Te):se.themes.push({themeId:we.themeId,cards:[Te]})}}return X};return(me,X)=>{var we;return Y(),ce("div",null,[Pe(Jo,{"align-center-title":!0},Kd({"title-left":Le(()=>[X[2]||(X[2]=N("h1",null,"Rvisions du jour",-1))]),_:2},[y.value?{name:"title-right",fn:Le(()=>[Pe(It,{icon:z.value?"fa-solid fa-stop":"fa-solid fa-play",label:z.value?"Arrter la session":"Commencer la session",variant:"filled",color:"secondary",onClick:W},null,8,["icon","label"])]),key:"0"}:void 0]),1024),z.value?(Y(),ce(tt,{key:0},[y.value&&C.value?(Y(),ce("div",e_,[N("div",t_,[Pe(jc,{name:re.value,onAfterLeave:Ee},{default:Le(()=>[p.value?(Y(),yt(hf,{key:C.value.id,"card-data":C.value},null,8,["card-data"])):ct("",!0)]),_:1},8,["name"]),N("div",n_,[Pe(It,{onClick:X[0]||(X[0]=Te=>m(!1)),variant:"outlined",color:"secondary",label:"Pas appris "}),Pe(It,{onClick:X[1]||(X[1]=Te=>m(!0)),variant:"filled",color:"secondary",label:"Appris "})])])])):(Y(),ce("div",r_," Rien  rviser !"))],64)):(Y(),ce("div",o_,[Pe(io,{class:"flex column row-gap-8"},{"title-left":Le(()=>X[3]||(X[3]=[N("h2",null,"Aujourd'hui",-1)])),content:Le(()=>[Z.value.length?(Y(!0),ce(tt,{key:0},an(Z.value,Te=>(Y(),ce("div",i_,[Pe(Qo,null,{default:Le(()=>{var se;return[N("h3",null,Fe(((se=Ze(l).getThemeById(Te.themeId))==null?void 0:se.name)??"Thme perdu"),1),N("div",s_,[N("div",a_,[Te.newCards?(Y(),ce("span",u_,[X[4]||(X[4]=N("b",null,"Niveau 0",-1)),Kt(": "+Fe(Te.newCards)+" carte"+Fe(Te.newCards>1?"s":"")+" (nouvelles cartes !) ",1)])):ct("",!0),(Y(!0),ce(tt,null,an(be(Te.cards),(Ne,nt)=>(Y(),ce("span",null,[N("b",null,"Niveau "+Fe(nt)+":",1),Kt(" "+Fe(Ne)+" carte"+Fe(Ne>1?"s":""),1)]))),256))])])]}),_:2},1024)]))),256)):(Y(),ce("div",l_,"Aucune carte  apprendre aujourd'hui !"))]),_:1}),Pe(io,null,{"title-left":Le(()=>X[5]||(X[5]=[N("h2",null,"En retard",-1)])),content:Le(()=>{var Te;return[(Te=le(ae.value))!=null&&Te.length?(Y(!0),ce(tt,{key:0},an(le(ae.value),se=>(Y(),ce("div",c_,[N("h4",null,Fe(se.date),1),(Y(!0),ce(tt,null,an(se.themes,Ne=>{var nt;return Y(),ce("div",null,[N("h3",null,Fe(((nt=Ze(l).getThemeById(Ne.themeId))==null?void 0:nt.name)??"Thme perdu"),1),N("div",f_,[N("div",d_,[(Y(!0),ce(tt,null,an(be(Ne.cards),(_t,it)=>(Y(),ce("span",null,[N("b",null,"Niveau "+Fe(it)+":",1),Kt(" "+Fe(_t)+" carte"+Fe(_t>1?"s":""),1)]))),256))])])])}),256))]))),256)):(Y(),ce("div",h_,"Aucun thme en retard."))]}),_:1}),N("div",null,[Pe(Jo,{class:"second"},{"title-left":Le(()=>X[6]||(X[6]=[N("h1",null,"Prochaines rvisions",-1)])),_:1}),(we=le(U.value))!=null&&we.length?(Y(!0),ce(tt,{key:0},an(le(U.value),Te=>(Y(),yt(io,{key:Te.date},{"title-left":Le(()=>[N("h2",null,Fe(Te.date),1)]),content:Le(()=>[(Y(!0),ce(tt,null,an(Te.themes,se=>(Y(),yt(Qo,{"show-bar":!0,key:se.themeId},{default:Le(()=>{var Ne;return[N("h3",null,Fe(((Ne=Ze(l).getThemeById(se.themeId))==null?void 0:Ne.name)??"Thme perdu"),1),N("div",p_,[N("div",m_,[(Y(!0),ce(tt,null,an(be(se.cards),(nt,_t)=>(Y(),ce("span",null,[N("b",null,"Niveau "+Fe(_t)+":",1),Kt(" "+Fe(nt)+" carte"+Fe(nt>1?"s":""),1)]))),256))])])]}),_:2},1024))),128))]),_:2},1024))),128)):(Y(),ce("div",v_,"Aucune rvision future prvue !"))])]))])}}}),g_=gt(y_,[["__scopeId","data-v-9da07609"]]),__=dt({__name:"PracticeView",setup(e){return(t,n)=>(Y(),yt(li,null,{default:Le(()=>[Pe(g_)]),_:1}))}}),b_=dt({__name:"LayoutEmpty",setup(e){return(t,n)=>(Y(),ce(tt,null,[N("main",null,[Ft(t.$slots,"default")]),Pe(ff)],64))}}),w_={class:"not-found-container"},S_={class:"subtitle"},C_=dt({__name:"NotFoundView",setup(e){return(t,n)=>{const o=ni("router-link");return Y(),yt(b_,null,{default:Le(()=>[N("div",w_,[n[3]||(n[3]=N("span",{class:"title"},"404 Pas trouv MDR",-1)),N("span",S_,[n[1]||(n[1]=Kt("Petit ")),Pe(o,{to:"/"},{default:Le(()=>n[0]||(n[0]=[Kt("retour  l'accueil")])),_:1}),n[2]||(n[2]=Kt(" peut-tre ?"))])])]),_:1})}}}),x_=gt(C_,[["__scopeId","data-v-53b90122"]]),E_=[{path:"/",name:"Home",component:qv},{path:"/categories",name:"Categories",component:sg},{path:"/themes",name:"ThemeListView",component:Dg},{path:"/themes/:themeId",name:"Theme",component:Xg},{path:"/practice",name:"Practice",component:__},{path:"/404",name:"Not Found !",component:x_},{path:"/:pathMatch(.*)",redirect:"/404",hidden:!0}],Va=jm({history:mm(),routes:E_});Va.beforeEach(async(e,t,n)=>{const o=Er(),s=Sn(),a=_n(),c=ai();await si().loadFiles(),await o.loadCategories(),await s.loadThemes(),await a.loadCards(),await c.loadSettings(),n()});Ap.config({name:"memoryApp",storeName:"pinia_store"});const pf=cp();pf.use(Ep);const Ha=ap(Fp);Ha.use(pf);Ha.use(Va);Ha.mount("#app");navigator.serviceWorker.register("/sw.js",{type:"module"}).then(e=>{e.onupdatefound=()=>{const t=e.installing;t&&(t.onstatechange=()=>{t.state==="installed"&&(navigator.serviceWorker.controller?console.log("Service Worker mis  jour."):console.log("Service Worker install pour la premire fois."))})}}).catch(e=>{console.error("Erreur lors de l'enregistrement du Service Worker : ",e)});
