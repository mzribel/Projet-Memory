var Df=Object.defineProperty;var $f=(e,t,n)=>t in e?Df(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jr=(e,t,n)=>$f(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Sa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const bt={},no=[],Hn=()=>{},Nf=()=>!1,zi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ca=e=>e.startsWith("onUpdate:"),Wt=Object.assign,xa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Bf=Object.prototype.hasOwnProperty,_t=(e,t)=>Bf.call(e,t),Ke=Array.isArray,ro=e=>Zo(e)==="[object Map]",fo=e=>Zo(e)==="[object Set]",cu=e=>Zo(e)==="[object Date]",ze=e=>typeof e=="function",Rt=e=>typeof e=="string",An=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",xl=e=>(wt(e)||ze(e))&&ze(e.then)&&ze(e.catch),El=Object.prototype.toString,Zo=e=>El.call(e),Mf=e=>Zo(e).slice(8,-1),Il=e=>Zo(e)==="[object Object]",Ea=e=>Rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Oo=Sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Lf=/-(\w)/g,bn=Yi(e=>e.replace(Lf,(t,n)=>n?n.toUpperCase():"")),Ff=/\B([A-Z])/g,Fr=Yi(e=>e.replace(Ff,"-$1").toLowerCase()),Gi=Yi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ms=Yi(e=>e?`on${Gi(e)}`:""),_r=(e,t)=>!Object.is(e,t),Di=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Tl=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Fi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},jf=e=>{const t=Rt(e)?Number(e):NaN;return isNaN(t)?e:t};let fu;const Qi=()=>fu||(fu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ia(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=Rt(o)?Vf(o):Ia(o);if(s)for(const a in s)t[a]=s[a]}return t}else if(Rt(e)||wt(e))return e}const Kf=/;(?![^(]*\))/g,Uf=/:([^]+)/,qf=/\/\*[^]*?\*\//g;function Vf(e){const t={};return e.replace(qf,"").split(Kf).forEach(n=>{if(n){const o=n.split(Uf);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function mn(e){let t="";if(Rt(e))t=e;else if(Ke(e))for(let n=0;n<e.length;n++){const o=mn(e[n]);o&&(t+=o+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Hf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wf=Sa(Hf);function Al(e){return!!e||e===""}function zf(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ei(e[o],t[o]);return n}function ei(e,t){if(e===t)return!0;let n=cu(e),o=cu(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=An(e),o=An(t),n||o)return e===t;if(n=Ke(e),o=Ke(t),n||o)return n&&o?zf(e,t):!1;if(n=wt(e),o=wt(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,a=Object.keys(t).length;if(s!==a)return!1;for(const c in e){const l=e.hasOwnProperty(c),d=t.hasOwnProperty(c);if(l&&!d||!l&&d||!ei(e[c],t[c]))return!1}}return String(e)===String(t)}function Ta(e,t){return e.findIndex(n=>ei(n,t))}const Pl=e=>!!(e&&e.__v_isRef===!0),Be=e=>Rt(e)?e:e==null?"":Ke(e)||wt(e)&&(e.toString===El||!ze(e.toString))?Pl(e)?Be(e.value):JSON.stringify(e,Rl,2):String(e),Rl=(e,t)=>Pl(t)?Rl(e,t.value):ro(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],a)=>(n[Ls(o,a)+" =>"]=s,n),{})}:fo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ls(n))}:An(t)?Ls(t):wt(t)&&!Ke(t)&&!Il(t)?String(t):t,Ls=(e,t="")=>{var n;return An(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;class kl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=sn,!t&&sn&&(this.index=(sn.scopes||(sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=sn;try{return sn=this,t()}finally{sn=n}}}on(){sn=this}off(){sn=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ol(e){return new kl(e)}function Dl(){return sn}function Yf(e,t=!1){sn&&sn.cleanups.push(e)}let Ct;const Fs=new WeakSet;class $l{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,sn&&sn.active&&sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fs.has(this)&&(Fs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,du(this),Ml(this);const t=Ct,n=xn;Ct=this,xn=!0;try{return this.fn()}finally{Ll(this),Ct=t,xn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ra(t);this.deps=this.depsTail=void 0,du(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){na(this)&&this.run()}get dirty(){return na(this)}}let Nl=0,Do,$o;function Bl(e,t=!1){if(e.flags|=8,t){e.next=$o,$o=e;return}e.next=Do,Do=e}function Aa(){Nl++}function Pa(){if(--Nl>0)return;if($o){let t=$o;for($o=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Do;){let t=Do;for(Do=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Ml(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ll(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Ra(o),Gf(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function na(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===jo))return;e.globalVersion=jo;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!na(e)){e.flags&=-3;return}const n=Ct,o=xn;Ct=e,xn=!0;try{Ml(e);const s=e.fn(e._value);(t.version===0||_r(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ct=n,xn=o,Ll(e),e.flags&=-3}}function Ra(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Ra(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Gf(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xn=!0;const jl=[];function Cr(){jl.push(xn),xn=!1}function xr(){const e=jl.pop();xn=e===void 0?!0:e}function du(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ct;Ct=void 0;try{t()}finally{Ct=n}}}let jo=0;class Qf{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ka{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ct||!xn||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new Qf(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,Kl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=o)}return n}trigger(t){this.version++,jo++,this.notify(t)}notify(t){Aa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Pa()}}}function Kl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Kl(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ji=new WeakMap,Br=Symbol(""),ra=Symbol(""),Ko=Symbol("");function Xt(e,t,n){if(xn&&Ct){let o=ji.get(e);o||ji.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new ka),s.map=o,s.key=n),s.track()}}function er(e,t,n,o,s,a){const c=ji.get(e);if(!c){jo++;return}const l=d=>{d&&d.trigger()};if(Aa(),t==="clear")c.forEach(l);else{const d=Ke(e),v=d&&Ea(n);if(d&&n==="length"){const p=Number(o);c.forEach((m,_)=>{(_==="length"||_===Ko||!An(_)&&_>=p)&&l(m)})}else switch((n!==void 0||c.has(void 0))&&l(c.get(n)),v&&l(c.get(Ko)),t){case"add":d?v&&l(c.get("length")):(l(c.get(Br)),ro(e)&&l(c.get(ra)));break;case"delete":d||(l(c.get(Br)),ro(e)&&l(c.get(ra)));break;case"set":ro(e)&&l(c.get(Br));break}}Pa()}function Jf(e,t){const n=ji.get(e);return n&&n.get(t)}function Xr(e){const t=pt(e);return t===e?t:(Xt(t,"iterate",Ko),_n(e)?t:t.map(Zt))}function Ji(e){return Xt(e=pt(e),"iterate",Ko),e}const Xf={__proto__:null,[Symbol.iterator](){return js(this,Symbol.iterator,Zt)},concat(...e){return Xr(this).concat(...e.map(t=>Ke(t)?Xr(t):t))},entries(){return js(this,"entries",e=>(e[1]=Zt(e[1]),e))},every(e,t){return Qn(this,"every",e,t,void 0,arguments)},filter(e,t){return Qn(this,"filter",e,t,n=>n.map(Zt),arguments)},find(e,t){return Qn(this,"find",e,t,Zt,arguments)},findIndex(e,t){return Qn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Qn(this,"findLast",e,t,Zt,arguments)},findLastIndex(e,t){return Qn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Qn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ks(this,"includes",e)},indexOf(...e){return Ks(this,"indexOf",e)},join(e){return Xr(this).join(e)},lastIndexOf(...e){return Ks(this,"lastIndexOf",e)},map(e,t){return Qn(this,"map",e,t,void 0,arguments)},pop(){return To(this,"pop")},push(...e){return To(this,"push",e)},reduce(e,...t){return hu(this,"reduce",e,t)},reduceRight(e,...t){return hu(this,"reduceRight",e,t)},shift(){return To(this,"shift")},some(e,t){return Qn(this,"some",e,t,void 0,arguments)},splice(...e){return To(this,"splice",e)},toReversed(){return Xr(this).toReversed()},toSorted(e){return Xr(this).toSorted(e)},toSpliced(...e){return Xr(this).toSpliced(...e)},unshift(...e){return To(this,"unshift",e)},values(){return js(this,"values",Zt)}};function js(e,t,n){const o=Ji(e),s=o[t]();return o!==e&&!_n(e)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const Zf=Array.prototype;function Qn(e,t,n,o,s,a){const c=Ji(e),l=c!==e&&!_n(e),d=c[t];if(d!==Zf[t]){const m=d.apply(e,a);return l?Zt(m):m}let v=n;c!==e&&(l?v=function(m,_){return n.call(this,Zt(m),_,e)}:n.length>2&&(v=function(m,_){return n.call(this,m,_,e)}));const p=d.call(c,v,o);return l&&s?s(p):p}function hu(e,t,n,o){const s=Ji(e);let a=n;return s!==e&&(_n(e)?n.length>3&&(a=function(c,l,d){return n.call(this,c,l,d,e)}):a=function(c,l,d){return n.call(this,c,Zt(l),d,e)}),s[t](a,...o)}function Ks(e,t,n){const o=pt(e);Xt(o,"iterate",Ko);const s=o[t](...n);return(s===-1||s===!1)&&$a(n[0])?(n[0]=pt(n[0]),o[t](...n)):s}function To(e,t,n=[]){Cr(),Aa();const o=pt(e)[t].apply(e,n);return Pa(),xr(),o}const ed=Sa("__proto__,__v_isRef,__isVue"),Ul=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(An));function td(e){An(e)||(e=String(e));const t=pt(this);return Xt(t,"has",e),t.hasOwnProperty(e)}class ql{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return o===(s?a?fd:zl:a?Wl:Hl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const c=Ke(t);if(!s){let d;if(c&&(d=Xf[n]))return d;if(n==="hasOwnProperty")return td}const l=Reflect.get(t,n,Nt(t)?t:o);return(An(n)?Ul.has(n):ed(n))||(s||Xt(t,"get",n),a)?l:Nt(l)?c&&Ea(n)?l:l.value:wt(l)?s?Gl(l):ti(l):l}}class Vl extends ql{constructor(t=!1){super(!1,t)}set(t,n,o,s){let a=t[n];if(!this._isShallow){const d=Lr(a);if(!_n(o)&&!Lr(o)&&(a=pt(a),o=pt(o)),!Ke(t)&&Nt(a)&&!Nt(o))return d?!1:(a.value=o,!0)}const c=Ke(t)&&Ea(n)?Number(n)<t.length:_t(t,n),l=Reflect.set(t,n,o,Nt(t)?t:s);return t===pt(s)&&(c?_r(o,a)&&er(t,"set",n,o):er(t,"add",n,o)),l}deleteProperty(t,n){const o=_t(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&er(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!An(n)||!Ul.has(n))&&Xt(t,"has",n),o}ownKeys(t){return Xt(t,"iterate",Ke(t)?"length":Br),Reflect.ownKeys(t)}}class nd extends ql{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const rd=new Vl,od=new nd,id=new Vl(!0);const oa=e=>e,Ai=e=>Reflect.getPrototypeOf(e);function sd(e,t,n){return function(...o){const s=this.__v_raw,a=pt(s),c=ro(a),l=e==="entries"||e===Symbol.iterator&&c,d=e==="keys"&&c,v=s[e](...o),p=n?oa:t?ia:Zt;return!t&&Xt(a,"iterate",d?ra:Br),{next(){const{value:m,done:_}=v.next();return _?{value:m,done:_}:{value:l?[p(m[0]),p(m[1])]:p(m),done:_}},[Symbol.iterator](){return this}}}}function Pi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ad(e,t){const n={get(s){const a=this.__v_raw,c=pt(a),l=pt(s);e||(_r(s,l)&&Xt(c,"get",s),Xt(c,"get",l));const{has:d}=Ai(c),v=t?oa:e?ia:Zt;if(d.call(c,s))return v(a.get(s));if(d.call(c,l))return v(a.get(l));a!==c&&a.get(s)},get size(){const s=this.__v_raw;return!e&&Xt(pt(s),"iterate",Br),Reflect.get(s,"size",s)},has(s){const a=this.__v_raw,c=pt(a),l=pt(s);return e||(_r(s,l)&&Xt(c,"has",s),Xt(c,"has",l)),s===l?a.has(s):a.has(s)||a.has(l)},forEach(s,a){const c=this,l=c.__v_raw,d=pt(l),v=t?oa:e?ia:Zt;return!e&&Xt(d,"iterate",Br),l.forEach((p,m)=>s.call(a,v(p),v(m),c))}};return Wt(n,e?{add:Pi("add"),set:Pi("set"),delete:Pi("delete"),clear:Pi("clear")}:{add(s){!t&&!_n(s)&&!Lr(s)&&(s=pt(s));const a=pt(this);return Ai(a).has.call(a,s)||(a.add(s),er(a,"add",s,s)),this},set(s,a){!t&&!_n(a)&&!Lr(a)&&(a=pt(a));const c=pt(this),{has:l,get:d}=Ai(c);let v=l.call(c,s);v||(s=pt(s),v=l.call(c,s));const p=d.call(c,s);return c.set(s,a),v?_r(a,p)&&er(c,"set",s,a):er(c,"add",s,a),this},delete(s){const a=pt(this),{has:c,get:l}=Ai(a);let d=c.call(a,s);d||(s=pt(s),d=c.call(a,s)),l&&l.call(a,s);const v=a.delete(s);return d&&er(a,"delete",s,void 0),v},clear(){const s=pt(this),a=s.size!==0,c=s.clear();return a&&er(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=sd(s,e,t)}),n}function Oa(e,t){const n=ad(e,t);return(o,s,a)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(_t(n,s)&&s in o?n:o,s,a)}const ud={get:Oa(!1,!1)},ld={get:Oa(!1,!0)},cd={get:Oa(!0,!1)};const Hl=new WeakMap,Wl=new WeakMap,zl=new WeakMap,fd=new WeakMap;function dd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hd(e){return e.__v_skip||!Object.isExtensible(e)?0:dd(Mf(e))}function ti(e){return Lr(e)?e:Da(e,!1,rd,ud,Hl)}function Yl(e){return Da(e,!1,id,ld,Wl)}function Gl(e){return Da(e,!0,od,cd,zl)}function Da(e,t,n,o,s){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=s.get(e);if(a)return a;const c=hd(e);if(c===0)return e;const l=new Proxy(e,c===2?o:n);return s.set(e,l),l}function br(e){return Lr(e)?br(e.__v_raw):!!(e&&e.__v_isReactive)}function Lr(e){return!!(e&&e.__v_isReadonly)}function _n(e){return!!(e&&e.__v_isShallow)}function $a(e){return e?!!e.__v_raw:!1}function pt(e){const t=e&&e.__v_raw;return t?pt(t):e}function Na(e){return!_t(e,"__v_skip")&&Object.isExtensible(e)&&Tl(e,"__v_skip",!0),e}const Zt=e=>wt(e)?ti(e):e,ia=e=>wt(e)?Gl(e):e;function Nt(e){return e?e.__v_isRef===!0:!1}function Ze(e){return Ql(e,!1)}function pd(e){return Ql(e,!0)}function Ql(e,t){return Nt(e)?e:new md(e,t)}class md{constructor(t,n){this.dep=new ka,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:pt(t),this._value=n?t:Zt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||_n(t)||Lr(t);t=o?t:pt(t),_r(t,n)&&(this._rawValue=t,this._value=o?t:Zt(t),this.dep.trigger())}}function Je(e){return Nt(e)?e.value:e}const vd={get:(e,t,n)=>t==="__v_raw"?e:Je(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return Nt(s)&&!Nt(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function Jl(e){return br(e)?e:new Proxy(e,vd)}function yd(e){const t=Ke(e)?new Array(e.length):{};for(const n in e)t[n]=_d(e,n);return t}class gd{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jf(pt(this._object),this._key)}}function _d(e,t,n){const o=e[t];return Nt(o)?o:new gd(e,t,n)}class bd{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ka(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Bl(this,!0),!0}get value(){const t=this.dep.track();return Fl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function wd(e,t,n=!1){let o,s;return ze(e)?o=e:(o=e.get,s=e.set),new bd(o,s,n)}const Ri={},Ki=new WeakMap;let $r;function Sd(e,t=!1,n=$r){if(n){let o=Ki.get(n);o||Ki.set(n,o=[]),o.push(e)}}function Cd(e,t,n=bt){const{immediate:o,deep:s,once:a,scheduler:c,augmentJob:l,call:d}=n,v=re=>s?re:_n(re)||s===!1||s===0?tr(re,1):tr(re);let p,m,_,C,H=!1,te=!1;if(Nt(e)?(m=()=>e.value,H=_n(e)):br(e)?(m=()=>v(e),H=!0):Ke(e)?(te=!0,H=e.some(re=>br(re)||_n(re)),m=()=>e.map(re=>{if(Nt(re))return re.value;if(br(re))return v(re);if(ze(re))return d?d(re,2):re()})):ze(e)?t?m=d?()=>d(e,2):e:m=()=>{if(_){Cr();try{_()}finally{xr()}}const re=$r;$r=p;try{return d?d(e,3,[C]):e(C)}finally{$r=re}}:m=Hn,t&&s){const re=m,j=s===!0?1/0:s;m=()=>tr(re(),j)}const Re=Dl(),W=()=>{p.stop(),Re&&Re.active&&xa(Re.effects,p)};if(a&&t){const re=t;t=(...j)=>{re(...j),W()}}let z=te?new Array(e.length).fill(Ri):Ri;const le=re=>{if(!(!(p.flags&1)||!p.dirty&&!re))if(t){const j=p.run();if(s||H||(te?j.some((Se,se)=>_r(Se,z[se])):_r(j,z))){_&&_();const Se=$r;$r=p;try{const se=[j,z===Ri?void 0:te&&z[0]===Ri?[]:z,C];d?d(t,3,se):t(...se),z=j}finally{$r=Se}}}else p.run()};return l&&l(le),p=new $l(m),p.scheduler=c?()=>c(le,!1):le,C=re=>Sd(re,!1,p),_=p.onStop=()=>{const re=Ki.get(p);if(re){if(d)d(re,4);else for(const j of re)j();Ki.delete(p)}},t?o?le(!0):z=p.run():c?c(le.bind(null,!0),!0):p.run(),W.pause=p.pause.bind(p),W.resume=p.resume.bind(p),W.stop=W,W}function tr(e,t=1/0,n){if(t<=0||!wt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Nt(e))tr(e.value,t,n);else if(Ke(e))for(let o=0;o<e.length;o++)tr(e[o],t,n);else if(fo(e)||ro(e))e.forEach(o=>{tr(o,t,n)});else if(Il(e)){for(const o in e)tr(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&tr(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(e,t,n,o){try{return o?e(...o):e()}catch(s){Xi(s,t,n)}}function Pn(e,t,n,o){if(ze(e)){const s=ni(e,t,n,o);return s&&xl(s)&&s.catch(a=>{Xi(a,t,n)}),s}if(Ke(e)){const s=[];for(let a=0;a<e.length;a++)s.push(Pn(e[a],t,n,o));return s}}function Xi(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||bt;if(t){let l=t.parent;const d=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](e,d,v)===!1)return}l=l.parent}if(a){Cr(),ni(a,null,10,[e,d,v]),xr();return}}xd(e,n,s,o,c)}function xd(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const an=[];let qn=-1;const oo=[];let pr=null,eo=0;const Xl=Promise.resolve();let Ui=null;function Zi(e){const t=Ui||Xl;return e?t.then(this?e.bind(this):e):t}function Ed(e){let t=qn+1,n=an.length;for(;t<n;){const o=t+n>>>1,s=an[o],a=Uo(s);a<e||a===e&&s.flags&2?t=o+1:n=o}return t}function Ba(e){if(!(e.flags&1)){const t=Uo(e),n=an[an.length-1];!n||!(e.flags&2)&&t>=Uo(n)?an.push(e):an.splice(Ed(t),0,e),e.flags|=1,Zl()}}function Zl(){Ui||(Ui=Xl.then(tc))}function Id(e){Ke(e)?oo.push(...e):pr&&e.id===-1?pr.splice(eo+1,0,e):e.flags&1||(oo.push(e),e.flags|=1),Zl()}function pu(e,t,n=qn+1){for(;n<an.length;n++){const o=an[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;an.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function ec(e){if(oo.length){const t=[...new Set(oo)].sort((n,o)=>Uo(n)-Uo(o));if(oo.length=0,pr){pr.push(...t);return}for(pr=t,eo=0;eo<pr.length;eo++){const n=pr[eo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pr=null,eo=0}}const Uo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function tc(e){try{for(qn=0;qn<an.length;qn++){const t=an[qn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ni(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qn<an.length;qn++){const t=an[qn];t&&(t.flags&=-2)}qn=-1,an.length=0,ec(),Ui=null,(an.length||oo.length)&&tc()}}let Kt=null,nc=null;function qi(e){const t=Kt;return Kt=e,nc=e&&e.type.__scopeId||null,t}function Le(e,t=Kt,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&Eu(-1);const a=qi(t);let c;try{c=e(...s)}finally{qi(a),o._d&&Eu(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function Cn(e,t){if(Kt===null)return e;const n=is(Kt),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,d=bt]=t[s];a&&(ze(a)&&(a={mounted:a,updated:a}),a.deep&&tr(c),o.push({dir:a,instance:n,value:c,oldValue:void 0,arg:l,modifiers:d}))}return e}function Rr(e,t,n,o){const s=e.dirs,a=t&&t.dirs;for(let c=0;c<s.length;c++){const l=s[c];a&&(l.oldValue=a[c].value);let d=l.dir[o];d&&(Cr(),Pn(d,n,8,[e.el,l,e,t]),xr())}}const Td=Symbol("_vte"),rc=e=>e.__isTeleport,mr=Symbol("_leaveCb"),ki=Symbol("_enterCb");function Ad(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jr(()=>{e.isMounted=!0}),Ma(()=>{e.isUnmounting=!0}),e}const gn=[Function,Array],oc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gn,onEnter:gn,onAfterEnter:gn,onEnterCancelled:gn,onBeforeLeave:gn,onLeave:gn,onAfterLeave:gn,onLeaveCancelled:gn,onBeforeAppear:gn,onAppear:gn,onAfterAppear:gn,onAppearCancelled:gn},ic=e=>{const t=e.subTree;return t.component?ic(t.component):t},Pd={name:"BaseTransition",props:oc,setup(e,{slots:t}){const n=Ch(),o=Ad();return()=>{const s=t.default&&uc(t.default(),!0);if(!s||!s.length)return;const a=sc(s),c=pt(e),{mode:l}=c;if(o.isLeaving)return Us(a);const d=mu(a);if(!d)return Us(a);let v=sa(d,c,o,n,m=>v=m);d.type!==un&&qo(d,v);let p=n.subTree&&mu(n.subTree);if(p&&p.type!==un&&!Nr(d,p)&&ic(n).type!==un){let m=sa(p,c,o,n);if(qo(p,m),l==="out-in"&&d.type!==un)return o.isLeaving=!0,m.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,p=void 0},Us(a);l==="in-out"&&d.type!==un?m.delayLeave=(_,C,H)=>{const te=ac(o,p);te[String(p.key)]=p,_[mr]=()=>{C(),_[mr]=void 0,delete v.delayedLeave,p=void 0},v.delayedLeave=()=>{H(),delete v.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return a}}};function sc(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==un){t=n;break}}return t}const Rd=Pd;function ac(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function sa(e,t,n,o,s){const{appear:a,mode:c,persisted:l=!1,onBeforeEnter:d,onEnter:v,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:_,onLeave:C,onAfterLeave:H,onLeaveCancelled:te,onBeforeAppear:Re,onAppear:W,onAfterAppear:z,onAppearCancelled:le}=t,re=String(e.key),j=ac(n,e),Se=(ue,_e)=>{ue&&Pn(ue,o,9,_e)},se=(ue,_e)=>{const ce=_e[1];Se(ue,_e),Ke(ue)?ue.every(Z=>Z.length<=1)&&ce():ue.length<=1&&ce()},ge={mode:c,persisted:l,beforeEnter(ue){let _e=d;if(!n.isMounted)if(a)_e=Re||d;else return;ue[mr]&&ue[mr](!0);const ce=j[re];ce&&Nr(e,ce)&&ce.el[mr]&&ce.el[mr](),Se(_e,[ue])},enter(ue){let _e=v,ce=p,Z=m;if(!n.isMounted)if(a)_e=W||v,ce=z||p,Z=le||m;else return;let de=!1;const He=ue[ki]=ct=>{de||(de=!0,ct?Se(Z,[ue]):Se(ce,[ue]),ge.delayedLeave&&ge.delayedLeave(),ue[ki]=void 0)};_e?se(_e,[ue,He]):He()},leave(ue,_e){const ce=String(e.key);if(ue[ki]&&ue[ki](!0),n.isUnmounting)return _e();Se(_,[ue]);let Z=!1;const de=ue[mr]=He=>{Z||(Z=!0,_e(),He?Se(te,[ue]):Se(H,[ue]),ue[mr]=void 0,j[ce]===e&&delete j[ce])};j[ce]=e,C?se(C,[ue,de]):de()},clone(ue){const _e=sa(ue,t,n,o,s);return s&&s(_e),_e}};return ge}function Us(e){if(es(e))return e=Sr(e),e.children=null,e}function mu(e){if(!es(e))return rc(e.type)&&e.children?sc(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ze(n.default))return n.default()}}function qo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,qo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function uc(e,t=!1,n){let o=[],s=0;for(let a=0;a<e.length;a++){let c=e[a];const l=n==null?c.key:String(n)+String(c.key!=null?c.key:a);c.type===lt?(c.patchFlag&128&&s++,o=o.concat(uc(c.children,t,l))):(t||c.type!==un)&&o.push(l!=null?Sr(c,{key:l}):c)}if(s>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function ht(e,t){return ze(e)?Wt({name:e.name},t,{setup:e}):e}function lc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Vi(e,t,n,o,s=!1){if(Ke(e)){e.forEach((H,te)=>Vi(H,t&&(Ke(t)?t[te]:t),n,o,s));return}if(io(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Vi(e,t,n,o.component.subTree);return}const a=o.shapeFlag&4?is(o.component):o.el,c=s?null:a,{i:l,r:d}=e,v=t&&t.r,p=l.refs===bt?l.refs={}:l.refs,m=l.setupState,_=pt(m),C=m===bt?()=>!1:H=>_t(_,H);if(v!=null&&v!==d&&(Rt(v)?(p[v]=null,C(v)&&(m[v]=null)):Nt(v)&&(v.value=null)),ze(d))ni(d,l,12,[c,p]);else{const H=Rt(d),te=Nt(d);if(H||te){const Re=()=>{if(e.f){const W=H?C(d)?m[d]:p[d]:d.value;s?Ke(W)&&xa(W,a):Ke(W)?W.includes(a)||W.push(a):H?(p[d]=[a],C(d)&&(m[d]=p[d])):(d.value=[a],e.k&&(p[e.k]=d.value))}else H?(p[d]=c,C(d)&&(m[d]=c)):te&&(d.value=c,e.k&&(p[e.k]=c))};c?(Re.id=-1,dn(Re,n)):Re()}}}Qi().requestIdleCallback;Qi().cancelIdleCallback;const io=e=>!!e.type.__asyncLoader,es=e=>e.type.__isKeepAlive;function kd(e,t){cc(e,"a",t)}function Od(e,t){cc(e,"da",t)}function cc(e,t,n=Ht){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(ts(t,o,n),n){let s=n.parent;for(;s&&s.parent;)es(s.parent.vnode)&&Dd(o,t,n,s),s=s.parent}}function Dd(e,t,n,o){const s=ts(t,e,o,!0);fc(()=>{xa(o[t],s)},n)}function ts(e,t,n=Ht,o=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{Cr();const l=ri(n),d=Pn(t,n,e,c);return l(),xr(),d});return o?s.unshift(a):s.push(a),a}}const rr=e=>(t,n=Ht)=>{(!Wo||e==="sp")&&ts(e,(...o)=>t(...o),n)},$d=rr("bm"),jr=rr("m"),Nd=rr("bu"),Bd=rr("u"),Ma=rr("bum"),fc=rr("um"),Md=rr("sp"),Ld=rr("rtg"),Fd=rr("rtc");function jd(e,t=Ht){ts("ec",e,t)}const dc="components";function ns(e,t){return pc(dc,e,!0,t)||e}const hc=Symbol.for("v-ndc");function Kd(e){return Rt(e)?pc(dc,e,!1)||e:e||hc}function pc(e,t,n=!0,o=!1){const s=Kt||Ht;if(s){const a=s.type;{const l=Ah(a,!1);if(l&&(l===t||l===bn(t)||l===Gi(bn(t))))return a}const c=vu(s[e]||a[e],t)||vu(s.appContext[e],t);return!c&&o?a:c}}function vu(e,t){return e&&(e[t]||e[bn(t)]||e[Gi(bn(t))])}function hn(e,t,n,o){let s;const a=n,c=Ke(e);if(c||Rt(e)){const l=c&&br(e);let d=!1;l&&(d=!_n(e),e=Ji(e)),s=new Array(e.length);for(let v=0,p=e.length;v<p;v++)s[v]=t(d?Zt(e[v]):e[v],v,void 0,a)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,a)}else if(wt(e))if(e[Symbol.iterator])s=Array.from(e,(l,d)=>t(l,d,void 0,a));else{const l=Object.keys(e);s=new Array(l.length);for(let d=0,v=l.length;d<v;d++){const p=l[d];s[d]=t(e[p],p,d,a)}}else s=[];return s}function aa(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(Ke(o))for(let s=0;s<o.length;s++)e[o[s].name]=o[s].fn;else o&&(e[o.name]=o.key?(...s)=>{const a=o.fn(...s);return a&&(a.key=o.key),a}:o.fn)}return e}function Bt(e,t,n={},o,s){if(Kt.ce||Kt.parent&&io(Kt.parent)&&Kt.parent.ce)return t!=="default"&&(n.name=t),Q(),vt(lt,null,[Pe("slot",n,o)],64);let a=e[t];a&&a._c&&(a._d=!1),Q();const c=a&&mc(a(n)),l=n.key||c&&c.key,d=vt(lt,{key:(l&&!An(l)?l:`_${t}`)+""},c||[],c&&e._===1?64:-2);return!s&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),a&&a._c&&(a._d=!0),d}function mc(e){return e.some(t=>Ho(t)?!(t.type===un||t.type===lt&&!mc(t.children)):!0)?e:null}const ua=e=>e?Mc(e)?is(e):ua(e.parent):null,No=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ua(e.parent),$root:e=>ua(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>yc(e),$forceUpdate:e=>e.f||(e.f=()=>{Ba(e.update)}),$nextTick:e=>e.n||(e.n=Zi.bind(e.proxy)),$watch:e=>lh.bind(e)}),qs=(e,t)=>e!==bt&&!e.__isScriptSetup&&_t(e,t),Ud={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:a,accessCache:c,type:l,appContext:d}=e;let v;if(t[0]!=="$"){const C=c[t];if(C!==void 0)switch(C){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(qs(o,t))return c[t]=1,o[t];if(s!==bt&&_t(s,t))return c[t]=2,s[t];if((v=e.propsOptions[0])&&_t(v,t))return c[t]=3,a[t];if(n!==bt&&_t(n,t))return c[t]=4,n[t];la&&(c[t]=0)}}const p=No[t];let m,_;if(p)return t==="$attrs"&&Xt(e.attrs,"get",""),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==bt&&_t(n,t))return c[t]=4,n[t];if(_=d.config.globalProperties,_t(_,t))return _[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:a}=e;return qs(s,t)?(s[t]=n,!0):o!==bt&&_t(o,t)?(o[t]=n,!0):_t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:a}},c){let l;return!!n[c]||e!==bt&&_t(e,c)||qs(t,c)||(l=a[0])&&_t(l,c)||_t(o,c)||_t(No,c)||_t(s.config.globalProperties,c)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_t(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function yu(e){return Ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let la=!0;function qd(e){const t=yc(e),n=e.proxy,o=e.ctx;la=!1,t.beforeCreate&&gu(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:c,watch:l,provide:d,inject:v,created:p,beforeMount:m,mounted:_,beforeUpdate:C,updated:H,activated:te,deactivated:Re,beforeDestroy:W,beforeUnmount:z,destroyed:le,unmounted:re,render:j,renderTracked:Se,renderTriggered:se,errorCaptured:ge,serverPrefetch:ue,expose:_e,inheritAttrs:ce,components:Z,directives:de,filters:He}=t;if(v&&Vd(v,o,null),c)for(const Ve in c){const et=c[Ve];ze(et)&&(o[Ve]=et.bind(n))}if(s){const Ve=s.call(n,n);wt(Ve)&&(e.data=ti(Ve))}if(la=!0,a)for(const Ve in a){const et=a[Ve],Ut=ze(et)?et.bind(n,n):ze(et.get)?et.get.bind(n,n):Hn,Mt=!ze(et)&&ze(et.set)?et.set.bind(n):Hn,Et=st({get:Ut,set:Mt});Object.defineProperty(o,Ve,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Ft=>Et.value=Ft})}if(l)for(const Ve in l)vc(l[Ve],o,n,Ve);if(d){const Ve=ze(d)?d.call(n):d;Reflect.ownKeys(Ve).forEach(et=>{$i(et,Ve[et])})}p&&gu(p,e,"c");function Ge(Ve,et){Ke(et)?et.forEach(Ut=>Ve(Ut.bind(n))):et&&Ve(et.bind(n))}if(Ge($d,m),Ge(jr,_),Ge(Nd,C),Ge(Bd,H),Ge(kd,te),Ge(Od,Re),Ge(jd,ge),Ge(Fd,Se),Ge(Ld,se),Ge(Ma,z),Ge(fc,re),Ge(Md,ue),Ke(_e))if(_e.length){const Ve=e.exposed||(e.exposed={});_e.forEach(et=>{Object.defineProperty(Ve,et,{get:()=>n[et],set:Ut=>n[et]=Ut})})}else e.exposed||(e.exposed={});j&&e.render===Hn&&(e.render=j),ce!=null&&(e.inheritAttrs=ce),Z&&(e.components=Z),de&&(e.directives=de),ue&&lc(e)}function Vd(e,t,n=Hn){Ke(e)&&(e=ca(e));for(const o in e){const s=e[o];let a;wt(s)?"default"in s?a=En(s.from||o,s.default,!0):a=En(s.from||o):a=En(s),Nt(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[o]=a}}function gu(e,t,n){Pn(Ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function vc(e,t,n,o){let s=o.includes(".")?kc(n,o):()=>n[o];if(Rt(e)){const a=t[e];ze(a)&&Wn(s,a)}else if(ze(e))Wn(s,e.bind(n));else if(wt(e))if(Ke(e))e.forEach(a=>vc(a,t,n,o));else{const a=ze(e.handler)?e.handler.bind(n):t[e.handler];ze(a)&&Wn(s,a,e)}}function yc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,l=a.get(t);let d;return l?d=l:!s.length&&!n&&!o?d=t:(d={},s.length&&s.forEach(v=>Hi(d,v,c,!0)),Hi(d,t,c)),wt(t)&&a.set(t,d),d}function Hi(e,t,n,o=!1){const{mixins:s,extends:a}=t;a&&Hi(e,a,n,!0),s&&s.forEach(c=>Hi(e,c,n,!0));for(const c in t)if(!(o&&c==="expose")){const l=Hd[c]||n&&n[c];e[c]=l?l(e[c],t[c]):t[c]}return e}const Hd={data:_u,props:bu,emits:bu,methods:Ro,computed:Ro,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:Ro,directives:Ro,watch:zd,provide:_u,inject:Wd};function _u(e,t){return t?e?function(){return Wt(ze(e)?e.call(this,this):e,ze(t)?t.call(this,this):t)}:t:e}function Wd(e,t){return Ro(ca(e),ca(t))}function ca(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function on(e,t){return e?[...new Set([].concat(e,t))]:t}function Ro(e,t){return e?Wt(Object.create(null),e,t):t}function bu(e,t){return e?Ke(e)&&Ke(t)?[...new Set([...e,...t])]:Wt(Object.create(null),yu(e),yu(t??{})):t}function zd(e,t){if(!e)return t;if(!t)return e;const n=Wt(Object.create(null),e);for(const o in t)n[o]=on(e[o],t[o]);return n}function gc(){return{app:null,config:{isNativeTag:Nf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yd=0;function Gd(e,t){return function(o,s=null){ze(o)||(o=Wt({},o)),s!=null&&!wt(s)&&(s=null);const a=gc(),c=new WeakSet,l=[];let d=!1;const v=a.app={_uid:Yd++,_component:o,_props:s,_container:null,_context:a,_instance:null,version:Rh,get config(){return a.config},set config(p){},use(p,...m){return c.has(p)||(p&&ze(p.install)?(c.add(p),p.install(v,...m)):ze(p)&&(c.add(p),p(v,...m))),v},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),v},component(p,m){return m?(a.components[p]=m,v):a.components[p]},directive(p,m){return m?(a.directives[p]=m,v):a.directives[p]},mount(p,m,_){if(!d){const C=v._ceVNode||Pe(o,s);return C.appContext=a,_===!0?_="svg":_===!1&&(_=void 0),e(C,p,_),d=!0,v._container=p,p.__vue_app__=v,is(C.component)}},onUnmount(p){l.push(p)},unmount(){d&&(Pn(l,v._instance,16),e(null,v._container),delete v._container.__vue_app__)},provide(p,m){return a.provides[p]=m,v},runWithContext(p){const m=Mr;Mr=v;try{return p()}finally{Mr=m}}};return v}}let Mr=null;function $i(e,t){if(Ht){let n=Ht.provides;const o=Ht.parent&&Ht.parent.provides;o===n&&(n=Ht.provides=Object.create(o)),n[e]=t}}function En(e,t,n=!1){const o=Ht||Kt;if(o||Mr){const s=Mr?Mr._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ze(t)?t.call(o&&o.proxy):t}}function Qd(){return!!(Ht||Kt||Mr)}const _c={},bc=()=>Object.create(_c),wc=e=>Object.getPrototypeOf(e)===_c;function Jd(e,t,n,o=!1){const s={},a=bc();e.propsDefaults=Object.create(null),Sc(e,t,s,a);for(const c in e.propsOptions[0])c in s||(s[c]=void 0);n?e.props=o?s:Yl(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function Xd(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:c}}=e,l=pt(s),[d]=e.propsOptions;let v=!1;if((o||c>0)&&!(c&16)){if(c&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let _=p[m];if(rs(e.emitsOptions,_))continue;const C=t[_];if(d)if(_t(a,_))C!==a[_]&&(a[_]=C,v=!0);else{const H=bn(_);s[H]=fa(d,l,H,C,e,!1)}else C!==a[_]&&(a[_]=C,v=!0)}}}else{Sc(e,t,s,a)&&(v=!0);let p;for(const m in l)(!t||!_t(t,m)&&((p=Fr(m))===m||!_t(t,p)))&&(d?n&&(n[m]!==void 0||n[p]!==void 0)&&(s[m]=fa(d,l,m,void 0,e,!0)):delete s[m]);if(a!==l)for(const m in a)(!t||!_t(t,m))&&(delete a[m],v=!0)}v&&er(e.attrs,"set","")}function Sc(e,t,n,o){const[s,a]=e.propsOptions;let c=!1,l;if(t)for(let d in t){if(Oo(d))continue;const v=t[d];let p;s&&_t(s,p=bn(d))?!a||!a.includes(p)?n[p]=v:(l||(l={}))[p]=v:rs(e.emitsOptions,d)||(!(d in o)||v!==o[d])&&(o[d]=v,c=!0)}if(a){const d=pt(n),v=l||bt;for(let p=0;p<a.length;p++){const m=a[p];n[m]=fa(s,d,m,v[m],e,!_t(v,m))}}return c}function fa(e,t,n,o,s,a){const c=e[n];if(c!=null){const l=_t(c,"default");if(l&&o===void 0){const d=c.default;if(c.type!==Function&&!c.skipFactory&&ze(d)){const{propsDefaults:v}=s;if(n in v)o=v[n];else{const p=ri(s);o=v[n]=d.call(null,t),p()}}else o=d;s.ce&&s.ce._setProp(n,o)}c[0]&&(a&&!l?o=!1:c[1]&&(o===""||o===Fr(n))&&(o=!0))}return o}const Zd=new WeakMap;function Cc(e,t,n=!1){const o=n?Zd:t.propsCache,s=o.get(e);if(s)return s;const a=e.props,c={},l=[];let d=!1;if(!ze(e)){const p=m=>{d=!0;const[_,C]=Cc(m,t,!0);Wt(c,_),C&&l.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!a&&!d)return wt(e)&&o.set(e,no),no;if(Ke(a))for(let p=0;p<a.length;p++){const m=bn(a[p]);wu(m)&&(c[m]=bt)}else if(a)for(const p in a){const m=bn(p);if(wu(m)){const _=a[p],C=c[m]=Ke(_)||ze(_)?{type:_}:Wt({},_),H=C.type;let te=!1,Re=!0;if(Ke(H))for(let W=0;W<H.length;++W){const z=H[W],le=ze(z)&&z.name;if(le==="Boolean"){te=!0;break}else le==="String"&&(Re=!1)}else te=ze(H)&&H.name==="Boolean";C[0]=te,C[1]=Re,(te||_t(C,"default"))&&l.push(m)}}const v=[c,l];return wt(e)&&o.set(e,v),v}function wu(e){return e[0]!=="$"&&!Oo(e)}const xc=e=>e[0]==="_"||e==="$stable",La=e=>Ke(e)?e.map(Vn):[Vn(e)],eh=(e,t,n)=>{if(t._n)return t;const o=Le((...s)=>La(t(...s)),n);return o._c=!1,o},Ec=(e,t,n)=>{const o=e._ctx;for(const s in e){if(xc(s))continue;const a=e[s];if(ze(a))t[s]=eh(s,a,o);else if(a!=null){const c=La(a);t[s]=()=>c}}},Ic=(e,t)=>{const n=La(t);e.slots.default=()=>n},Tc=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},th=(e,t,n)=>{const o=e.slots=bc();if(e.vnode.shapeFlag&32){const s=t._;s?(Tc(o,t,n),n&&Tl(o,"_",s,!0)):Ec(t,o)}else t&&Ic(e,t)},nh=(e,t,n)=>{const{vnode:o,slots:s}=e;let a=!0,c=bt;if(o.shapeFlag&32){const l=t._;l?n&&l===1?a=!1:Tc(s,t,n):(a=!t.$stable,Ec(t,s)),c=t}else t&&(Ic(e,t),c={default:1});if(a)for(const l in s)!xc(l)&&c[l]==null&&delete s[l]},dn=vh;function rh(e){return oh(e)}function oh(e,t){const n=Qi();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:c,createText:l,createComment:d,setText:v,setElementText:p,parentNode:m,nextSibling:_,setScopeId:C=Hn,insertStaticContent:H}=e,te=(S,E,K,Y=null,oe=null,ne=null,Te=void 0,Ce=null,ye=!!E.dynamicChildren)=>{if(S===E)return;S&&!Nr(S,E)&&(Y=ee(S),Ft(S,oe,ne,!0),S=null),E.patchFlag===-2&&(ye=!1,E.dynamicChildren=null);const{type:ie,ref:je,shapeFlag:Ae}=E;switch(ie){case os:Re(S,E,K,Y);break;case un:W(S,E,K,Y);break;case Hs:S==null&&z(E,K,Y,Te);break;case lt:Z(S,E,K,Y,oe,ne,Te,Ce,ye);break;default:Ae&1?j(S,E,K,Y,oe,ne,Te,Ce,ye):Ae&6?de(S,E,K,Y,oe,ne,Te,Ce,ye):(Ae&64||Ae&128)&&ie.process(S,E,K,Y,oe,ne,Te,Ce,ye,Me)}je!=null&&oe&&Vi(je,S&&S.ref,ne,E||S,!E)},Re=(S,E,K,Y)=>{if(S==null)o(E.el=l(E.children),K,Y);else{const oe=E.el=S.el;E.children!==S.children&&v(oe,E.children)}},W=(S,E,K,Y)=>{S==null?o(E.el=d(E.children||""),K,Y):E.el=S.el},z=(S,E,K,Y)=>{[S.el,S.anchor]=H(S.children,E,K,Y,S.el,S.anchor)},le=({el:S,anchor:E},K,Y)=>{let oe;for(;S&&S!==E;)oe=_(S),o(S,K,Y),S=oe;o(E,K,Y)},re=({el:S,anchor:E})=>{let K;for(;S&&S!==E;)K=_(S),s(S),S=K;s(E)},j=(S,E,K,Y,oe,ne,Te,Ce,ye)=>{E.type==="svg"?Te="svg":E.type==="math"&&(Te="mathml"),S==null?Se(E,K,Y,oe,ne,Te,Ce,ye):ue(S,E,oe,ne,Te,Ce,ye)},Se=(S,E,K,Y,oe,ne,Te,Ce)=>{let ye,ie;const{props:je,shapeFlag:Ae,transition:Fe,dirs:Ue}=S;if(ye=S.el=c(S.type,ne,je&&je.is,je),Ae&8?p(ye,S.children):Ae&16&&ge(S.children,ye,null,Y,oe,Vs(S,ne),Te,Ce),Ue&&Rr(S,null,Y,"created"),se(ye,S,S.scopeId,Te,Y),je){for(const ot in je)ot!=="value"&&!Oo(ot)&&a(ye,ot,null,je[ot],ne,Y);"value"in je&&a(ye,"value",null,je.value,ne),(ie=je.onVnodeBeforeMount)&&Un(ie,Y,S)}Ue&&Rr(S,null,Y,"beforeMount");const We=ih(oe,Fe);We&&Fe.beforeEnter(ye),o(ye,E,K),((ie=je&&je.onVnodeMounted)||We||Ue)&&dn(()=>{ie&&Un(ie,Y,S),We&&Fe.enter(ye),Ue&&Rr(S,null,Y,"mounted")},oe)},se=(S,E,K,Y,oe)=>{if(K&&C(S,K),Y)for(let ne=0;ne<Y.length;ne++)C(S,Y[ne]);if(oe){let ne=oe.subTree;if(E===ne||Dc(ne.type)&&(ne.ssContent===E||ne.ssFallback===E)){const Te=oe.vnode;se(S,Te,Te.scopeId,Te.slotScopeIds,oe.parent)}}},ge=(S,E,K,Y,oe,ne,Te,Ce,ye=0)=>{for(let ie=ye;ie<S.length;ie++){const je=S[ie]=Ce?vr(S[ie]):Vn(S[ie]);te(null,je,E,K,Y,oe,ne,Te,Ce)}},ue=(S,E,K,Y,oe,ne,Te)=>{const Ce=E.el=S.el;let{patchFlag:ye,dynamicChildren:ie,dirs:je}=E;ye|=S.patchFlag&16;const Ae=S.props||bt,Fe=E.props||bt;let Ue;if(K&&kr(K,!1),(Ue=Fe.onVnodeBeforeUpdate)&&Un(Ue,K,E,S),je&&Rr(E,S,K,"beforeUpdate"),K&&kr(K,!0),(Ae.innerHTML&&Fe.innerHTML==null||Ae.textContent&&Fe.textContent==null)&&p(Ce,""),ie?_e(S.dynamicChildren,ie,Ce,K,Y,Vs(E,oe),ne):Te||et(S,E,Ce,null,K,Y,Vs(E,oe),ne,!1),ye>0){if(ye&16)ce(Ce,Ae,Fe,K,oe);else if(ye&2&&Ae.class!==Fe.class&&a(Ce,"class",null,Fe.class,oe),ye&4&&a(Ce,"style",Ae.style,Fe.style,oe),ye&8){const We=E.dynamicProps;for(let ot=0;ot<We.length;ot++){const at=We[ot],At=Ae[at],Ot=Fe[at];(Ot!==At||at==="value")&&a(Ce,at,At,Ot,oe,K)}}ye&1&&S.children!==E.children&&p(Ce,E.children)}else!Te&&ie==null&&ce(Ce,Ae,Fe,K,oe);((Ue=Fe.onVnodeUpdated)||je)&&dn(()=>{Ue&&Un(Ue,K,E,S),je&&Rr(E,S,K,"updated")},Y)},_e=(S,E,K,Y,oe,ne,Te)=>{for(let Ce=0;Ce<E.length;Ce++){const ye=S[Ce],ie=E[Ce],je=ye.el&&(ye.type===lt||!Nr(ye,ie)||ye.shapeFlag&70)?m(ye.el):K;te(ye,ie,je,null,Y,oe,ne,Te,!0)}},ce=(S,E,K,Y,oe)=>{if(E!==K){if(E!==bt)for(const ne in E)!Oo(ne)&&!(ne in K)&&a(S,ne,E[ne],null,oe,Y);for(const ne in K){if(Oo(ne))continue;const Te=K[ne],Ce=E[ne];Te!==Ce&&ne!=="value"&&a(S,ne,Ce,Te,oe,Y)}"value"in K&&a(S,"value",E.value,K.value,oe)}},Z=(S,E,K,Y,oe,ne,Te,Ce,ye)=>{const ie=E.el=S?S.el:l(""),je=E.anchor=S?S.anchor:l("");let{patchFlag:Ae,dynamicChildren:Fe,slotScopeIds:Ue}=E;Ue&&(Ce=Ce?Ce.concat(Ue):Ue),S==null?(o(ie,K,Y),o(je,K,Y),ge(E.children||[],K,je,oe,ne,Te,Ce,ye)):Ae>0&&Ae&64&&Fe&&S.dynamicChildren?(_e(S.dynamicChildren,Fe,K,oe,ne,Te,Ce),(E.key!=null||oe&&E===oe.subTree)&&Ac(S,E,!0)):et(S,E,K,je,oe,ne,Te,Ce,ye)},de=(S,E,K,Y,oe,ne,Te,Ce,ye)=>{E.slotScopeIds=Ce,S==null?E.shapeFlag&512?oe.ctx.activate(E,K,Y,Te,ye):He(E,K,Y,oe,ne,Te,ye):ct(S,E,ye)},He=(S,E,K,Y,oe,ne,Te)=>{const Ce=S.component=Sh(S,Y,oe);if(es(S)&&(Ce.ctx.renderer=Me),xh(Ce,!1,Te),Ce.asyncDep){if(oe&&oe.registerDep(Ce,Ge,Te),!S.el){const ye=Ce.subTree=Pe(un);W(null,ye,E,K)}}else Ge(Ce,S,E,K,oe,ne,Te)},ct=(S,E,K)=>{const Y=E.component=S.component;if(ph(S,E,K))if(Y.asyncDep&&!Y.asyncResolved){Ve(Y,E,K);return}else Y.next=E,Y.update();else E.el=S.el,Y.vnode=E},Ge=(S,E,K,Y,oe,ne,Te)=>{const Ce=()=>{if(S.isMounted){let{next:Ae,bu:Fe,u:Ue,parent:We,vnode:ot}=S;{const Dt=Pc(S);if(Dt){Ae&&(Ae.el=ot.el,Ve(S,Ae,Te)),Dt.asyncDep.then(()=>{S.isUnmounted||Ce()});return}}let at=Ae,At;kr(S,!1),Ae?(Ae.el=ot.el,Ve(S,Ae,Te)):Ae=ot,Fe&&Di(Fe),(At=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Un(At,We,Ae,ot),kr(S,!0);const Ot=Cu(S),qt=S.subTree;S.subTree=Ot,te(qt,Ot,m(qt.el),ee(qt),S,oe,ne),Ae.el=Ot.el,at===null&&mh(S,Ot.el),Ue&&dn(Ue,oe),(At=Ae.props&&Ae.props.onVnodeUpdated)&&dn(()=>Un(At,We,Ae,ot),oe)}else{let Ae;const{el:Fe,props:Ue}=E,{bm:We,m:ot,parent:at,root:At,type:Ot}=S,qt=io(E);kr(S,!1),We&&Di(We),!qt&&(Ae=Ue&&Ue.onVnodeBeforeMount)&&Un(Ae,at,E),kr(S,!0);{At.ce&&At.ce._injectChildStyle(Ot);const Dt=S.subTree=Cu(S);te(null,Dt,K,Y,S,oe,ne),E.el=Dt.el}if(ot&&dn(ot,oe),!qt&&(Ae=Ue&&Ue.onVnodeMounted)){const Dt=E;dn(()=>Un(Ae,at,Dt),oe)}(E.shapeFlag&256||at&&io(at.vnode)&&at.vnode.shapeFlag&256)&&S.a&&dn(S.a,oe),S.isMounted=!0,E=K=Y=null}};S.scope.on();const ye=S.effect=new $l(Ce);S.scope.off();const ie=S.update=ye.run.bind(ye),je=S.job=ye.runIfDirty.bind(ye);je.i=S,je.id=S.uid,ye.scheduler=()=>Ba(je),kr(S,!0),ie()},Ve=(S,E,K)=>{E.component=S;const Y=S.vnode.props;S.vnode=E,S.next=null,Xd(S,E.props,Y,K),nh(S,E.children,K),Cr(),pu(S),xr()},et=(S,E,K,Y,oe,ne,Te,Ce,ye=!1)=>{const ie=S&&S.children,je=S?S.shapeFlag:0,Ae=E.children,{patchFlag:Fe,shapeFlag:Ue}=E;if(Fe>0){if(Fe&128){Mt(ie,Ae,K,Y,oe,ne,Te,Ce,ye);return}else if(Fe&256){Ut(ie,Ae,K,Y,oe,ne,Te,Ce,ye);return}}Ue&8?(je&16&&kt(ie,oe,ne),Ae!==ie&&p(K,Ae)):je&16?Ue&16?Mt(ie,Ae,K,Y,oe,ne,Te,Ce,ye):kt(ie,oe,ne,!0):(je&8&&p(K,""),Ue&16&&ge(Ae,K,Y,oe,ne,Te,Ce,ye))},Ut=(S,E,K,Y,oe,ne,Te,Ce,ye)=>{S=S||no,E=E||no;const ie=S.length,je=E.length,Ae=Math.min(ie,je);let Fe;for(Fe=0;Fe<Ae;Fe++){const Ue=E[Fe]=ye?vr(E[Fe]):Vn(E[Fe]);te(S[Fe],Ue,K,null,oe,ne,Te,Ce,ye)}ie>je?kt(S,oe,ne,!0,!1,Ae):ge(E,K,Y,oe,ne,Te,Ce,ye,Ae)},Mt=(S,E,K,Y,oe,ne,Te,Ce,ye)=>{let ie=0;const je=E.length;let Ae=S.length-1,Fe=je-1;for(;ie<=Ae&&ie<=Fe;){const Ue=S[ie],We=E[ie]=ye?vr(E[ie]):Vn(E[ie]);if(Nr(Ue,We))te(Ue,We,K,null,oe,ne,Te,Ce,ye);else break;ie++}for(;ie<=Ae&&ie<=Fe;){const Ue=S[Ae],We=E[Fe]=ye?vr(E[Fe]):Vn(E[Fe]);if(Nr(Ue,We))te(Ue,We,K,null,oe,ne,Te,Ce,ye);else break;Ae--,Fe--}if(ie>Ae){if(ie<=Fe){const Ue=Fe+1,We=Ue<je?E[Ue].el:Y;for(;ie<=Fe;)te(null,E[ie]=ye?vr(E[ie]):Vn(E[ie]),K,We,oe,ne,Te,Ce,ye),ie++}}else if(ie>Fe)for(;ie<=Ae;)Ft(S[ie],oe,ne,!0),ie++;else{const Ue=ie,We=ie,ot=new Map;for(ie=We;ie<=Fe;ie++){const It=E[ie]=ye?vr(E[ie]):Vn(E[ie]);It.key!=null&&ot.set(It.key,ie)}let at,At=0;const Ot=Fe-We+1;let qt=!1,Dt=0;const ln=new Array(Ot);for(ie=0;ie<Ot;ie++)ln[ie]=0;for(ie=Ue;ie<=Ae;ie++){const It=S[ie];if(At>=Ot){Ft(It,oe,ne,!0);continue}let Oe;if(It.key!=null)Oe=ot.get(It.key);else for(at=We;at<=Fe;at++)if(ln[at-We]===0&&Nr(It,E[at])){Oe=at;break}Oe===void 0?Ft(It,oe,ne,!0):(ln[Oe-We]=ie+1,Oe>=Dt?Dt=Oe:qt=!0,te(It,E[Oe],K,null,oe,ne,Te,Ce,ye),At++)}const On=qt?sh(ln):no;for(at=On.length-1,ie=Ot-1;ie>=0;ie--){const It=We+ie,Oe=E[It],vn=It+1<je?E[It+1].el:Y;ln[ie]===0?te(null,Oe,K,vn,oe,ne,Te,Ce,ye):qt&&(at<0||ie!==On[at]?Et(Oe,K,vn,2):at--)}}},Et=(S,E,K,Y,oe=null)=>{const{el:ne,type:Te,transition:Ce,children:ye,shapeFlag:ie}=S;if(ie&6){Et(S.component.subTree,E,K,Y);return}if(ie&128){S.suspense.move(E,K,Y);return}if(ie&64){Te.move(S,E,K,Me);return}if(Te===lt){o(ne,E,K);for(let Ae=0;Ae<ye.length;Ae++)Et(ye[Ae],E,K,Y);o(S.anchor,E,K);return}if(Te===Hs){le(S,E,K);return}if(Y!==2&&ie&1&&Ce)if(Y===0)Ce.beforeEnter(ne),o(ne,E,K),dn(()=>Ce.enter(ne),oe);else{const{leave:Ae,delayLeave:Fe,afterLeave:Ue}=Ce,We=()=>o(ne,E,K),ot=()=>{Ae(ne,()=>{We(),Ue&&Ue()})};Fe?Fe(ne,We,ot):ot()}else o(ne,E,K)},Ft=(S,E,K,Y=!1,oe=!1)=>{const{type:ne,props:Te,ref:Ce,children:ye,dynamicChildren:ie,shapeFlag:je,patchFlag:Ae,dirs:Fe,cacheIndex:Ue}=S;if(Ae===-2&&(oe=!1),Ce!=null&&Vi(Ce,null,K,S,!0),Ue!=null&&(E.renderCache[Ue]=void 0),je&256){E.ctx.deactivate(S);return}const We=je&1&&Fe,ot=!io(S);let at;if(ot&&(at=Te&&Te.onVnodeBeforeUnmount)&&Un(at,E,S),je&6)Sn(S.component,K,Y);else{if(je&128){S.suspense.unmount(K,Y);return}We&&Rr(S,null,E,"beforeUnmount"),je&64?S.type.remove(S,E,K,Me,Y):ie&&!ie.hasOnce&&(ne!==lt||Ae>0&&Ae&64)?kt(ie,E,K,!1,!0):(ne===lt&&Ae&384||!oe&&je&16)&&kt(ye,E,K),Y&&en(S)}(ot&&(at=Te&&Te.onVnodeUnmounted)||We)&&dn(()=>{at&&Un(at,E,S),We&&Rr(S,null,E,"unmounted")},K)},en=S=>{const{type:E,el:K,anchor:Y,transition:oe}=S;if(E===lt){wn(K,Y);return}if(E===Hs){re(S);return}const ne=()=>{s(K),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(S.shapeFlag&1&&oe&&!oe.persisted){const{leave:Te,delayLeave:Ce}=oe,ye=()=>Te(K,ne);Ce?Ce(S.el,ne,ye):ye()}else ne()},wn=(S,E)=>{let K;for(;S!==E;)K=_(S),s(S),S=K;s(E)},Sn=(S,E,K)=>{const{bum:Y,scope:oe,job:ne,subTree:Te,um:Ce,m:ye,a:ie}=S;Su(ye),Su(ie),Y&&Di(Y),oe.stop(),ne&&(ne.flags|=8,Ft(Te,S,E,K)),Ce&&dn(Ce,E),dn(()=>{S.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},kt=(S,E,K,Y=!1,oe=!1,ne=0)=>{for(let Te=ne;Te<S.length;Te++)Ft(S[Te],E,K,Y,oe)},ee=S=>{if(S.shapeFlag&6)return ee(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const E=_(S.anchor||S.el),K=E&&E[Td];return K?_(K):E};let De=!1;const G=(S,E,K)=>{S==null?E._vnode&&Ft(E._vnode,null,null,!0):te(E._vnode||null,S,E,null,null,null,K),E._vnode=S,De||(De=!0,pu(),ec(),De=!1)},Me={p:te,um:Ft,m:Et,r:en,mt:He,mc:ge,pc:et,pbc:_e,n:ee,o:e};return{render:G,hydrate:void 0,createApp:Gd(G)}}function Vs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function kr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ih(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ac(e,t,n=!1){const o=e.children,s=t.children;if(Ke(o)&&Ke(s))for(let a=0;a<o.length;a++){const c=o[a];let l=s[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[a]=vr(s[a]),l.el=c.el),!n&&l.patchFlag!==-2&&Ac(c,l)),l.type===os&&(l.el=c.el)}}function sh(e){const t=e.slice(),n=[0];let o,s,a,c,l;const d=e.length;for(o=0;o<d;o++){const v=e[o];if(v!==0){if(s=n[n.length-1],e[s]<v){t[o]=s,n.push(o);continue}for(a=0,c=n.length-1;a<c;)l=a+c>>1,e[n[l]]<v?a=l+1:c=l;v<e[n[a]]&&(a>0&&(t[o]=n[a-1]),n[a]=o)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function Pc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pc(t)}function Su(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ah=Symbol.for("v-scx"),uh=()=>En(ah);function Wn(e,t,n){return Rc(e,t,n)}function Rc(e,t,n=bt){const{immediate:o,deep:s,flush:a,once:c}=n,l=Wt({},n),d=t&&o||!t&&a!=="post";let v;if(Wo){if(a==="sync"){const C=uh();v=C.__watcherHandles||(C.__watcherHandles=[])}else if(!d){const C=()=>{};return C.stop=Hn,C.resume=Hn,C.pause=Hn,C}}const p=Ht;l.call=(C,H,te)=>Pn(C,p,H,te);let m=!1;a==="post"?l.scheduler=C=>{dn(C,p&&p.suspense)}:a!=="sync"&&(m=!0,l.scheduler=(C,H)=>{H?C():Ba(C)}),l.augmentJob=C=>{t&&(C.flags|=4),m&&(C.flags|=2,p&&(C.id=p.uid,C.i=p))};const _=Cd(e,t,l);return Wo&&(v?v.push(_):d&&_()),_}function lh(e,t,n){const o=this.proxy,s=Rt(e)?e.includes(".")?kc(o,e):()=>o[e]:e.bind(o,o);let a;ze(t)?a=t:(a=t.handler,n=t);const c=ri(this),l=Rc(s,a.bind(o),n);return c(),l}function kc(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const ch=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bn(t)}Modifiers`]||e[`${Fr(t)}Modifiers`];function fh(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||bt;let s=n;const a=t.startsWith("update:"),c=a&&ch(o,t.slice(7));c&&(c.trim&&(s=n.map(p=>Rt(p)?p.trim():p)),c.number&&(s=n.map(Fi)));let l,d=o[l=Ms(t)]||o[l=Ms(bn(t))];!d&&a&&(d=o[l=Ms(Fr(t))]),d&&Pn(d,e,6,s);const v=o[l+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Pn(v,e,6,s)}}function Oc(e,t,n=!1){const o=t.emitsCache,s=o.get(e);if(s!==void 0)return s;const a=e.emits;let c={},l=!1;if(!ze(e)){const d=v=>{const p=Oc(v,t,!0);p&&(l=!0,Wt(c,p))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!a&&!l?(wt(e)&&o.set(e,null),null):(Ke(a)?a.forEach(d=>c[d]=null):Wt(c,a),wt(e)&&o.set(e,c),c)}function rs(e,t){return!e||!zi(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(e,t[0].toLowerCase()+t.slice(1))||_t(e,Fr(t))||_t(e,t))}function Cu(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[a],slots:c,attrs:l,emit:d,render:v,renderCache:p,props:m,data:_,setupState:C,ctx:H,inheritAttrs:te}=e,Re=qi(e);let W,z;try{if(n.shapeFlag&4){const re=s||o,j=re;W=Vn(v.call(j,re,p,m,C,_,H)),z=l}else{const re=t;W=Vn(re.length>1?re(m,{attrs:l,slots:c,emit:d}):re(m,null)),z=t.props?l:dh(l)}}catch(re){Bo.length=0,Xi(re,e,1),W=Pe(un)}let le=W;if(z&&te!==!1){const re=Object.keys(z),{shapeFlag:j}=le;re.length&&j&7&&(a&&re.some(Ca)&&(z=hh(z,a)),le=Sr(le,z,!1,!0))}return n.dirs&&(le=Sr(le,null,!1,!0),le.dirs=le.dirs?le.dirs.concat(n.dirs):n.dirs),n.transition&&qo(le,n.transition),W=le,qi(Re),W}const dh=e=>{let t;for(const n in e)(n==="class"||n==="style"||zi(n))&&((t||(t={}))[n]=e[n]);return t},hh=(e,t)=>{const n={};for(const o in e)(!Ca(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function ph(e,t,n){const{props:o,children:s,component:a}=e,{props:c,children:l,patchFlag:d}=t,v=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return o?xu(o,c,v):!!c;if(d&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const _=p[m];if(c[_]!==o[_]&&!rs(v,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:o===c?!1:o?c?xu(o,c,v):!0:!!c;return!1}function xu(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const a=o[s];if(t[a]!==e[a]&&!rs(n,a))return!0}return!1}function mh({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Dc=e=>e.__isSuspense;function vh(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):Id(e)}const lt=Symbol.for("v-fgt"),os=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),Bo=[];let pn=null;function Q(e=!1){Bo.push(pn=e?null:[])}function yh(){Bo.pop(),pn=Bo[Bo.length-1]||null}let Vo=1;function Eu(e,t=!1){Vo+=e,e<0&&pn&&t&&(pn.hasOnce=!0)}function $c(e){return e.dynamicChildren=Vo>0?pn||no:null,yh(),Vo>0&&pn&&pn.push(e),e}function fe(e,t,n,o,s,a){return $c(R(e,t,n,o,s,a,!0))}function vt(e,t,n,o,s){return $c(Pe(e,t,n,o,s,!0))}function Ho(e){return e?e.__v_isVNode===!0:!1}function Nr(e,t){return e.type===t.type&&e.key===t.key}const Nc=({key:e})=>e??null,Ni=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Rt(e)||Nt(e)||ze(e)?{i:Kt,r:e,k:t,f:!!n}:e:null);function R(e,t=null,n=null,o=0,s=null,a=e===lt?0:1,c=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nc(t),ref:t&&Ni(t),scopeId:nc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Kt};return l?(Fa(d,n),a&128&&e.normalize(d)):n&&(d.shapeFlag|=Rt(n)?8:16),Vo>0&&!c&&pn&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&pn.push(d),d}const Pe=gh;function gh(e,t=null,n=null,o=0,s=null,a=!1){if((!e||e===hc)&&(e=un),Ho(e)){const l=Sr(e,t,!0);return n&&Fa(l,n),Vo>0&&!a&&pn&&(l.shapeFlag&6?pn[pn.indexOf(e)]=l:pn.push(l)),l.patchFlag=-2,l}if(Ph(e)&&(e=e.__vccOpts),t){t=_h(t);let{class:l,style:d}=t;l&&!Rt(l)&&(t.class=mn(l)),wt(d)&&($a(d)&&!Ke(d)&&(d=Wt({},d)),t.style=Ia(d))}const c=Rt(e)?1:Dc(e)?128:rc(e)?64:wt(e)?4:ze(e)?2:0;return R(e,t,n,o,s,c,a,!0)}function _h(e){return e?$a(e)||wc(e)?Wt({},e):e:null}function Sr(e,t,n=!1,o=!1){const{props:s,ref:a,patchFlag:c,children:l,transition:d}=e,v=t?Bc(s||{},t):s,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&Nc(v),ref:t&&t.ref?n&&a?Ke(a)?a.concat(Ni(t)):[a,Ni(t)]:Ni(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sr(e.ssContent),ssFallback:e.ssFallback&&Sr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&qo(p,d.clone(p)),p}function jt(e=" ",t=0){return Pe(os,null,e,t)}function ft(e="",t=!1){return t?(Q(),vt(un,null,e)):Pe(un,null,e)}function Vn(e){return e==null||typeof e=="boolean"?Pe(un):Ke(e)?Pe(lt,null,e.slice()):Ho(e)?vr(e):Pe(os,null,String(e))}function vr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Sr(e)}function Fa(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ke(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),Fa(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!wc(t)?t._ctx=Kt:s===3&&Kt&&(Kt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ze(t)?(t={default:t,_ctx:Kt},n=32):(t=String(t),o&64?(n=16,t=[jt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bc(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=mn([t.class,o.class]));else if(s==="style")t.style=Ia([t.style,o.style]);else if(zi(s)){const a=t[s],c=o[s];c&&a!==c&&!(Ke(a)&&a.includes(c))&&(t[s]=a?[].concat(a,c):c)}else s!==""&&(t[s]=o[s])}return t}function Un(e,t,n,o=null){Pn(e,t,7,[n,o])}const bh=gc();let wh=0;function Sh(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||bh,a={uid:wh++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cc(o,s),emitsOptions:Oc(o,s),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:o.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=fh.bind(null,a),e.ce&&e.ce(a),a}let Ht=null;const Ch=()=>Ht||Kt;let Wi,da;{const e=Qi(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),a=>{s.length>1?s.forEach(c=>c(a)):s[0](a)}};Wi=t("__VUE_INSTANCE_SETTERS__",n=>Ht=n),da=t("__VUE_SSR_SETTERS__",n=>Wo=n)}const ri=e=>{const t=Ht;return Wi(e),e.scope.on(),()=>{e.scope.off(),Wi(t)}},Iu=()=>{Ht&&Ht.scope.off(),Wi(null)};function Mc(e){return e.vnode.shapeFlag&4}let Wo=!1;function xh(e,t=!1,n=!1){t&&da(t);const{props:o,children:s}=e.vnode,a=Mc(e);Jd(e,o,a,t),th(e,s,n);const c=a?Eh(e,t):void 0;return t&&da(!1),c}function Eh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ud);const{setup:o}=n;if(o){Cr();const s=e.setupContext=o.length>1?Th(e):null,a=ri(e),c=ni(o,e,0,[e.props,s]),l=xl(c);if(xr(),a(),(l||e.sp)&&!io(e)&&lc(e),l){if(c.then(Iu,Iu),t)return c.then(d=>{Tu(e,d)}).catch(d=>{Xi(d,e,0)});e.asyncDep=c}else Tu(e,c)}else Lc(e)}function Tu(e,t,n){ze(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=Jl(t)),Lc(e)}function Lc(e,t,n){const o=e.type;e.render||(e.render=o.render||Hn);{const s=ri(e);Cr();try{qd(e)}finally{xr(),s()}}}const Ih={get(e,t){return Xt(e,"get",""),e[t]}};function Th(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ih),slots:e.slots,emit:e.emit,expose:t}}function is(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jl(Na(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in No)return No[n](e)},has(t,n){return n in t||n in No}})):e.proxy}function Ah(e,t=!0){return ze(e)?e.displayName||e.name:e.name||t&&e.__name}function Ph(e){return ze(e)&&"__vccOpts"in e}const st=(e,t)=>wd(e,t,Wo);function ja(e,t,n){const o=arguments.length;return o===2?wt(t)&&!Ke(t)?Ho(t)?Pe(e,null,[t]):Pe(e,t):Pe(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ho(n)&&(n=[n]),Pe(e,t,n))}const Rh="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ha;const Au=typeof window<"u"&&window.trustedTypes;if(Au)try{ha=Au.createPolicy("vue",{createHTML:e=>e})}catch{}const Fc=ha?e=>ha.createHTML(e):e=>e,kh="http://www.w3.org/2000/svg",Oh="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,Pu=Zn&&Zn.createElement("template"),Dh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?Zn.createElementNS(kh,e):t==="mathml"?Zn.createElementNS(Oh,e):n?Zn.createElement(e,{is:n}):Zn.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>Zn.createTextNode(e),createComment:e=>Zn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,a){const c=n?n.previousSibling:t.lastChild;if(s&&(s===a||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{Pu.innerHTML=Fc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Pu.content;if(o==="svg"||o==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fr="transition",Ao="animation",zo=Symbol("_vtc"),jc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$h=Wt({},oc,jc),Nh=e=>(e.displayName="Transition",e.props=$h,e),Kc=Nh((e,{slots:t})=>ja(Rd,Bh(e),t)),Or=(e,t=[])=>{Ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ru=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function Bh(e){const t={};for(const Z in e)Z in jc||(t[Z]=e[Z]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:d=a,appearActiveClass:v=c,appearToClass:p=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=e,H=Mh(s),te=H&&H[0],Re=H&&H[1],{onBeforeEnter:W,onEnter:z,onEnterCancelled:le,onLeave:re,onLeaveCancelled:j,onBeforeAppear:Se=W,onAppear:se=z,onAppearCancelled:ge=le}=t,ue=(Z,de,He,ct)=>{Z._enterCancelled=ct,Dr(Z,de?p:l),Dr(Z,de?v:c),He&&He()},_e=(Z,de)=>{Z._isLeaving=!1,Dr(Z,m),Dr(Z,C),Dr(Z,_),de&&de()},ce=Z=>(de,He)=>{const ct=Z?se:z,Ge=()=>ue(de,Z,He);Or(ct,[de,Ge]),ku(()=>{Dr(de,Z?d:a),Jn(de,Z?p:l),Ru(ct)||Ou(de,o,te,Ge)})};return Wt(t,{onBeforeEnter(Z){Or(W,[Z]),Jn(Z,a),Jn(Z,c)},onBeforeAppear(Z){Or(Se,[Z]),Jn(Z,d),Jn(Z,v)},onEnter:ce(!1),onAppear:ce(!0),onLeave(Z,de){Z._isLeaving=!0;const He=()=>_e(Z,de);Jn(Z,m),Z._enterCancelled?(Jn(Z,_),Nu()):(Nu(),Jn(Z,_)),ku(()=>{Z._isLeaving&&(Dr(Z,m),Jn(Z,C),Ru(re)||Ou(Z,o,Re,He))}),Or(re,[Z,He])},onEnterCancelled(Z){ue(Z,!1,void 0,!0),Or(le,[Z])},onAppearCancelled(Z){ue(Z,!0,void 0,!0),Or(ge,[Z])},onLeaveCancelled(Z){_e(Z),Or(j,[Z])}})}function Mh(e){if(e==null)return null;if(wt(e))return[Ws(e.enter),Ws(e.leave)];{const t=Ws(e);return[t,t]}}function Ws(e){return jf(e)}function Jn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[zo]||(e[zo]=new Set)).add(t)}function Dr(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[zo];n&&(n.delete(t),n.size||(e[zo]=void 0))}function ku(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Lh=0;function Ou(e,t,n,o){const s=e._endId=++Lh,a=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(a,n);const{type:c,timeout:l,propCount:d}=Fh(e,t);if(!c)return o();const v=c+"end";let p=0;const m=()=>{e.removeEventListener(v,_),a()},_=C=>{C.target===e&&++p>=d&&m()};setTimeout(()=>{p<d&&m()},l+1),e.addEventListener(v,_)}function Fh(e,t){const n=window.getComputedStyle(e),o=H=>(n[H]||"").split(", "),s=o(`${fr}Delay`),a=o(`${fr}Duration`),c=Du(s,a),l=o(`${Ao}Delay`),d=o(`${Ao}Duration`),v=Du(l,d);let p=null,m=0,_=0;t===fr?c>0&&(p=fr,m=c,_=a.length):t===Ao?v>0&&(p=Ao,m=v,_=d.length):(m=Math.max(c,v),p=m>0?c>v?fr:Ao:null,_=p?p===fr?a.length:d.length:0);const C=p===fr&&/\b(transform|all)(,|$)/.test(o(`${fr}Property`).toString());return{type:p,timeout:m,propCount:_,hasTransform:C}}function Du(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>$u(n)+$u(e[o])))}function $u(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Nu(){return document.body.offsetHeight}function jh(e,t,n){const o=e[zo];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bu=Symbol("_vod"),Kh=Symbol("_vsh"),Uh=Symbol(""),qh=/(^|;)\s*display\s*:/;function Vh(e,t,n){const o=e.style,s=Rt(n);let a=!1;if(n&&!s){if(t)if(Rt(t))for(const c of t.split(";")){const l=c.slice(0,c.indexOf(":")).trim();n[l]==null&&Bi(o,l,"")}else for(const c in t)n[c]==null&&Bi(o,c,"");for(const c in n)c==="display"&&(a=!0),Bi(o,c,n[c])}else if(s){if(t!==n){const c=o[Uh];c&&(n+=";"+c),o.cssText=n,a=qh.test(n)}}else t&&e.removeAttribute("style");Bu in e&&(e[Bu]=a?o.display:"",e[Kh]&&(o.display="none"))}const Mu=/\s*!important$/;function Bi(e,t,n){if(Ke(n))n.forEach(o=>Bi(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Hh(e,t);Mu.test(n)?e.setProperty(Fr(o),n.replace(Mu,""),"important"):e[o]=n}}const Lu=["Webkit","Moz","ms"],zs={};function Hh(e,t){const n=zs[t];if(n)return n;let o=bn(t);if(o!=="filter"&&o in e)return zs[t]=o;o=Gi(o);for(let s=0;s<Lu.length;s++){const a=Lu[s]+o;if(a in e)return zs[t]=a}return t}const Fu="http://www.w3.org/1999/xlink";function ju(e,t,n,o,s,a=Wf(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Fu,t.slice(6,t.length)):e.setAttributeNS(Fu,t,n):n==null||a&&!Al(n)?e.removeAttribute(t):e.setAttribute(t,a?"":An(n)?String(n):n)}function Ku(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Fc(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(l!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Al(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(s||t)}function gr(e,t,n,o){e.addEventListener(t,n,o)}function Wh(e,t,n,o){e.removeEventListener(t,n,o)}const Uu=Symbol("_vei");function zh(e,t,n,o,s=null){const a=e[Uu]||(e[Uu]={}),c=a[t];if(o&&c)c.value=o;else{const[l,d]=Yh(t);if(o){const v=a[t]=Jh(o,s);gr(e,l,v,d)}else c&&(Wh(e,l,c,d),a[t]=void 0)}}const qu=/(?:Once|Passive|Capture)$/;function Yh(e){let t;if(qu.test(e)){t={};let o;for(;o=e.match(qu);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fr(e.slice(2)),t]}let Ys=0;const Gh=Promise.resolve(),Qh=()=>Ys||(Gh.then(()=>Ys=0),Ys=Date.now());function Jh(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Pn(Xh(o,n.value),t,5,[o])};return n.value=e,n.attached=Qh(),n}function Xh(e,t){if(Ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Vu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Zh=(e,t,n,o,s,a)=>{const c=s==="svg";t==="class"?jh(e,o,c):t==="style"?Vh(e,n,o):zi(t)?Ca(t)||zh(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ep(e,t,o,c))?(Ku(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ju(e,t,o,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Rt(o))?Ku(e,bn(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),ju(e,t,o,c))};function ep(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Vu(t)&&ze(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Vu(t)&&Rt(n)?!1:t in e}const ao=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?n=>Di(t,n):t};function tp(e){e.target.composing=!0}function Hu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nr=Symbol("_assign"),wr={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[nr]=ao(s);const a=o||s.props&&s.props.type==="number";gr(e,t?"change":"input",c=>{if(c.target.composing)return;let l=e.value;n&&(l=l.trim()),a&&(l=Fi(l)),e[nr](l)}),n&&gr(e,"change",()=>{e.value=e.value.trim()}),t||(gr(e,"compositionstart",tp),gr(e,"compositionend",Hu),gr(e,"change",Hu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:a}},c){if(e[nr]=ao(c),e.composing)return;const l=(a||e.type==="number")&&!/^0\d/.test(e.value)?Fi(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===d)||(e.value=d))}},np={deep:!0,created(e,t,n){e[nr]=ao(n),gr(e,"change",()=>{const o=e._modelValue,s=Yo(e),a=e.checked,c=e[nr];if(Ke(o)){const l=Ta(o,s),d=l!==-1;if(a&&!d)c(o.concat(s));else if(!a&&d){const v=[...o];v.splice(l,1),c(v)}}else if(fo(o)){const l=new Set(o);a?l.add(s):l.delete(s),c(l)}else c(Uc(e,a))})},mounted:Wu,beforeUpdate(e,t,n){e[nr]=ao(n),Wu(e,t,n)}};function Wu(e,{value:t,oldValue:n},o){e._modelValue=t;let s;if(Ke(t))s=Ta(t,o.props.value)>-1;else if(fo(t))s=t.has(o.props.value);else{if(t===n)return;s=ei(t,Uc(e,!0))}e.checked!==s&&(e.checked=s)}const zu={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=fo(t);gr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Fi(Yo(c)):Yo(c));e[nr](e.multiple?s?new Set(a):a:a[0]),e._assigning=!0,Zi(()=>{e._assigning=!1})}),e[nr]=ao(o)},mounted(e,{value:t}){Yu(e,t)},beforeUpdate(e,t,n){e[nr]=ao(n)},updated(e,{value:t}){e._assigning||Yu(e,t)}};function Yu(e,t){const n=e.multiple,o=Ke(t);if(!(n&&!o&&!fo(t))){for(let s=0,a=e.options.length;s<a;s++){const c=e.options[s],l=Yo(c);if(n)if(o){const d=typeof l;d==="string"||d==="number"?c.selected=t.some(v=>String(v)===String(l)):c.selected=Ta(t,l)>-1}else c.selected=t.has(l);else if(ei(Yo(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Yo(e){return"_value"in e?e._value:e.value}function Uc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const rp=["ctrl","shift","alt","meta"],op={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rp.some(n=>e[`${n}Key`]&&!t.includes(n))},In=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(s,...a)=>{for(let c=0;c<t.length;c++){const l=op[t[c]];if(l&&l(s,t))return}return e(s,...a)})},ip=Wt({patchProp:Zh},Dh);let Gu;function sp(){return Gu||(Gu=rh(ip))}const ap=(...e)=>{const t=sp().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=lp(o);if(!s)return;const a=t._component;!ze(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=n(s,!1,up(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},t};function up(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lp(e){return Rt(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let qc;const ss=e=>qc=e,Vc=Symbol();function pa(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mo||(Mo={}));function cp(){const e=Ol(!0),t=e.run(()=>Ze({}));let n=[],o=[];const s=Na({install(a){ss(s),s._a=a,a.provide(Vc,s),a.config.globalProperties.$pinia=s,o.forEach(c=>n.push(c)),o=[]},use(a){return this._a?n.push(a):o.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Hc=()=>{};function Qu(e,t,n,o=Hc){e.push(t);const s=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&Dl()&&Yf(s),s}function Zr(e,...t){e.slice().forEach(n=>{n(...t)})}const fp=e=>e(),Ju=Symbol(),Gs=Symbol();function ma(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],s=e[n];pa(s)&&pa(o)&&e.hasOwnProperty(n)&&!Nt(o)&&!br(o)?e[n]=ma(s,o):e[n]=o}return e}const dp=Symbol();function hp(e){return!pa(e)||!e.hasOwnProperty(dp)}const{assign:hr}=Object;function pp(e){return!!(Nt(e)&&e.effect)}function mp(e,t,n,o){const{state:s,actions:a,getters:c}=t,l=n.state.value[e];let d;function v(){l||(n.state.value[e]=s?s():{});const p=yd(n.state.value[e]);return hr(p,a,Object.keys(c||{}).reduce((m,_)=>(m[_]=Na(st(()=>{ss(n);const C=n._s.get(e);return c[_].call(C,C)})),m),{}))}return d=Wc(e,v,t,n,o,!0),d}function Wc(e,t,n={},o,s,a){let c;const l=hr({actions:{}},n),d={deep:!0};let v,p,m=[],_=[],C;const H=o.state.value[e];!a&&!H&&(o.state.value[e]={}),Ze({});let te;function Re(ge){let ue;v=p=!1,typeof ge=="function"?(ge(o.state.value[e]),ue={type:Mo.patchFunction,storeId:e,events:C}):(ma(o.state.value[e],ge),ue={type:Mo.patchObject,payload:ge,storeId:e,events:C});const _e=te=Symbol();Zi().then(()=>{te===_e&&(v=!0)}),p=!0,Zr(m,ue,o.state.value[e])}const W=a?function(){const{state:ue}=n,_e=ue?ue():{};this.$patch(ce=>{hr(ce,_e)})}:Hc;function z(){c.stop(),m=[],_=[],o._s.delete(e)}const le=(ge,ue="")=>{if(Ju in ge)return ge[Gs]=ue,ge;const _e=function(){ss(o);const ce=Array.from(arguments),Z=[],de=[];function He(Ve){Z.push(Ve)}function ct(Ve){de.push(Ve)}Zr(_,{args:ce,name:_e[Gs],store:j,after:He,onError:ct});let Ge;try{Ge=ge.apply(this&&this.$id===e?this:j,ce)}catch(Ve){throw Zr(de,Ve),Ve}return Ge instanceof Promise?Ge.then(Ve=>(Zr(Z,Ve),Ve)).catch(Ve=>(Zr(de,Ve),Promise.reject(Ve))):(Zr(Z,Ge),Ge)};return _e[Ju]=!0,_e[Gs]=ue,_e},re={_p:o,$id:e,$onAction:Qu.bind(null,_),$patch:Re,$reset:W,$subscribe(ge,ue={}){const _e=Qu(m,ge,ue.detached,()=>ce()),ce=c.run(()=>Wn(()=>o.state.value[e],Z=>{(ue.flush==="sync"?p:v)&&ge({storeId:e,type:Mo.direct,events:C},Z)},hr({},d,ue)));return _e},$dispose:z},j=ti(re);o._s.set(e,j);const se=(o._a&&o._a.runWithContext||fp)(()=>o._e.run(()=>(c=Ol()).run(()=>t({action:le}))));for(const ge in se){const ue=se[ge];if(Nt(ue)&&!pp(ue)||br(ue))a||(H&&hp(ue)&&(Nt(ue)?ue.value=H[ge]:ma(ue,H[ge])),o.state.value[e][ge]=ue);else if(typeof ue=="function"){const _e=le(ue,ge);se[ge]=_e,l.actions[ge]=ue}}return hr(j,se),hr(pt(j),se),Object.defineProperty(j,"$state",{get:()=>o.state.value[e],set:ge=>{Re(ue=>{hr(ue,ge)})}}),o._p.forEach(ge=>{hr(j,c.run(()=>ge({store:j,app:o._a,pinia:o,options:l})))}),H&&a&&n.hydrate&&n.hydrate(j.$state,H),v=!0,p=!0,j}/*! #__NO_SIDE_EFFECTS__ */function oi(e,t,n){let o,s;const a=typeof t=="function";typeof e=="string"?(o=e,s=a?n:t):(s=e,o=e.id);function c(l,d){const v=Qd();return l=l||(v?En(Vc,null):null),l&&ss(l),l=qc,l._s.has(o)||(a?Wc(o,t,s,l):mp(o,s,l)),l._s.get(o)}return c.$id=o,c}const vp=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yp=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,gp=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function _p(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){bp(e);return}return t}function bp(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function wp(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const o=n.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!gp.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(vp.test(e)||yp.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,_p)}return JSON.parse(e)}catch(o){if(t.strict)throw o;return e}}function Sp(e,t){if(e==null)return;let n=e;for(let o=0;o<t.length;o++){if(n==null||n[t[o]]==null)return;n=n[t[o]]}return n}function Ka(e,t,n){if(n.length===0)return t;const o=n[0];return n.length>1&&(t=Ka(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,o)?Number.isInteger(Number(n[1]))?[]:{}:e[o],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(o))&&Array.isArray(e)?e.slice()[o]:Object.assign({},e,{[o]:t})}function zc(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const o in e)n[o]=e[o];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const o in e)n[o]=e[o];return n}return Ka(e,zc(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function Yc(e,t){return t.map(n=>n.split(".")).map(n=>[n,Sp(e,n)]).filter(n=>n[1]!==void 0).reduce((n,o)=>Ka(n,o[1],o[0]),{})}function Gc(e,t){return t.map(n=>n.split(".")).reduce((n,o)=>zc(n,o),e)}function Xu(e,{storage:t,serializer:n,key:o,debug:s,pick:a,omit:c,beforeHydrate:l,afterHydrate:d},v,p=!0){try{p&&(l==null||l(v));const m=t.getItem(o);if(m){const _=n.deserialize(m),C=a?Yc(_,a):_,H=c?Gc(C,c):C;e.$patch(H)}p&&(d==null||d(v))}catch(m){s&&console.error("[pinia-plugin-persistedstate]",m)}}function Zu(e,{storage:t,serializer:n,key:o,debug:s,pick:a,omit:c}){try{const l=a?Yc(e,a):e,d=c?Gc(l,c):l,v=n.serialize(d);t.setItem(o,v)}catch(l){s&&console.error("[pinia-plugin-persistedstate]",l)}}function Cp(e,t,n){const{pinia:o,store:s,options:{persist:a=n}}=e;if(!a)return;if(!(s.$id in o.state.value)){const d=o._s.get(s.$id.replace("__hot:",""));d&&Promise.resolve().then(()=>d.$persist());return}const l=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(t);s.$hydrate=({runHooks:d=!0}={})=>{l.forEach(v=>{Xu(s,v,e,d)})},s.$persist=()=>{l.forEach(d=>{Zu(s.$state,d)})},l.forEach(d=>{Xu(s,d,e),s.$subscribe((v,p)=>Zu(p,d),{detached:!0})})}function xp(e={}){return function(t){Cp(t,n=>({key:(e.key?e.key:o=>o)(n.key??t.store.$id),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>wp(o)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),e.auto??!1)}}var Ep=xp(),ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qs={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var el;function Ip(){return el||(el=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(o,s,a){function c(v,p){if(!s[v]){if(!o[v]){var m=typeof Oi=="function"&&Oi;if(!p&&m)return m(v,!0);if(l)return l(v,!0);var _=new Error("Cannot find module '"+v+"'");throw _.code="MODULE_NOT_FOUND",_}var C=s[v]={exports:{}};o[v][0].call(C.exports,function(H){var te=o[v][1][H];return c(te||H)},C,C.exports,n,o,s,a)}return s[v].exports}for(var l=typeof Oi=="function"&&Oi,d=0;d<a.length;d++)c(a[d]);return c}({1:[function(n,o,s){(function(a){var c=a.MutationObserver||a.WebKitMutationObserver,l;if(c){var d=0,v=new c(H),p=a.document.createTextNode("");v.observe(p,{characterData:!0}),l=function(){p.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var m=new a.MessageChannel;m.port1.onmessage=H,l=function(){m.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var Re=a.document.createElement("script");Re.onreadystatechange=function(){H(),Re.onreadystatechange=null,Re.parentNode.removeChild(Re),Re=null},a.document.documentElement.appendChild(Re)}:l=function(){setTimeout(H,0)};var _,C=[];function H(){_=!0;for(var Re,W,z=C.length;z;){for(W=C,C=[],Re=-1;++Re<z;)W[Re]();z=C.length}_=!1}o.exports=te;function te(Re){C.push(Re)===1&&!_&&l()}}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,o,s){var a=n(1);function c(){}var l={},d=["REJECTED"],v=["FULFILLED"],p=["PENDING"];o.exports=m;function m(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,j!==c&&te(this,j)}m.prototype.catch=function(j){return this.then(null,j)},m.prototype.then=function(j,Se){if(typeof j!="function"&&this.state===v||typeof Se!="function"&&this.state===d)return this;var se=new this.constructor(c);if(this.state!==p){var ge=this.state===v?j:Se;C(se,ge,this.outcome)}else this.queue.push(new _(se,j,Se));return se};function _(j,Se,se){this.promise=j,typeof Se=="function"&&(this.onFulfilled=Se,this.callFulfilled=this.otherCallFulfilled),typeof se=="function"&&(this.onRejected=se,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(j){l.resolve(this.promise,j)},_.prototype.otherCallFulfilled=function(j){C(this.promise,this.onFulfilled,j)},_.prototype.callRejected=function(j){l.reject(this.promise,j)},_.prototype.otherCallRejected=function(j){C(this.promise,this.onRejected,j)};function C(j,Se,se){a(function(){var ge;try{ge=Se(se)}catch(ue){return l.reject(j,ue)}ge===j?l.reject(j,new TypeError("Cannot resolve promise with itself")):l.resolve(j,ge)})}l.resolve=function(j,Se){var se=Re(H,Se);if(se.status==="error")return l.reject(j,se.value);var ge=se.value;if(ge)te(j,ge);else{j.state=v,j.outcome=Se;for(var ue=-1,_e=j.queue.length;++ue<_e;)j.queue[ue].callFulfilled(Se)}return j},l.reject=function(j,Se){j.state=d,j.outcome=Se;for(var se=-1,ge=j.queue.length;++se<ge;)j.queue[se].callRejected(Se);return j};function H(j){var Se=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof Se=="function")return function(){Se.apply(j,arguments)}}function te(j,Se){var se=!1;function ge(Z){se||(se=!0,l.reject(j,Z))}function ue(Z){se||(se=!0,l.resolve(j,Z))}function _e(){Se(ue,ge)}var ce=Re(_e);ce.status==="error"&&ge(ce.value)}function Re(j,Se){var se={};try{se.value=j(Se),se.status="success"}catch(ge){se.status="error",se.value=ge}return se}m.resolve=W;function W(j){return j instanceof this?j:l.resolve(new this(c),j)}m.reject=z;function z(j){var Se=new this(c);return l.reject(Se,j)}m.all=le;function le(j){var Se=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var se=j.length,ge=!1;if(!se)return this.resolve([]);for(var ue=new Array(se),_e=0,ce=-1,Z=new this(c);++ce<se;)de(j[ce],ce);return Z;function de(He,ct){Se.resolve(He).then(Ge,function(Ve){ge||(ge=!0,l.reject(Z,Ve))});function Ge(Ve){ue[ct]=Ve,++_e===se&&!ge&&(ge=!0,l.resolve(Z,ue))}}}m.race=re;function re(j){var Se=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var se=j.length,ge=!1;if(!se)return this.resolve([]);for(var ue=-1,_e=new this(c);++ue<se;)ce(j[ue]);return _e;function ce(Z){Se.resolve(Z).then(function(de){ge||(ge=!0,l.resolve(_e,de))},function(de){ge||(ge=!0,l.reject(_e,de))})}}},{1:1}],3:[function(n,o,s){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,o,s){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function c(g,T){if(!(g instanceof T))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function v(){try{if(!d||!d.open)return!1;var g=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),T=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!g||T)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(g,T){g=g||[],T=T||{};try{return new Blob(g,T)}catch(k){if(k.name!=="TypeError")throw k;for(var w=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new w,M=0;M<g.length;M+=1)A.append(g[M]);return A.getBlob(T.type)}}typeof Promise>"u"&&n(3);var m=Promise;function _(g,T){T&&g.then(function(w){T(null,w)},function(w){T(w)})}function C(g,T,w){typeof T=="function"&&g.then(T),typeof w=="function"&&g.catch(w)}function H(g){return typeof g!="string"&&(console.warn(g+" used as a key, but it is not a string."),g=String(g)),g}function te(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Re="local-forage-detect-blob-support",W=void 0,z={},le=Object.prototype.toString,re="readonly",j="readwrite";function Se(g){for(var T=g.length,w=new ArrayBuffer(T),A=new Uint8Array(w),M=0;M<T;M++)A[M]=g.charCodeAt(M);return w}function se(g){return new m(function(T){var w=g.transaction(Re,j),A=p([""]);w.objectStore(Re).put(A,"key"),w.onabort=function(M){M.preventDefault(),M.stopPropagation(),T(!1)},w.oncomplete=function(){var M=navigator.userAgent.match(/Chrome\/(\d+)/),k=navigator.userAgent.match(/Edge\//);T(k||!M||parseInt(M[1],10)>=43)}}).catch(function(){return!1})}function ge(g){return typeof W=="boolean"?m.resolve(W):se(g).then(function(T){return W=T,W})}function ue(g){var T=z[g.name],w={};w.promise=new m(function(A,M){w.resolve=A,w.reject=M}),T.deferredOperations.push(w),T.dbReady?T.dbReady=T.dbReady.then(function(){return w.promise}):T.dbReady=w.promise}function _e(g){var T=z[g.name],w=T.deferredOperations.pop();if(w)return w.resolve(),w.promise}function ce(g,T){var w=z[g.name],A=w.deferredOperations.pop();if(A)return A.reject(T),A.promise}function Z(g,T){return new m(function(w,A){if(z[g.name]=z[g.name]||Ft(),g.db)if(T)ue(g),g.db.close();else return w(g.db);var M=[g.name];T&&M.push(g.version);var k=d.open.apply(d,M);T&&(k.onupgradeneeded=function(J){var ae=k.result;try{ae.createObjectStore(g.storeName),J.oldVersion<=1&&ae.createObjectStore(Re)}catch(he){if(he.name==="ConstraintError")console.warn('The database "'+g.name+'" has been upgraded from version '+J.oldVersion+" to version "+J.newVersion+', but the storage "'+g.storeName+'" already exists.');else throw he}}),k.onerror=function(J){J.preventDefault(),A(k.error)},k.onsuccess=function(){var J=k.result;J.onversionchange=function(ae){ae.target.close()},w(J),_e(g)}})}function de(g){return Z(g,!1)}function He(g){return Z(g,!0)}function ct(g,T){if(!g.db)return!0;var w=!g.db.objectStoreNames.contains(g.storeName),A=g.version<g.db.version,M=g.version>g.db.version;if(A&&(g.version!==T&&console.warn('The database "'+g.name+`" can't be downgraded from version `+g.db.version+" to version "+g.version+"."),g.version=g.db.version),M||w){if(w){var k=g.db.version+1;k>g.version&&(g.version=k)}return!0}return!1}function Ge(g){return new m(function(T,w){var A=new FileReader;A.onerror=w,A.onloadend=function(M){var k=btoa(M.target.result||"");T({__local_forage_encoded_blob:!0,data:k,type:g.type})},A.readAsBinaryString(g)})}function Ve(g){var T=Se(atob(g.data));return p([T],{type:g.type})}function et(g){return g&&g.__local_forage_encoded_blob}function Ut(g){var T=this,w=T._initReady().then(function(){var A=z[T._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return C(w,g,g),w}function Mt(g){ue(g);for(var T=z[g.name],w=T.forages,A=0;A<w.length;A++){var M=w[A];M._dbInfo.db&&(M._dbInfo.db.close(),M._dbInfo.db=null)}return g.db=null,de(g).then(function(k){return g.db=k,ct(g)?He(g):k}).then(function(k){g.db=T.db=k;for(var J=0;J<w.length;J++)w[J]._dbInfo.db=k}).catch(function(k){throw ce(g,k),k})}function Et(g,T,w,A){A===void 0&&(A=1);try{var M=g.db.transaction(g.storeName,T);w(null,M)}catch(k){if(A>0&&(!g.db||k.name==="InvalidStateError"||k.name==="NotFoundError"))return m.resolve().then(function(){if(!g.db||k.name==="NotFoundError"&&!g.db.objectStoreNames.contains(g.storeName)&&g.version<=g.db.version)return g.db&&(g.version=g.db.version+1),He(g)}).then(function(){return Mt(g).then(function(){Et(g,T,w,A-1)})}).catch(w);w(k)}}function Ft(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function en(g){var T=this,w={db:null};if(g)for(var A in g)w[A]=g[A];var M=z[w.name];M||(M=Ft(),z[w.name]=M),M.forages.push(T),T._initReady||(T._initReady=T.ready,T.ready=Ut);var k=[];function J(){return m.resolve()}for(var ae=0;ae<M.forages.length;ae++){var he=M.forages[ae];he!==T&&k.push(he._initReady().catch(J))}var pe=M.forages.slice(0);return m.all(k).then(function(){return w.db=M.db,de(w)}).then(function(be){return w.db=be,ct(w,T._defaultConfig.version)?He(w):be}).then(function(be){w.db=M.db=be,T._dbInfo=w;for(var Ne=0;Ne<pe.length;Ne++){var tt=pe[Ne];tt!==T&&(tt._dbInfo.db=w.db,tt._dbInfo.version=w.version)}})}function wn(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){Et(w._dbInfo,re,function(J,ae){if(J)return k(J);try{var he=ae.objectStore(w._dbInfo.storeName),pe=he.get(g);pe.onsuccess=function(){var be=pe.result;be===void 0&&(be=null),et(be)&&(be=Ve(be)),M(be)},pe.onerror=function(){k(pe.error)}}catch(be){k(be)}})}).catch(k)});return _(A,T),A}function Sn(g,T){var w=this,A=new m(function(M,k){w.ready().then(function(){Et(w._dbInfo,re,function(J,ae){if(J)return k(J);try{var he=ae.objectStore(w._dbInfo.storeName),pe=he.openCursor(),be=1;pe.onsuccess=function(){var Ne=pe.result;if(Ne){var tt=Ne.value;et(tt)&&(tt=Ve(tt));var ut=g(tt,Ne.key,be++);ut!==void 0?M(ut):Ne.continue()}else M()},pe.onerror=function(){k(pe.error)}}catch(Ne){k(Ne)}})}).catch(k)});return _(A,T),A}function kt(g,T,w){var A=this;g=H(g);var M=new m(function(k,J){var ae;A.ready().then(function(){return ae=A._dbInfo,le.call(T)==="[object Blob]"?ge(ae.db).then(function(he){return he?T:Ge(T)}):T}).then(function(he){Et(A._dbInfo,j,function(pe,be){if(pe)return J(pe);try{var Ne=be.objectStore(A._dbInfo.storeName);he===null&&(he=void 0);var tt=Ne.put(he,g);be.oncomplete=function(){he===void 0&&(he=null),k(he)},be.onabort=be.onerror=function(){var ut=tt.error?tt.error:tt.transaction.error;J(ut)}}catch(ut){J(ut)}})}).catch(J)});return _(M,w),M}function ee(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){Et(w._dbInfo,j,function(J,ae){if(J)return k(J);try{var he=ae.objectStore(w._dbInfo.storeName),pe=he.delete(g);ae.oncomplete=function(){M()},ae.onerror=function(){k(pe.error)},ae.onabort=function(){var be=pe.error?pe.error:pe.transaction.error;k(be)}}catch(be){k(be)}})}).catch(k)});return _(A,T),A}function De(g){var T=this,w=new m(function(A,M){T.ready().then(function(){Et(T._dbInfo,j,function(k,J){if(k)return M(k);try{var ae=J.objectStore(T._dbInfo.storeName),he=ae.clear();J.oncomplete=function(){A()},J.onabort=J.onerror=function(){var pe=he.error?he.error:he.transaction.error;M(pe)}}catch(pe){M(pe)}})}).catch(M)});return _(w,g),w}function G(g){var T=this,w=new m(function(A,M){T.ready().then(function(){Et(T._dbInfo,re,function(k,J){if(k)return M(k);try{var ae=J.objectStore(T._dbInfo.storeName),he=ae.count();he.onsuccess=function(){A(he.result)},he.onerror=function(){M(he.error)}}catch(pe){M(pe)}})}).catch(M)});return _(w,g),w}function Me(g,T){var w=this,A=new m(function(M,k){if(g<0){M(null);return}w.ready().then(function(){Et(w._dbInfo,re,function(J,ae){if(J)return k(J);try{var he=ae.objectStore(w._dbInfo.storeName),pe=!1,be=he.openKeyCursor();be.onsuccess=function(){var Ne=be.result;if(!Ne){M(null);return}g===0||pe?M(Ne.key):(pe=!0,Ne.advance(g))},be.onerror=function(){k(be.error)}}catch(Ne){k(Ne)}})}).catch(k)});return _(A,T),A}function dt(g){var T=this,w=new m(function(A,M){T.ready().then(function(){Et(T._dbInfo,re,function(k,J){if(k)return M(k);try{var ae=J.objectStore(T._dbInfo.storeName),he=ae.openKeyCursor(),pe=[];he.onsuccess=function(){var be=he.result;if(!be){A(pe);return}pe.push(be.key),be.continue()},he.onerror=function(){M(he.error)}}catch(be){M(be)}})}).catch(M)});return _(w,g),w}function S(g,T){T=te.apply(this,arguments);var w=this.config();g=typeof g!="function"&&g||{},g.name||(g.name=g.name||w.name,g.storeName=g.storeName||w.storeName);var A=this,M;if(!g.name)M=m.reject("Invalid arguments");else{var k=g.name===w.name&&A._dbInfo.db,J=k?m.resolve(A._dbInfo.db):de(g).then(function(ae){var he=z[g.name],pe=he.forages;he.db=ae;for(var be=0;be<pe.length;be++)pe[be]._dbInfo.db=ae;return ae});g.storeName?M=J.then(function(ae){if(ae.objectStoreNames.contains(g.storeName)){var he=ae.version+1;ue(g);var pe=z[g.name],be=pe.forages;ae.close();for(var Ne=0;Ne<be.length;Ne++){var tt=be[Ne];tt._dbInfo.db=null,tt._dbInfo.version=he}var ut=new m(function(mt,Pt){var qe=d.open(g.name,he);qe.onerror=function(Yt){var Ir=qe.result;Ir.close(),Pt(Yt)},qe.onupgradeneeded=function(){var Yt=qe.result;Yt.deleteObjectStore(g.storeName)},qe.onsuccess=function(){var Yt=qe.result;Yt.close(),mt(Yt)}});return ut.then(function(mt){pe.db=mt;for(var Pt=0;Pt<be.length;Pt++){var qe=be[Pt];qe._dbInfo.db=mt,_e(qe._dbInfo)}}).catch(function(mt){throw(ce(g,mt)||m.resolve()).catch(function(){}),mt})}}):M=J.then(function(ae){ue(g);var he=z[g.name],pe=he.forages;ae.close();for(var be=0;be<pe.length;be++){var Ne=pe[be];Ne._dbInfo.db=null}var tt=new m(function(ut,mt){var Pt=d.deleteDatabase(g.name);Pt.onerror=function(){var qe=Pt.result;qe&&qe.close(),mt(Pt.error)},Pt.onblocked=function(){console.warn('dropInstance blocked for database "'+g.name+'" until all open connections are closed')},Pt.onsuccess=function(){var qe=Pt.result;qe&&qe.close(),ut(qe)}});return tt.then(function(ut){he.db=ut;for(var mt=0;mt<pe.length;mt++){var Pt=pe[mt];_e(Pt._dbInfo)}}).catch(function(ut){throw(ce(g,ut)||m.resolve()).catch(function(){}),ut})})}return _(M,T),M}var E={_driver:"asyncStorage",_initStorage:en,_support:v(),iterate:Sn,getItem:wn,setItem:kt,removeItem:ee,clear:De,length:G,key:Me,keys:dt,dropInstance:S};function K(){return typeof openDatabase=="function"}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe="~~local_forage_type~",ne=/^~~local_forage_type~([^~]+)~/,Te="__lfsc__:",Ce=Te.length,ye="arbf",ie="blob",je="si08",Ae="ui08",Fe="uic8",Ue="si16",We="si32",ot="ur16",at="ui32",At="fl32",Ot="fl64",qt=Ce+ye.length,Dt=Object.prototype.toString;function ln(g){var T=g.length*.75,w=g.length,A,M=0,k,J,ae,he;g[g.length-1]==="="&&(T--,g[g.length-2]==="="&&T--);var pe=new ArrayBuffer(T),be=new Uint8Array(pe);for(A=0;A<w;A+=4)k=Y.indexOf(g[A]),J=Y.indexOf(g[A+1]),ae=Y.indexOf(g[A+2]),he=Y.indexOf(g[A+3]),be[M++]=k<<2|J>>4,be[M++]=(J&15)<<4|ae>>2,be[M++]=(ae&3)<<6|he&63;return pe}function On(g){var T=new Uint8Array(g),w="",A;for(A=0;A<T.length;A+=3)w+=Y[T[A]>>2],w+=Y[(T[A]&3)<<4|T[A+1]>>4],w+=Y[(T[A+1]&15)<<2|T[A+2]>>6],w+=Y[T[A+2]&63];return T.length%3===2?w=w.substring(0,w.length-1)+"=":T.length%3===1&&(w=w.substring(0,w.length-2)+"=="),w}function It(g,T){var w="";if(g&&(w=Dt.call(g)),g&&(w==="[object ArrayBuffer]"||g.buffer&&Dt.call(g.buffer)==="[object ArrayBuffer]")){var A,M=Te;g instanceof ArrayBuffer?(A=g,M+=ye):(A=g.buffer,w==="[object Int8Array]"?M+=je:w==="[object Uint8Array]"?M+=Ae:w==="[object Uint8ClampedArray]"?M+=Fe:w==="[object Int16Array]"?M+=Ue:w==="[object Uint16Array]"?M+=ot:w==="[object Int32Array]"?M+=We:w==="[object Uint32Array]"?M+=at:w==="[object Float32Array]"?M+=At:w==="[object Float64Array]"?M+=Ot:T(new Error("Failed to get type for BinaryArray"))),T(M+On(A))}else if(w==="[object Blob]"){var k=new FileReader;k.onload=function(){var J=oe+g.type+"~"+On(this.result);T(Te+ie+J)},k.readAsArrayBuffer(g)}else try{T(JSON.stringify(g))}catch(J){console.error("Couldn't convert value into a JSON string: ",g),T(null,J)}}function Oe(g){if(g.substring(0,Ce)!==Te)return JSON.parse(g);var T=g.substring(qt),w=g.substring(Ce,qt),A;if(w===ie&&ne.test(T)){var M=T.match(ne);A=M[1],T=T.substring(M[0].length)}var k=ln(T);switch(w){case ye:return k;case ie:return p([k],{type:A});case je:return new Int8Array(k);case Ae:return new Uint8Array(k);case Fe:return new Uint8ClampedArray(k);case Ue:return new Int16Array(k);case ot:return new Uint16Array(k);case We:return new Int32Array(k);case at:return new Uint32Array(k);case At:return new Float32Array(k);case Ot:return new Float64Array(k);default:throw new Error("Unkown type: "+w)}}var vn={serialize:It,deserialize:Oe,stringToBuffer:ln,bufferToString:On};function Dn(g,T,w,A){g.executeSql("CREATE TABLE IF NOT EXISTS "+T.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],w,A)}function Ur(g){var T=this,w={db:null};if(g)for(var A in g)w[A]=typeof g[A]!="string"?g[A].toString():g[A];var M=new m(function(k,J){try{w.db=openDatabase(w.name,String(w.version),w.description,w.size)}catch(ae){return J(ae)}w.db.transaction(function(ae){Dn(ae,w,function(){T._dbInfo=w,k()},function(he,pe){J(pe)})},J)});return w.serializer=vn,M}function xe(g,T,w,A,M,k){g.executeSql(w,A,M,function(J,ae){ae.code===ae.SYNTAX_ERR?J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[T.storeName],function(he,pe){pe.rows.length?k(he,ae):Dn(he,T,function(){he.executeSql(w,A,M,k)},k)},k):k(J,ae)},k)}function ho(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ae){xe(ae,J,"SELECT * FROM "+J.storeName+" WHERE key = ? LIMIT 1",[g],function(he,pe){var be=pe.rows.length?pe.rows.item(0).value:null;be&&(be=J.serializer.deserialize(be)),M(be)},function(he,pe){k(pe)})})}).catch(k)});return _(A,T),A}function ai(g,T){var w=this,A=new m(function(M,k){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ae){xe(ae,J,"SELECT * FROM "+J.storeName,[],function(he,pe){for(var be=pe.rows,Ne=be.length,tt=0;tt<Ne;tt++){var ut=be.item(tt),mt=ut.value;if(mt&&(mt=J.serializer.deserialize(mt)),mt=g(mt,ut.key,tt+1),mt!==void 0){M(mt);return}}M()},function(he,pe){k(pe)})})}).catch(k)});return _(A,T),A}function qr(g,T,w,A){var M=this;g=H(g);var k=new m(function(J,ae){M.ready().then(function(){T===void 0&&(T=null);var he=T,pe=M._dbInfo;pe.serializer.serialize(T,function(be,Ne){Ne?ae(Ne):pe.db.transaction(function(tt){xe(tt,pe,"INSERT OR REPLACE INTO "+pe.storeName+" (key, value) VALUES (?, ?)",[g,be],function(){J(he)},function(ut,mt){ae(mt)})},function(tt){if(tt.code===tt.QUOTA_ERR){if(A>0){J(qr.apply(M,[g,he,w,A-1]));return}ae(tt)}})})}).catch(ae)});return _(k,w),k}function ui(g,T,w){return qr.apply(this,[g,T,w,1])}function po(g,T){var w=this;g=H(g);var A=new m(function(M,k){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ae){xe(ae,J,"DELETE FROM "+J.storeName+" WHERE key = ?",[g],function(){M()},function(he,pe){k(pe)})})}).catch(k)});return _(A,T),A}function fs(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var k=T._dbInfo;k.db.transaction(function(J){xe(J,k,"DELETE FROM "+k.storeName,[],function(){A()},function(ae,he){M(he)})})}).catch(M)});return _(w,g),w}function ds(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var k=T._dbInfo;k.db.transaction(function(J){xe(J,k,"SELECT COUNT(key) as c FROM "+k.storeName,[],function(ae,he){var pe=he.rows.item(0).c;A(pe)},function(ae,he){M(he)})})}).catch(M)});return _(w,g),w}function or(g,T){var w=this,A=new m(function(M,k){w.ready().then(function(){var J=w._dbInfo;J.db.transaction(function(ae){xe(ae,J,"SELECT key FROM "+J.storeName+" WHERE id = ? LIMIT 1",[g+1],function(he,pe){var be=pe.rows.length?pe.rows.item(0).key:null;M(be)},function(he,pe){k(pe)})})}).catch(k)});return _(A,T),A}function ir(g){var T=this,w=new m(function(A,M){T.ready().then(function(){var k=T._dbInfo;k.db.transaction(function(J){xe(J,k,"SELECT key FROM "+k.storeName,[],function(ae,he){for(var pe=[],be=0;be<he.rows.length;be++)pe.push(he.rows.item(be).key);A(pe)},function(ae,he){M(he)})})}).catch(M)});return _(w,g),w}function mo(g){return new m(function(T,w){g.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(M,k){for(var J=[],ae=0;ae<k.rows.length;ae++)J.push(k.rows.item(ae).name);T({db:g,storeNames:J})},function(M,k){w(k)})},function(A){w(A)})})}function Vr(g,T){T=te.apply(this,arguments);var w=this.config();g=typeof g!="function"&&g||{},g.name||(g.name=g.name||w.name,g.storeName=g.storeName||w.storeName);var A=this,M;return g.name?M=new m(function(k){var J;g.name===w.name?J=A._dbInfo.db:J=openDatabase(g.name,"","",0),g.storeName?k({db:J,storeNames:[g.storeName]}):k(mo(J))}).then(function(k){return new m(function(J,ae){k.db.transaction(function(he){function pe(ut){return new m(function(mt,Pt){he.executeSql("DROP TABLE IF EXISTS "+ut,[],function(){mt()},function(qe,Yt){Pt(Yt)})})}for(var be=[],Ne=0,tt=k.storeNames.length;Ne<tt;Ne++)be.push(pe(k.storeNames[Ne]));m.all(be).then(function(){J()}).catch(function(ut){ae(ut)})},function(he){ae(he)})})}):M=m.reject("Invalid arguments"),_(M,T),M}var St={_driver:"webSQLStorage",_initStorage:Ur,_support:K(),iterate:ai,getItem:ho,setItem:ui,removeItem:po,clear:fs,length:ds,key:or,keys:ir,dropInstance:Vr};function Lt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function li(g,T){var w=g.name+"/";return g.storeName!==T.storeName&&(w+=g.storeName+"/"),w}function Hr(){var g="_localforage_support_test";try{return localStorage.setItem(g,!0),localStorage.removeItem(g),!1}catch{return!0}}function Wr(){return!Hr()||localStorage.length>0}function zr(g){var T=this,w={};if(g)for(var A in g)w[A]=g[A];return w.keyPrefix=li(g,T._defaultConfig),Wr()?(T._dbInfo=w,w.serializer=vn,m.resolve()):m.reject()}function hs(g){var T=this,w=T.ready().then(function(){for(var A=T._dbInfo.keyPrefix,M=localStorage.length-1;M>=0;M--){var k=localStorage.key(M);k.indexOf(A)===0&&localStorage.removeItem(k)}});return _(w,g),w}function $n(g,T){var w=this;g=H(g);var A=w.ready().then(function(){var M=w._dbInfo,k=localStorage.getItem(M.keyPrefix+g);return k&&(k=M.serializer.deserialize(k)),k});return _(A,T),A}function sr(g,T){var w=this,A=w.ready().then(function(){for(var M=w._dbInfo,k=M.keyPrefix,J=k.length,ae=localStorage.length,he=1,pe=0;pe<ae;pe++){var be=localStorage.key(pe);if(be.indexOf(k)===0){var Ne=localStorage.getItem(be);if(Ne&&(Ne=M.serializer.deserialize(Ne)),Ne=g(Ne,be.substring(J),he++),Ne!==void 0)return Ne}}});return _(A,T),A}function Nn(g,T){var w=this,A=w.ready().then(function(){var M=w._dbInfo,k;try{k=localStorage.key(g)}catch{k=null}return k&&(k=k.substring(M.keyPrefix.length)),k});return _(A,T),A}function Yr(g){var T=this,w=T.ready().then(function(){for(var A=T._dbInfo,M=localStorage.length,k=[],J=0;J<M;J++){var ae=localStorage.key(J);ae.indexOf(A.keyPrefix)===0&&k.push(ae.substring(A.keyPrefix.length))}return k});return _(w,g),w}function ps(g){var T=this,w=T.keys().then(function(A){return A.length});return _(w,g),w}function Bn(g,T){var w=this;g=H(g);var A=w.ready().then(function(){var M=w._dbInfo;localStorage.removeItem(M.keyPrefix+g)});return _(A,T),A}function ci(g,T,w){var A=this;g=H(g);var M=A.ready().then(function(){T===void 0&&(T=null);var k=T;return new m(function(J,ae){var he=A._dbInfo;he.serializer.serialize(T,function(pe,be){if(be)ae(be);else try{localStorage.setItem(he.keyPrefix+g,pe),J(k)}catch(Ne){(Ne.name==="QuotaExceededError"||Ne.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ae(Ne),ae(Ne)}})})});return _(M,w),M}function zn(g,T){if(T=te.apply(this,arguments),g=typeof g!="function"&&g||{},!g.name){var w=this.config();g.name=g.name||w.name,g.storeName=g.storeName||w.storeName}var A=this,M;return g.name?M=new m(function(k){g.storeName?k(li(g,A._defaultConfig)):k(g.name+"/")}).then(function(k){for(var J=localStorage.length-1;J>=0;J--){var ae=localStorage.key(J);ae.indexOf(k)===0&&localStorage.removeItem(ae)}}):M=m.reject("Invalid arguments"),_(M,T),M}var fi={_driver:"localStorageWrapper",_initStorage:zr,_support:Lt(),iterate:sr,getItem:$n,setItem:ci,removeItem:Bn,clear:hs,length:ps,key:Nn,keys:Yr,dropInstance:zn},vo=function(T,w){return T===w||typeof T=="number"&&typeof w=="number"&&isNaN(T)&&isNaN(w)},Tt=function(T,w){for(var A=T.length,M=0;M<A;){if(vo(T[M],w))return!0;M++}return!1},Mn=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"},tn={},yo={},cn={INDEXEDDB:E,WEBSQL:St,LOCALSTORAGE:fi},Gr=[cn.INDEXEDDB._driver,cn.WEBSQL._driver,cn.LOCALSTORAGE._driver],ar=["dropInstance"],Er=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ar),Yn={description:"",driver:Gr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function di(g,T){g[T]=function(){var w=arguments;return g.ready().then(function(){return g[T].apply(g,w)})}}function ur(){for(var g=1;g<arguments.length;g++){var T=arguments[g];if(T)for(var w in T)T.hasOwnProperty(w)&&(Mn(T[w])?arguments[0][w]=T[w].slice():arguments[0][w]=T[w])}return arguments[0]}var hi=function(){function g(T){c(this,g);for(var w in cn)if(cn.hasOwnProperty(w)){var A=cn[w],M=A._driver;this[w]=M,tn[M]||this.defineDriver(A)}this._defaultConfig=ur({},Yn),this._config=ur({},this._defaultConfig,T),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return g.prototype.config=function(w){if((typeof w>"u"?"undefined":a(w))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in w){if(A==="storeName"&&(w[A]=w[A].replace(/\W/g,"_")),A==="version"&&typeof w[A]!="number")return new Error("Database version must be a number.");this._config[A]=w[A]}return"driver"in w&&w.driver?this.setDriver(this._config.driver):!0}else return typeof w=="string"?this._config[w]:this._config},g.prototype.defineDriver=function(w,A,M){var k=new m(function(J,ae){try{var he=w._driver,pe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!w._driver){ae(pe);return}for(var be=Er.concat("_initStorage"),Ne=0,tt=be.length;Ne<tt;Ne++){var ut=be[Ne],mt=!Tt(ar,ut);if((mt||w[ut])&&typeof w[ut]!="function"){ae(pe);return}}var Pt=function(){for(var Ir=function(Fn){return function(){var pi=new Error("Method "+Fn+" is not implemented by the current driver"),bo=m.reject(pi);return _(bo,arguments[arguments.length-1]),bo}},go=0,nn=ar.length;go<nn;go++){var Ln=ar[go];w[Ln]||(w[Ln]=Ir(Ln))}};Pt();var qe=function(Ir){tn[he]&&console.info("Redefining LocalForage driver: "+he),tn[he]=w,yo[he]=Ir,J()};"_support"in w?w._support&&typeof w._support=="function"?w._support().then(qe,ae):qe(!!w._support):qe(!0)}catch(Yt){ae(Yt)}});return C(k,A,M),k},g.prototype.driver=function(){return this._driver||null},g.prototype.getDriver=function(w,A,M){var k=tn[w]?m.resolve(tn[w]):m.reject(new Error("Driver not found."));return C(k,A,M),k},g.prototype.getSerializer=function(w){var A=m.resolve(vn);return C(A,w),A},g.prototype.ready=function(w){var A=this,M=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return C(M,w,w),M},g.prototype.setDriver=function(w,A,M){var k=this;Mn(w)||(w=[w]);var J=this._getSupportedDrivers(w);function ae(){k._config.driver=k.driver()}function he(Ne){return k._extend(Ne),ae(),k._ready=k._initStorage(k._config),k._ready}function pe(Ne){return function(){var tt=0;function ut(){for(;tt<Ne.length;){var mt=Ne[tt];return tt++,k._dbInfo=null,k._ready=null,k.getDriver(mt).then(he).catch(ut)}ae();var Pt=new Error("No available storage method found.");return k._driverSet=m.reject(Pt),k._driverSet}return ut()}}var be=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=be.then(function(){var Ne=J[0];return k._dbInfo=null,k._ready=null,k.getDriver(Ne).then(function(tt){k._driver=tt._driver,ae(),k._wrapLibraryMethodsWithReady(),k._initDriver=pe(J)})}).catch(function(){ae();var Ne=new Error("No available storage method found.");return k._driverSet=m.reject(Ne),k._driverSet}),C(this._driverSet,A,M),this._driverSet},g.prototype.supports=function(w){return!!yo[w]},g.prototype._extend=function(w){ur(this,w)},g.prototype._getSupportedDrivers=function(w){for(var A=[],M=0,k=w.length;M<k;M++){var J=w[M];this.supports(J)&&A.push(J)}return A},g.prototype._wrapLibraryMethodsWithReady=function(){for(var w=0,A=Er.length;w<A;w++)di(this,Er[w])},g.prototype.createInstance=function(w){return new g(w)},g}(),it=new hi;o.exports=it},{3:3}]},{},[4])(4)})}(Qs)),Qs.exports}var Tp=Ip();const Ap=Qc(Tp);function Pp(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got ${typeof e}`);e=[...e];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var Mi={exports:{}},Rp=Mi.exports,tl;function kp(){return tl||(tl=1,function(e,t){(function(n,o){e.exports=o()})(Rp,function(){var n=function(r,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])})(r,i)},o=function(){return(o=Object.assign||function(r){for(var i,u=1,f=arguments.length;u<f;u++)for(var h in i=arguments[u])Object.prototype.hasOwnProperty.call(i,h)&&(r[h]=i[h]);return r}).apply(this,arguments)};function s(r,i,u){for(var f,h=0,y=i.length;h<y;h++)!f&&h in i||((f=f||Array.prototype.slice.call(i,0,h))[h]=i[h]);return r.concat(f||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ko,c=Object.keys,l=Array.isArray;function d(r,i){return typeof i!="object"||c(i).forEach(function(u){r[u]=i[u]}),r}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var v=Object.getPrototypeOf,p={}.hasOwnProperty;function m(r,i){return p.call(r,i)}function _(r,i){typeof i=="function"&&(i=i(v(r))),(typeof Reflect>"u"?c:Reflect.ownKeys)(i).forEach(function(u){H(r,u,i[u])})}var C=Object.defineProperty;function H(r,i,u,f){C(r,i,d(u&&m(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function te(r){return{from:function(i){return r.prototype=Object.create(i.prototype),H(r.prototype,"constructor",r),{extend:_.bind(null,r.prototype)}}}}var Re=Object.getOwnPropertyDescriptor,W=[].slice;function z(r,i,u){return W.call(r,i,u)}function le(r,i){return i(r)}function re(r){if(!r)throw new Error("Assertion Failed")}function j(r){a.setImmediate?setImmediate(r):setTimeout(r,0)}function Se(r,i){if(typeof i=="string"&&m(r,i))return r[i];if(!i)return r;if(typeof i!="string"){for(var u=[],f=0,h=i.length;f<h;++f){var y=Se(r,i[f]);u.push(y)}return u}var b=i.indexOf(".");if(b!==-1){var x=r[i.substr(0,b)];return x==null?void 0:Se(x,i.substr(b+1))}}function se(r,i,u){if(r&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof i!="string"&&"length"in i){re(typeof u!="string"&&"length"in u);for(var f=0,h=i.length;f<h;++f)se(r,i[f],u[f])}else{var y,b,x=i.indexOf(".");x!==-1?(y=i.substr(0,x),(b=i.substr(x+1))===""?u===void 0?l(r)&&!isNaN(parseInt(y))?r.splice(y,1):delete r[y]:r[y]=u:se(x=!(x=r[y])||!m(r,y)?r[y]={}:x,b,u)):u===void 0?l(r)&&!isNaN(parseInt(i))?r.splice(i,1):delete r[i]:r[i]=u}}function ge(r){var i,u={};for(i in r)m(r,i)&&(u[i]=r[i]);return u}var ue=[].concat;function _e(r){return ue.apply([],r)}var We="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_e([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(i){return i+r+"Array"})}))).filter(function(r){return a[r]}),ce=new Set(We.map(function(r){return a[r]})),Z=null;function de(r){return Z=new WeakMap,r=function i(u){if(!u||typeof u!="object")return u;var f=Z.get(u);if(f)return f;if(l(u)){f=[],Z.set(u,f);for(var h=0,y=u.length;h<y;++h)f.push(i(u[h]))}else if(ce.has(u.constructor))f=u;else{var b,x=v(u);for(b in f=x===Object.prototype?{}:Object.create(x),Z.set(u,f),u)m(u,b)&&(f[b]=i(u[b]))}return f}(r),Z=null,r}var He={}.toString;function ct(r){return He.call(r).slice(8,-1)}var Ge=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof Ge=="symbol"?function(r){var i;return r!=null&&(i=r[Ge])&&i.apply(r)}:function(){return null};function et(r,i){return i=r.indexOf(i),0<=i&&r.splice(i,1),0<=i}var Ut={};function Mt(r){var i,u,f,h;if(arguments.length===1){if(l(r))return r.slice();if(this===Ut&&typeof r=="string")return[r];if(h=Ve(r)){for(u=[];!(f=h.next()).done;)u.push(f.value);return u}if(r==null)return[r];if(typeof(i=r.length)!="number")return[r];for(u=new Array(i);i--;)u[i]=r[i];return u}for(i=arguments.length,u=new Array(i);i--;)u[i]=arguments[i];return u}var Et=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ue),Ft={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function en(r,i){this.name=r,this.message=i}function wn(r,i){return r+". Errors: "+Object.keys(i).map(function(u){return i[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function Sn(r,i,u,f){this.failures=i,this.failedKeys=f,this.successCount=u,this.message=wn(r,i)}function kt(r,i){this.name="BulkError",this.failures=Object.keys(i).map(function(u){return i[u]}),this.failuresByPos=i,this.message=wn(r,this.failures)}te(en).from(Error).extend({toString:function(){return this.name+": "+this.message}}),te(Sn).from(en),te(kt).from(en);var ee=yn.reduce(function(r,i){return r[i]=i+"Error",r},{}),De=en,G=yn.reduce(function(r,i){var u=i+"Error";function f(h,y){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(y?`
 `+y:""),this.inner=y||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ft[i]||u,this.inner=null)}return te(f).from(De),r[i]=f,r},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var Me=Ue.reduce(function(r,i){return r[i+"Error"]=G[i],r},{}),dt=yn.reduce(function(r,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(r[i+"Error"]=G[i]),r},{});function S(){}function E(r){return r}function K(r,i){return r==null||r===E?i:function(u){return i(r(u))}}function Y(r,i){return function(){r.apply(this,arguments),i.apply(this,arguments)}}function oe(r,i){return r===S?i:function(){var u=r.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var y=i.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?Y(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Y(h,this.onerror):h),y!==void 0?y:u}}function ne(r,i){return r===S?i:function(){r.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Y(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Y(f,this.onerror):f)}}function Te(r,i){return r===S?i:function(u){var f=r.apply(this,arguments);d(u,f);var h=this.onsuccess,y=this.onerror;return this.onsuccess=null,this.onerror=null,u=i.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?Y(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Y(y,this.onerror):y),f===void 0?u===void 0?void 0:u:d(f,u)}}function Ce(r,i){return r===S?i:function(){return i.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function ye(r,i){return r===S?i:function(){var u=r.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,y=new Array(h);h--;)y[h]=arguments[h];return u.then(function(){return i.apply(f,y)})}return i.apply(this,arguments)}}dt.ModifyError=Sn,dt.DexieError=en,dt.BulkError=kt;var ie=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(r){ie=r}var Ae={},Fe=100,We=typeof Promise>"u"?[]:function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,v(r),r];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,v(i),r]}(),Ue=We[0],yn=We[1],We=We[2],yn=yn&&yn.then,ot=Ue&&Ue.constructor,at=!!We,At=function(r,i){vn.push([r,i]),qt&&(queueMicrotask(ds),qt=!1)},Ot=!0,qt=!0,Dt=[],ln=[],On=E,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:S,pgp:!1,env:{},finalize:S},Oe=It,vn=[],Dn=0,Ur=[];function xe(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=Oe;if(typeof r!="function"){if(r!==Ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qr(this,this._value))}this._state=null,this._value=null,++i.ref,function u(f,h){try{h(function(y){if(f._state===null){if(y===f)throw new TypeError("A promise cannot be resolved with itself.");var b=f._lib&&or();y&&typeof y.then=="function"?u(f,function(x,P){y instanceof xe?y._then(x,P):y.then(x,P)}):(f._state=!0,f._value=y,ui(f)),b&&ir()}},qr.bind(null,f))}catch(y){qr(f,y)}}(this,r)}var ho={get:function(){var r=Oe,i=zr;function u(f,h){var y=this,b=!r.global&&(r!==Oe||i!==zr),x=b&&!Nn(),P=new xe(function(D,B){po(y,new ai(fi(f,r,b,x),fi(h,r,b,x),D,B,r))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return u.prototype=Ae,u},set:function(r){H(this,"then",r&&r.prototype===Ae?ho:{get:function(){return r},set:ho.set})}};function ai(r,i,u,f,h){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof i=="function"?i:null,this.resolve=u,this.reject=f,this.psd=h}function qr(r,i){var u,f;ln.push(i),r._state===null&&(u=r._lib&&or(),i=On(i),r._state=!1,r._value=i,f=r,Dt.some(function(h){return h._value===f._value})||Dt.push(f),ui(r),u&&ir())}function ui(r){var i=r._listeners;r._listeners=[];for(var u=0,f=i.length;u<f;++u)po(r,i[u]);var h=r._PSD;--h.ref||h.finalize(),Dn===0&&(++Dn,At(function(){--Dn==0&&mo()},[]))}function po(r,i){if(r._state!==null){var u=r._state?i.onFulfilled:i.onRejected;if(u===null)return(r._state?i.resolve:i.reject)(r._value);++i.psd.ref,++Dn,At(fs,[u,r,i])}else r._listeners.push(i)}function fs(r,i,u){try{var f,h=i._value;!i._state&&ln.length&&(ln=[]),f=ie&&i._consoleTask?i._consoleTask.run(function(){return r(h)}):r(h),i._state||ln.indexOf(h)!==-1||function(y){for(var b=Dt.length;b;)if(Dt[--b]._value===y._value)return Dt.splice(b,1)}(i),u.resolve(f)}catch(y){u.reject(y)}finally{--Dn==0&&mo(),--u.psd.ref||u.psd.finalize()}}function ds(){zn(It,function(){or()&&ir()})}function or(){var r=Ot;return qt=Ot=!1,r}function ir(){var r,i,u;do for(;0<vn.length;)for(r=vn,vn=[],u=r.length,i=0;i<u;++i){var f=r[i];f[0].apply(null,f[1])}while(0<vn.length);qt=Ot=!0}function mo(){var r=Dt;Dt=[],r.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var i=Ur.slice(0),u=i.length;u;)i[--u]()}function Vr(r){return new xe(Ae,!1,r)}function St(r,i){var u=Oe;return function(){var f=or(),h=Oe;try{return Bn(u,!0),r.apply(this,arguments)}catch(y){i&&i(y)}finally{Bn(h,!1),f&&ir()}}}_(xe.prototype,{then:ho,_then:function(r,i){po(this,new ai(null,null,r,i,Oe))},catch:function(r){if(arguments.length===1)return this.then(null,r);var i=r,u=arguments[1];return typeof i=="function"?this.then(null,function(f){return(f instanceof i?u:Vr)(f)}):this.then(null,function(f){return(f&&f.name===i?u:Vr)(f)})},finally:function(r){return this.then(function(i){return xe.resolve(r()).then(function(){return i})},function(i){return xe.resolve(r()).then(function(){return Vr(i)})})},timeout:function(r,i){var u=this;return r<1/0?new xe(function(f,h){var y=setTimeout(function(){return h(new G.Timeout(i))},r);u.then(f,h).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&H(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=ci(),_(xe,{all:function(){var r=Mt.apply(null,arguments).map(Yr);return new xe(function(i,u){r.length===0&&i([]);var f=r.length;r.forEach(function(h,y){return xe.resolve(h).then(function(b){r[y]=b,--f||i(r)},u)})})},resolve:function(r){return r instanceof xe?r:r&&typeof r.then=="function"?new xe(function(i,u){r.then(i,u)}):new xe(Ae,!0,r)},reject:Vr,race:function(){var r=Mt.apply(null,arguments).map(Yr);return new xe(function(i,u){r.map(function(f){return xe.resolve(f).then(i,u)})})},PSD:{get:function(){return Oe},set:function(r){return Oe=r}},totalEchoes:{get:function(){return zr}},newPSD:$n,usePSD:zn,scheduler:{get:function(){return At},set:function(r){At=r}},rejectionMapper:{get:function(){return On},set:function(r){On=r}},follow:function(r,i){return new xe(function(u,f){return $n(function(h,y){var b=Oe;b.unhandleds=[],b.onunhandled=y,b.finalize=Y(function(){var x,P=this;x=function(){P.unhandleds.length===0?h():y(P.unhandleds[0])},Ur.push(function D(){x(),Ur.splice(Ur.indexOf(D),1)}),++Dn,At(function(){--Dn==0&&mo()},[])},b.finalize),r()},i,u,f)})}}),ot&&(ot.allSettled&&H(xe,"allSettled",function(){var r=Mt.apply(null,arguments).map(Yr);return new xe(function(i){r.length===0&&i([]);var u=r.length,f=new Array(u);r.forEach(function(h,y){return xe.resolve(h).then(function(b){return f[y]={status:"fulfilled",value:b}},function(b){return f[y]={status:"rejected",reason:b}}).then(function(){return--u||i(f)})})})}),ot.any&&typeof AggregateError<"u"&&H(xe,"any",function(){var r=Mt.apply(null,arguments).map(Yr);return new xe(function(i,u){r.length===0&&u(new AggregateError([]));var f=r.length,h=new Array(f);r.forEach(function(y,b){return xe.resolve(y).then(function(x){return i(x)},function(x){h[b]=x,--f||u(new AggregateError(h))})})})}),ot.withResolvers&&(xe.withResolvers=ot.withResolvers));var Lt={awaits:0,echoes:0,id:0},li=0,Hr=[],Wr=0,zr=0,hs=0;function $n(r,i,u,f){var h=Oe,y=Object.create(h);return y.parent=h,y.ref=0,y.global=!1,y.id=++hs,It.env,y.env=at?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},i&&d(y,i),++h.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()},f=zn(y,r,u,f),y.ref===0&&y.finalize(),f}function sr(){return Lt.id||(Lt.id=++li),++Lt.awaits,Lt.echoes+=Fe,Lt.id}function Nn(){return!!Lt.awaits&&(--Lt.awaits==0&&(Lt.id=0),Lt.echoes=Lt.awaits*Fe,!0)}function Yr(r){return Lt.echoes&&r&&r.constructor===ot?(sr(),r.then(function(i){return Nn(),i},function(i){return Nn(),Tt(i)})):r}function ps(){var r=Hr[Hr.length-1];Hr.pop(),Bn(r,!1)}function Bn(r,i){var u,f=Oe;(i?!Lt.echoes||Wr++&&r===Oe:!Wr||--Wr&&r===Oe)||queueMicrotask(i?(function(h){++zr,Lt.echoes&&--Lt.echoes!=0||(Lt.echoes=Lt.awaits=Lt.id=0),Hr.push(Oe),Bn(h,!0)}).bind(null,r):ps),r!==Oe&&(Oe=r,f===It&&(It.env=ci()),at&&(u=It.env.Promise,i=r.env,(f.global||r.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),u.all=i.all,u.race=i.race,u.resolve=i.resolve,u.reject=i.reject,i.allSettled&&(u.allSettled=i.allSettled),i.any&&(u.any=i.any))))}function ci(){var r=a.Promise;return at?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function zn(r,i,u,f,h){var y=Oe;try{return Bn(r,!0),i(u,f,h)}finally{Bn(y,!1)}}function fi(r,i,u,f){return typeof r!="function"?r:function(){var h=Oe;u&&sr(),Bn(i,!0);try{return r.apply(this,arguments)}finally{Bn(h,!1),f&&queueMicrotask(Nn)}}}function vo(r){Promise===ot&&Lt.echoes===0?Wr===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+yn).indexOf("[native code]")===-1&&(sr=Nn=S);var Tt=xe.reject,Mn="￿",tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yo="String expected.",cn=[],Gr="__dbnames",ar="readonly",Er="readwrite";function Yn(r,i){return r?i?function(){return r.apply(this,arguments)&&i.apply(this,arguments)}:r:i}var di={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ur(r){return typeof r!="string"||/\./.test(r)?function(i){return i}:function(i){return i[r]===void 0&&r in i&&delete(i=de(i))[r],i}}function hi(){throw G.Type()}function it(r,i){try{var u=g(r),f=g(i);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return i<r?1:r<i?-1:0;case"binary":return function(h,y){for(var b=h.length,x=y.length,P=b<x?b:x,D=0;D<P;++D)if(h[D]!==y[D])return h[D]<y[D]?-1:1;return b===x?0:b<x?-1:1}(T(r),T(i));case"Array":return function(h,y){for(var b=h.length,x=y.length,P=b<x?b:x,D=0;D<P;++D){var B=it(h[D],y[D]);if(B!==0)return B}return b===x?0:b<x?-1:1}(r,i)}}catch{}return NaN}function g(r){var i=typeof r;return i!="object"?i:ArrayBuffer.isView(r)?"binary":(r=ct(r),r==="ArrayBuffer"?"binary":r)}function T(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}var w=(A.prototype._trans=function(r,i,u){var f=this._tx||Oe.trans,h=this.name,y=ie&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function b(D,B,I){if(!I.schema[h])throw new G.NotFound("Table "+h+" not part of transaction");return i(I.idbtrans,I)}var x=or();try{var P=f&&f.db._novip===this.db._novip?f===Oe.trans?f._promise(r,b,u):$n(function(){return f._promise(r,b,u)},{trans:f,transless:Oe.transless||Oe}):function D(B,I,F,O){if(B.idbdb&&(B._state.openComplete||Oe.letThrough||B._vip)){var N=B._createTransaction(I,F,B._dbSchema);try{N.create(),B._state.PR1398_maxLoop=3}catch(L){return L.name===ee.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return D(B,I,F,O)})):Tt(L)}return N._promise(I,function(L,$){return $n(function(){return Oe.trans=N,O(L,$,N)})}).then(function(L){if(I==="readwrite")try{N.idbtrans.commit()}catch{}return I==="readonly"?L:N._completion.then(function(){return L})})}if(B._state.openComplete)return Tt(new G.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return Tt(new G.DatabaseClosed);B.open().catch(S)}return B._state.dbReadyPromise.then(function(){return D(B,I,F,O)})}(this.db,r,[this.name],b);return y&&(P._consoleTask=y,P=P.catch(function(D){return console.trace(D),Tt(D)})),P}finally{x&&ir()}},A.prototype.get=function(r,i){var u=this;return r&&r.constructor===Object?this.where(r).first(i):r==null?Tt(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:r}).then(function(h){return u.hook.reading.fire(h)})}).then(i)},A.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(l(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var i=c(r);if(i.length===1)return this.where(i[0]).equals(r[i[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&i.every(function(D){return 0<=x.keyPath.indexOf(D)})){for(var P=0;P<i.length;++P)if(i.indexOf(x.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(x,P){return x.keyPath.length-P.keyPath.length})[0];if(u&&this.db._maxKey!==Mn){var y=u.keyPath.slice(0,i.length);return this.where(y).equals(y.map(function(P){return r[P]}))}!u&&ie&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var f=this.schema.idxByName;function h(x,P){return it(x,P)===0}var b=i.reduce(function(I,P){var D=I[0],B=I[1],I=f[P],F=r[P];return[D||I,D||!I?Yn(B,I&&I.multi?function(O){return O=Se(O,P),l(O)&&O.some(function(N){return h(F,N)})}:function(O){return h(F,Se(O,P))}):B]},[null,null]),y=b[0],b=b[1];return y?this.where(y.name).equals(r[y.keyPath]).filter(b):u?this.filter(b):this.where(i).equals("")},A.prototype.filter=function(r){return this.toCollection().and(r)},A.prototype.count=function(r){return this.toCollection().count(r)},A.prototype.offset=function(r){return this.toCollection().offset(r)},A.prototype.limit=function(r){return this.toCollection().limit(r)},A.prototype.each=function(r){return this.toCollection().each(r)},A.prototype.toArray=function(r){return this.toCollection().toArray(r)},A.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},A.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,l(r)?"[".concat(r.join("+"),"]"):r))},A.prototype.reverse=function(){return this.toCollection().reverse()},A.prototype.mapToClass=function(r){var i,u=this.db,f=this.name;function h(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof hi&&(function(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function B(){this.constructor=P}n(P,D),P.prototype=D===null?Object.create(D):(B.prototype=D.prototype,new B)}(h,i=r),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},r=h);for(var y=new Set,b=r.prototype;b;b=v(b))Object.getOwnPropertyNames(b).forEach(function(P){return y.add(P)});function x(P){if(!P)return P;var D,B=Object.create(r.prototype);for(D in P)if(!y.has(D))try{B[D]=P[D]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),r},A.prototype.defineClass=function(){return this.mapToClass(function(r){d(this,r)})},A.prototype.add=function(r,i){var u=this,f=this.schema.primKey,h=f.auto,y=f.keyPath,b=r;return y&&h&&(b=ur(y)(r)),this._trans("readwrite",function(x){return u.core.mutate({trans:x,type:"add",keys:i!=null?[i]:null,values:[b]})}).then(function(x){return x.numFailures?xe.reject(x.failures[0]):x.lastResult}).then(function(x){if(y)try{se(r,y,x)}catch{}return x})},A.prototype.update=function(r,i){return typeof r!="object"||l(r)?this.where(":id").equals(r).modify(i):(r=Se(r,this.schema.primKey.keyPath),r===void 0?Tt(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(i))},A.prototype.put=function(r,i){var u=this,f=this.schema.primKey,h=f.auto,y=f.keyPath,b=r;return y&&h&&(b=ur(y)(r)),this._trans("readwrite",function(x){return u.core.mutate({trans:x,type:"put",values:[b],keys:i!=null?[i]:null})}).then(function(x){return x.numFailures?xe.reject(x.failures[0]):x.lastResult}).then(function(x){if(y)try{se(r,y,x)}catch{}return x})},A.prototype.delete=function(r){var i=this;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:[r]})}).then(function(u){return u.numFailures?xe.reject(u.failures[0]):void 0})},A.prototype.clear=function(){var r=this;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"deleteRange",range:di})}).then(function(i){return i.numFailures?xe.reject(i.failures[0]):void 0})},A.prototype.bulkGet=function(r){var i=this;return this._trans("readonly",function(u){return i.core.getMany({keys:r,trans:u}).then(function(f){return f.map(function(h){return i.hook.reading.fire(h)})})})},A.prototype.bulkAdd=function(r,i,u){var f=this,h=Array.isArray(i)?i:void 0,y=(u=u||(h?void 0:i))?u.allKeys:void 0;return this._trans("readwrite",function(b){var D=f.schema.primKey,x=D.auto,D=D.keyPath;if(D&&h)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==r.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var P=r.length,D=D&&x?r.map(ur(D)):r;return f.core.mutate({trans:b,type:"add",keys:h,values:D,wantResults:y}).then(function(N){var I=N.numFailures,F=N.results,O=N.lastResult,N=N.failures;if(I===0)return y?F:O;throw new kt("".concat(f.name,".bulkAdd(): ").concat(I," of ").concat(P," operations failed"),N)})})},A.prototype.bulkPut=function(r,i,u){var f=this,h=Array.isArray(i)?i:void 0,y=(u=u||(h?void 0:i))?u.allKeys:void 0;return this._trans("readwrite",function(b){var D=f.schema.primKey,x=D.auto,D=D.keyPath;if(D&&h)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==r.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var P=r.length,D=D&&x?r.map(ur(D)):r;return f.core.mutate({trans:b,type:"put",keys:h,values:D,wantResults:y}).then(function(N){var I=N.numFailures,F=N.results,O=N.lastResult,N=N.failures;if(I===0)return y?F:O;throw new kt("".concat(f.name,".bulkPut(): ").concat(I," of ").concat(P," operations failed"),N)})})},A.prototype.bulkUpdate=function(r){var i=this,u=this.core,f=r.map(function(b){return b.key}),h=r.map(function(b){return b.changes}),y=[];return this._trans("readwrite",function(b){return u.getMany({trans:b,keys:f,cache:"clone"}).then(function(x){var P=[],D=[];r.forEach(function(I,F){var O=I.key,N=I.changes,L=x[F];if(L){for(var $=0,U=Object.keys(N);$<U.length;$++){var q=U[$],V=N[q];if(q===i.schema.primKey.keyPath){if(it(V,O)!==0)throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else se(L,q,V)}y.push(F),P.push(O),D.push(L)}});var B=P.length;return u.mutate({trans:b,type:"put",keys:P,values:D,updates:{keys:f,changeSpecs:h}}).then(function(I){var F=I.numFailures,O=I.failures;if(F===0)return B;for(var N=0,L=Object.keys(O);N<L.length;N++){var $,U=L[N],q=y[Number(U)];q!=null&&($=O[U],delete O[U],O[q]=$)}throw new kt("".concat(i.name,".bulkUpdate(): ").concat(F," of ").concat(B," operations failed"),O)})})})},A.prototype.bulkDelete=function(r){var i=this,u=r.length;return this._trans("readwrite",function(f){return i.core.mutate({trans:f,type:"delete",keys:r})}).then(function(b){var h=b.numFailures,y=b.lastResult,b=b.failures;if(h===0)return y;throw new kt("".concat(i.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),b)})},A);function A(){}function M(r){function i(b,x){if(x){for(var P=arguments.length,D=new Array(P-1);--P;)D[P-1]=arguments[P];return u[b].subscribe.apply(null,D),r}if(typeof b=="string")return u[b]}var u={};i.addEventType=y;for(var f=1,h=arguments.length;f<h;++f)y(arguments[f]);return i;function y(b,x,P){if(typeof b!="object"){var D;x=x||Ce;var B={subscribers:[],fire:P=P||S,subscribe:function(I){B.subscribers.indexOf(I)===-1&&(B.subscribers.push(I),B.fire=x(B.fire,I))},unsubscribe:function(I){B.subscribers=B.subscribers.filter(function(F){return F!==I}),B.fire=B.subscribers.reduce(x,P)}};return u[b]=i[b]=B}c(D=b).forEach(function(I){var F=D[I];if(l(F))y(I,D[I][0],D[I][1]);else{if(F!=="asap")throw new G.InvalidArgument("Invalid event config");var O=y(I,E,function(){for(var N=arguments.length,L=new Array(N);N--;)L[N]=arguments[N];O.subscribers.forEach(function($){j(function(){$.apply(null,L)})})})}})}}function k(r,i){return te(i).from({prototype:r}),i}function J(r,i){return!(r.filter||r.algorithm||r.or)&&(i?r.justLimit:!r.replayFilter)}function ae(r,i){r.filter=Yn(r.filter,i)}function he(r,i,u){var f=r.replayFilter;r.replayFilter=f?function(){return Yn(f(),i())}:i,r.justLimit=u&&!f}function pe(r,i){if(r.isPrimKey)return i.primaryKey;var u=i.getIndexByKeyPath(r.index);if(!u)throw new G.Schema("KeyPath "+r.index+" on object store "+i.name+" is not indexed");return u}function be(r,i,u){var f=pe(r,i.schema);return i.openCursor({trans:u,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:f,range:r.range}})}function Ne(r,i,u,f){var h=r.replayFilter?Yn(r.filter,r.replayFilter()):r.filter;if(r.or){var y={},b=function(x,P,D){var B,I;h&&!h(P,D,function(F){return P.stop(F)},function(F){return P.fail(F)})||((I=""+(B=P.primaryKey))=="[object ArrayBuffer]"&&(I=""+new Uint8Array(B)),m(y,I)||(y[I]=!0,i(x,P,D)))};return Promise.all([r.or._iterate(b,u),tt(be(r,f,u),r.algorithm,b,!r.keysOnly&&r.valueMapper)])}return tt(be(r,f,u),Yn(r.algorithm,h),i,!r.keysOnly&&r.valueMapper)}function tt(r,i,u,f){var h=St(f?function(y,b,x){return u(f(y),b,x)}:u);return r.then(function(y){if(y)return y.start(function(){var b=function(){return y.continue()};i&&!i(y,function(x){return b=x},function(x){y.stop(x),b=S},function(x){y.fail(x),b=S})||h(y.value,y,function(x){return b=x}),b()})})}var ut=(mt.prototype.execute=function(r){var i=this["@@propmod"];if(i.add!==void 0){var u=i.add;if(l(u))return s(s([],l(r)?r:[],!0),u).sort();if(typeof u=="number")return(Number(r)||0)+u;if(typeof u=="bigint")try{return BigInt(r)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(i.remove!==void 0){var f=i.remove;if(l(f))return l(r)?r.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(r)-f;if(typeof f=="bigint")try{return BigInt(r)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return u=(u=i.replacePrefix)===null||u===void 0?void 0:u[0],u&&typeof r=="string"&&r.startsWith(u)?i.replacePrefix[1]+r.substring(u.length):r},mt);function mt(r){this["@@propmod"]=r}var Pt=(qe.prototype._read=function(r,i){var u=this._ctx;return u.error?u.table._trans(null,Tt.bind(null,u.error)):u.table._trans("readonly",r).then(i)},qe.prototype._write=function(r){var i=this._ctx;return i.error?i.table._trans(null,Tt.bind(null,i.error)):i.table._trans("readwrite",r,"locked")},qe.prototype._addAlgorithm=function(r){var i=this._ctx;i.algorithm=Yn(i.algorithm,r)},qe.prototype._iterate=function(r,i){return Ne(this._ctx,r,i,this._ctx.table.core)},qe.prototype.clone=function(r){var i=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return r&&d(u,r),i._ctx=u,i},qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},qe.prototype.each=function(r){var i=this._ctx;return this._read(function(u){return Ne(i,r,u,i.table.core)})},qe.prototype.count=function(r){var i=this;return this._read(function(u){var f=i._ctx,h=f.table.core;if(J(f,!0))return h.count({trans:u,query:{index:pe(f,h.schema),range:f.range}}).then(function(b){return Math.min(b,f.limit)});var y=0;return Ne(f,function(){return++y,!1},u,h).then(function(){return y})}).then(r)},qe.prototype.sortBy=function(r,i){var u=r.split(".").reverse(),f=u[0],h=u.length-1;function y(P,D){return D?y(P[u[D]],D-1):P[f]}var b=this._ctx.dir==="next"?1:-1;function x(P,D){return it(y(P,h),y(D,h))*b}return this.toArray(function(P){return P.sort(x)}).then(i)},qe.prototype.toArray=function(r){var i=this;return this._read(function(u){var f=i._ctx;if(f.dir==="next"&&J(f,!0)&&0<f.limit){var h=f.valueMapper,y=pe(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:y,range:f.range}}).then(function(x){return x=x.result,h?x.map(h):x})}var b=[];return Ne(f,function(x){return b.push(x)},u,f.table.core).then(function(){return b})},r)},qe.prototype.offset=function(r){var i=this._ctx;return r<=0||(i.offset+=r,J(i)?he(i,function(){var u=r;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):he(i,function(){var u=r;return function(){return--u<0}})),this},qe.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),he(this._ctx,function(){var i=r;return function(u,f,h){return--i<=0&&f(h),0<=i}},!0),this},qe.prototype.until=function(r,i){return ae(this._ctx,function(u,f,h){return!r(u.value)||(f(h),i)}),this},qe.prototype.first=function(r){return this.limit(1).toArray(function(i){return i[0]}).then(r)},qe.prototype.last=function(r){return this.reverse().first(r)},qe.prototype.filter=function(r){var i;return ae(this._ctx,function(u){return r(u.value)}),(i=this._ctx).isMatch=Yn(i.isMatch,r),this},qe.prototype.and=function(r){return this.filter(r)},qe.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qe.prototype.desc=function(){return this.reverse()},qe.prototype.eachKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(u,f){r(f.key,f)})},qe.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},qe.prototype.eachPrimaryKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(u,f){r(f.primaryKey,f)})},qe.prototype.keys=function(r){var i=this._ctx;i.keysOnly=!i.isMatch;var u=[];return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(r)},qe.prototype.primaryKeys=function(r){var i=this._ctx;if(i.dir==="next"&&J(i,!0)&&0<i.limit)return this._read(function(f){var h=pe(i,i.table.core.schema);return i.table.core.query({trans:f,values:!1,limit:i.limit,query:{index:h,range:i.range}})}).then(function(f){return f.result}).then(r);i.keysOnly=!i.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(r)},qe.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},qe.prototype.firstKey=function(r){return this.limit(1).keys(function(i){return i[0]}).then(r)},qe.prototype.lastKey=function(r){return this.reverse().firstKey(r)},qe.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var i={};return ae(this._ctx,function(h){var f=h.primaryKey.toString(),h=m(i,f);return i[f]=!0,!h}),this},qe.prototype.modify=function(r){var i=this,u=this._ctx;return this._write(function(f){var h,y,b;b=typeof r=="function"?r:(h=c(r),y=h.length,function($){for(var U=!1,q=0;q<y;++q){var V=h[q],X=r[V],me=Se($,V);X instanceof ut?(se($,V,X.execute(me)),U=!0):me!==X&&(se($,V,X),U=!0)}return U});var x=u.table.core,I=x.schema.primaryKey,P=I.outbound,D=I.extractKey,B=200,I=i.db._options.modifyChunkSize;I&&(B=typeof I=="object"?I[x.name]||I["*"]||200:I);function F($,V){var q=V.failures,V=V.numFailures;N+=$-V;for(var X=0,me=c(q);X<me.length;X++){var Ie=me[X];O.push(q[Ie])}}var O=[],N=0,L=[];return i.clone().primaryKeys().then(function($){function U(V){var X=Math.min(B,$.length-V);return x.getMany({trans:f,keys:$.slice(V,V+X),cache:"immutable"}).then(function(me){for(var Ie=[],ve=[],we=P?[]:null,ke=[],Ee=0;Ee<X;++Ee){var $e=me[Ee],Qe={value:de($e),primKey:$[V+Ee]};b.call(Qe,Qe.value,Qe)!==!1&&(Qe.value==null?ke.push($[V+Ee]):P||it(D($e),D(Qe.value))===0?(ve.push(Qe.value),P&&we.push($[V+Ee])):(ke.push($[V+Ee]),Ie.push(Qe.value)))}return Promise.resolve(0<Ie.length&&x.mutate({trans:f,type:"add",values:Ie}).then(function(nt){for(var rt in nt.failures)ke.splice(parseInt(rt),1);F(Ie.length,nt)})).then(function(){return(0<ve.length||q&&typeof r=="object")&&x.mutate({trans:f,type:"put",keys:we,values:ve,criteria:q,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<V}).then(function(nt){return F(ve.length,nt)})}).then(function(){return(0<ke.length||q&&r===Yt)&&x.mutate({trans:f,type:"delete",keys:ke,criteria:q,isAdditionalChunk:0<V}).then(function(nt){return F(ke.length,nt)})}).then(function(){return $.length>V+X&&U(V+B)})})}var q=J(u)&&u.limit===1/0&&(typeof r!="function"||r===Yt)&&{index:u.index,range:u.range};return U(0).then(function(){if(0<O.length)throw new Sn("Error modifying one or more objects",O,N,L);return $.length})})})},qe.prototype.delete=function(){var r=this._ctx,i=r.range;return J(r)&&(r.isPrimKey||i.type===3)?this._write(function(u){var f=r.table.core.schema.primaryKey,h=i;return r.table.core.count({trans:u,query:{index:f,range:h}}).then(function(y){return r.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(b){var x=b.failures;if(b.lastResult,b.results,b=b.numFailures,b)throw new Sn("Could not delete some values",Object.keys(x).map(function(P){return x[P]}),y-b);return y-b})})}):this.modify(Yt)},qe);function qe(){}var Yt=function(r,i){return i.value=null};function Ir(r,i){return r<i?-1:r===i?0:1}function go(r,i){return i<r?-1:r===i?0:1}function nn(r,i,u){return r=r instanceof bo?new r.Collection(r):r,r._ctx.error=new(u||TypeError)(i),r}function Ln(r){return new r.Collection(r,function(){return pi("")}).limit(0)}function _o(r,i,u,f){var h,y,b,x,P,D,B,I=u.length;if(!u.every(function(N){return typeof N=="string"}))return nn(r,yo);function F(N){h=N==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},y=N==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},b=N==="next"?Ir:go;var L=u.map(function($){return{lower:y($),upper:h($)}}).sort(function($,U){return b($.lower,U.lower)});x=L.map(function($){return $.upper}),P=L.map(function($){return $.lower}),B=(D=N)==="next"?"":f}F("next"),r=new r.Collection(r,function(){return Fn(x[0],P[I-1]+f)}),r._ondirectionchange=function(N){F(N)};var O=0;return r._addAlgorithm(function(N,L,$){var U=N.key;if(typeof U!="string")return!1;var q=y(U);if(i(q,P,O))return!0;for(var V=null,X=O;X<I;++X){var me=function(Ie,ve,we,ke,Ee,$e){for(var Qe=Math.min(Ie.length,ke.length),nt=-1,rt=0;rt<Qe;++rt){var fn=ve[rt];if(fn!==ke[rt])return Ee(Ie[rt],we[rt])<0?Ie.substr(0,rt)+we[rt]+we.substr(rt+1):Ee(Ie[rt],ke[rt])<0?Ie.substr(0,rt)+ke[rt]+we.substr(rt+1):0<=nt?Ie.substr(0,nt)+ve[nt]+we.substr(nt+1):null;Ee(Ie[rt],fn)<0&&(nt=rt)}return Qe<ke.length&&$e==="next"?Ie+we.substr(Ie.length):Qe<Ie.length&&$e==="prev"?Ie.substr(0,we.length):nt<0?null:Ie.substr(0,nt)+ke[nt]+we.substr(nt+1)}(U,q,x[X],P[X],b,D);me===null&&V===null?O=X+1:(V===null||0<b(V,me))&&(V=me)}return L(V!==null?function(){N.continue(V+B)}:$),!1}),r}function Fn(r,i,u,f){return{type:2,lower:r,upper:i,lowerOpen:u,upperOpen:f}}function pi(r){return{type:1,lower:r,upper:r}}var bo=(Object.defineProperty(Vt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vt.prototype.between=function(r,i,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(r,i)||this._cmp(r,i)===0&&(u||f)&&(!u||!f)?Ln(this):new this.Collection(this,function(){return Fn(r,i,!u,!f)})}catch{return nn(this,tn)}},Vt.prototype.equals=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return pi(r)})},Vt.prototype.above=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(r,void 0,!0)})},Vt.prototype.aboveOrEqual=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(r,void 0,!1)})},Vt.prototype.below=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(void 0,r,!1,!0)})},Vt.prototype.belowOrEqual=function(r){return r==null?nn(this,tn):new this.Collection(this,function(){return Fn(void 0,r)})},Vt.prototype.startsWith=function(r){return typeof r!="string"?nn(this,yo):this.between(r,r+Mn,!0,!0)},Vt.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):_o(this,function(i,u){return i.indexOf(u[0])===0},[r],Mn)},Vt.prototype.equalsIgnoreCase=function(r){return _o(this,function(i,u){return i===u[0]},[r],"")},Vt.prototype.anyOfIgnoreCase=function(){var r=Mt.apply(Ut,arguments);return r.length===0?Ln(this):_o(this,function(i,u){return u.indexOf(i)!==-1},r,"")},Vt.prototype.startsWithAnyOfIgnoreCase=function(){var r=Mt.apply(Ut,arguments);return r.length===0?Ln(this):_o(this,function(i,u){return u.some(function(f){return i.indexOf(f)===0})},r,Mn)},Vt.prototype.anyOf=function(){var r=this,i=Mt.apply(Ut,arguments),u=this._cmp;try{i.sort(u)}catch{return nn(this,tn)}if(i.length===0)return Ln(this);var f=new this.Collection(this,function(){return Fn(i[0],i[i.length-1])});f._ondirectionchange=function(y){u=y==="next"?r._ascending:r._descending,i.sort(u)};var h=0;return f._addAlgorithm(function(y,b,x){for(var P=y.key;0<u(P,i[h]);)if(++h===i.length)return b(x),!1;return u(P,i[h])===0||(b(function(){y.continue(i[h])}),!1)}),f},Vt.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vt.prototype.noneOf=function(){var r=Mt.apply(Ut,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return nn(this,tn)}var i=r.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return i.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},Vt.prototype.inAnyRange=function(U,i){var u=this,f=this._cmp,h=this._ascending,y=this._descending,b=this._min,x=this._max;if(U.length===0)return Ln(this);if(!U.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&h(q[0],q[1])<=0}))return nn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var P=!i||i.includeLowers!==!1,D=i&&i.includeUppers===!0,B,I=h;function F(q,V){return I(q[0],V[0])}try{(B=U.reduce(function(q,V){for(var X=0,me=q.length;X<me;++X){var Ie=q[X];if(f(V[0],Ie[1])<0&&0<f(V[1],Ie[0])){Ie[0]=b(Ie[0],V[0]),Ie[1]=x(Ie[1],V[1]);break}}return X===me&&q.push(V),q},[])).sort(F)}catch{return nn(this,tn)}var O=0,N=D?function(q){return 0<h(q,B[O][1])}:function(q){return 0<=h(q,B[O][1])},L=P?function(q){return 0<y(q,B[O][0])}:function(q){return 0<=y(q,B[O][0])},$=N,U=new this.Collection(this,function(){return Fn(B[0][0],B[B.length-1][1],!P,!D)});return U._ondirectionchange=function(q){I=q==="next"?($=N,h):($=L,y),B.sort(F)},U._addAlgorithm(function(q,V,X){for(var me,Ie=q.key;$(Ie);)if(++O===B.length)return V(X),!1;return!N(me=Ie)&&!L(me)||(u._cmp(Ie,B[O][1])===0||u._cmp(Ie,B[O][0])===0||V(function(){I===h?q.continue(B[O][0]):q.continue(B[O][1])}),!1)}),U},Vt.prototype.startsWithAnyOf=function(){var r=Mt.apply(Ut,arguments);return r.every(function(i){return typeof i=="string"})?r.length===0?Ln(this):this.inAnyRange(r.map(function(i){return[i,i+Mn]})):nn(this,"startsWithAnyOf() only works with strings")},Vt);function Vt(){}function jn(r){return St(function(i){return wo(i),r(i.target.error),!1})}function wo(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var So="storagemutated",ms="x-storagemutated-1",lr=M(null,So),vf=(Kn.prototype._lock=function(){return re(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},Kn.prototype._unlock=function(){if(re(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{zn(r[1],r[0])}catch{}}return this},Kn.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},Kn.prototype.create=function(r){var i=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(re(!this.idbtrans),!r&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new G.DatabaseClosed(f);case"MissingAPIError":throw new G.MissingAPI(f.message,f);default:throw new G.OpenFailed(f)}if(!this.active)throw new G.TransactionInactive;return re(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=St(function(h){wo(h),i._reject(r.error)}),r.onabort=St(function(h){wo(h),i.active&&i._reject(new G.Abort(r.error)),i.active=!1,i.on("abort").fire(h)}),r.oncomplete=St(function(){i.active=!1,i._resolve(),"mutatedParts"in r&&lr.storagemutated.fire(r.mutatedParts)}),this},Kn.prototype._promise=function(r,i,u){var f=this;if(r==="readwrite"&&this.mode!=="readwrite")return Tt(new G.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new G.TransactionInactive);if(this._locked())return new xe(function(y,b){f._blockedFuncs.push([function(){f._promise(r,i,u).then(y,b)},Oe])});if(u)return $n(function(){var y=new xe(function(b,x){f._lock();var P=i(b,x,f);P&&P.then&&P.then(b,x)});return y.finally(function(){return f._unlock()}),y._lib=!0,y});var h=new xe(function(y,b){var x=i(y,b,f);x&&x.then&&x.then(y,b)});return h._lib=!0,h},Kn.prototype._root=function(){return this.parent?this.parent._root():this},Kn.prototype.waitFor=function(r){var i,u=this._root(),f=xe.resolve(r);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],i=u.idbtrans.objectStore(u.storeNames[0]),function y(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(i.get(-1/0).onsuccess=y)}());var h=u._waitingFor;return new xe(function(y,b){f.then(function(x){return u._waitingQueue.push(St(y.bind(null,x)))},function(x){return u._waitingQueue.push(St(b.bind(null,x)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},Kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},Kn.prototype.table=function(r){var i=this._memoizedTables||(this._memoizedTables={});if(m(i,r))return i[r];var u=this.schema[r];if(!u)throw new G.NotFound("Table "+r+" not part of transaction");return u=new this.db.Table(r,u,this),u.core=this.db.core.table(r),i[r]=u},Kn);function Kn(){}function vs(r,i,u,f,h,y,b){return{name:r,keyPath:i,unique:u,multi:f,auto:h,compound:y,src:(u&&!b?"&":"")+(f?"*":"")+(h?"++":"")+Ya(i)}}function Ya(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function ys(r,i,u){return{name:r,primKey:i,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,y,b){return b=f(y,b),b&&(h[b[0]]=b[1]),h},{}))};var f}var Co=function(r){try{return r.only([[]]),Co=function(){return[[]]},[[]]}catch{return Co=function(){return Mn},Mn}};function gs(r){return r==null?function(){}:typeof r=="string"?(i=r).split(".").length===1?function(u){return u[i]}:function(u){return Se(u,i)}:function(u){return Se(u,r)};var i}function Ga(r){return[].slice.call(r)}var yf=0;function xo(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function gf(r,i,P){function f($){if($.type===3)return null;if($.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=$.lower,N=$.upper,L=$.lowerOpen,$=$.upperOpen;return O===void 0?N===void 0?null:i.upperBound(N,!!$):N===void 0?i.lowerBound(O,!!L):i.bound(O,N,!!L,!!$)}function h(F){var O,N=F.name;return{name:N,schema:F,mutate:function(L){var $=L.trans,U=L.type,q=L.keys,V=L.values,X=L.range;return new Promise(function(me,Ie){me=St(me);var ve=$.objectStore(N),we=ve.keyPath==null,ke=U==="put"||U==="add";if(!ke&&U!=="delete"&&U!=="deleteRange")throw new Error("Invalid operation type: "+U);var Ee,$e=(q||V||{length:1}).length;if(q&&V&&q.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if($e===0)return me({numFailures:0,failures:{},results:[],lastResult:void 0});function Qe(rn){++fn,wo(rn)}var nt=[],rt=[],fn=0;if(U==="deleteRange"){if(X.type===4)return me({numFailures:fn,failures:rt,results:[],lastResult:void 0});X.type===3?nt.push(Ee=ve.clear()):nt.push(Ee=ve.delete(f(X)))}else{var we=ke?we?[V,q]:[V,null]:[q,null],Ye=we[0],Qt=we[1];if(ke)for(var Jt=0;Jt<$e;++Jt)nt.push(Ee=Qt&&Qt[Jt]!==void 0?ve[U](Ye[Jt],Qt[Jt]):ve[U](Ye[Jt])),Ee.onerror=Qe;else for(Jt=0;Jt<$e;++Jt)nt.push(Ee=ve[U](Ye[Jt])),Ee.onerror=Qe}function Ti(rn){rn=rn.target.result,nt.forEach(function(Pr,Bs){return Pr.error!=null&&(rt[Bs]=Pr.error)}),me({numFailures:fn,failures:rt,results:U==="delete"?q:nt.map(function(Pr){return Pr.result}),lastResult:rn})}Ee.onerror=function(rn){Qe(rn),Ti(rn)},Ee.onsuccess=Ti})},getMany:function(L){var $=L.trans,U=L.keys;return new Promise(function(q,V){q=St(q);for(var X,me=$.objectStore(N),Ie=U.length,ve=new Array(Ie),we=0,ke=0,Ee=function(nt){nt=nt.target,ve[nt._pos]=nt.result,++ke===we&&q(ve)},$e=jn(V),Qe=0;Qe<Ie;++Qe)U[Qe]!=null&&((X=me.get(U[Qe]))._pos=Qe,X.onsuccess=Ee,X.onerror=$e,++we);we===0&&q(ve)})},get:function(L){var $=L.trans,U=L.key;return new Promise(function(q,V){q=St(q);var X=$.objectStore(N).get(U);X.onsuccess=function(me){return q(me.target.result)},X.onerror=jn(V)})},query:(O=D,function(L){return new Promise(function($,U){$=St($);var q,V,X,we=L.trans,me=L.values,Ie=L.limit,Ee=L.query,ve=Ie===1/0?void 0:Ie,ke=Ee.index,Ee=Ee.range,we=we.objectStore(N),ke=ke.isPrimaryKey?we:we.index(ke.name),Ee=f(Ee);if(Ie===0)return $({result:[]});O?((ve=me?ke.getAll(Ee,ve):ke.getAllKeys(Ee,ve)).onsuccess=function($e){return $({result:$e.target.result})},ve.onerror=jn(U)):(q=0,V=!me&&"openKeyCursor"in ke?ke.openKeyCursor(Ee):ke.openCursor(Ee),X=[],V.onsuccess=function($e){var Qe=V.result;return Qe?(X.push(me?Qe.value:Qe.primaryKey),++q===Ie?$({result:X}):void Qe.continue()):$({result:X})},V.onerror=jn(U))})}),openCursor:function(L){var $=L.trans,U=L.values,q=L.query,V=L.reverse,X=L.unique;return new Promise(function(me,Ie){me=St(me);var ke=q.index,ve=q.range,we=$.objectStore(N),we=ke.isPrimaryKey?we:we.index(ke.name),ke=V?X?"prevunique":"prev":X?"nextunique":"next",Ee=!U&&"openKeyCursor"in we?we.openKeyCursor(f(ve),ke):we.openCursor(f(ve),ke);Ee.onerror=jn(Ie),Ee.onsuccess=St(function($e){var Qe,nt,rt,fn,Ye=Ee.result;Ye?(Ye.___id=++yf,Ye.done=!1,Qe=Ye.continue.bind(Ye),nt=(nt=Ye.continuePrimaryKey)&&nt.bind(Ye),rt=Ye.advance.bind(Ye),fn=function(){throw new Error("Cursor not stopped")},Ye.trans=$,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=St(Ie),Ye.next=function(){var Qt=this,Jt=1;return this.start(function(){return Jt--?Qt.continue():Qt.stop()}).then(function(){return Qt})},Ye.start=function(Qt){function Jt(){if(Ee.result)try{Qt()}catch(rn){Ye.fail(rn)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var Ti=new Promise(function(rn,Pr){rn=St(rn),Ee.onerror=jn(Pr),Ye.fail=Pr,Ye.stop=function(Bs){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=fn,rn(Bs)}});return Ee.onsuccess=St(function(rn){Ee.onsuccess=Jt,Jt()}),Ye.continue=Qe,Ye.continuePrimaryKey=nt,Ye.advance=rt,Jt(),Ti},me(Ye)):me(null)},Ie)})},count:function(L){var $=L.query,U=L.trans,q=$.index,V=$.range;return new Promise(function(X,me){var Ie=U.objectStore(N),ve=q.isPrimaryKey?Ie:Ie.index(q.name),Ie=f(V),ve=Ie?ve.count(Ie):ve.count();ve.onsuccess=St(function(we){return X(we.target.result)}),ve.onerror=jn(me)})}}}var y,b,x,B=(b=P,x=Ga((y=r).objectStoreNames),{schema:{name:y.name,tables:x.map(function(F){return b.objectStore(F)}).map(function(F){var O=F.keyPath,$=F.autoIncrement,N=l(O),L={},$={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:N,keyPath:O,autoIncrement:$,unique:!0,extractKey:gs(O)},indexes:Ga(F.indexNames).map(function(U){return F.index(U)}).map(function(X){var q=X.name,V=X.unique,me=X.multiEntry,X=X.keyPath,me={name:q,compound:l(X),keyPath:X,unique:V,multiEntry:me,extractKey:gs(X)};return L[xo(X)]=me}),getIndexByKeyPath:function(U){return L[xo(U)]}};return L[":id"]=$.primaryKey,O!=null&&(L[xo(O)]=$.primaryKey),$})},hasGetAll:0<x.length&&"getAll"in b.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),P=B.schema,D=B.hasGetAll,B=P.tables.map(h),I={};return B.forEach(function(F){return I[F.name]=F}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(F){if(!I[F])throw new Error("Table '".concat(F,"' not found"));return I[F]},MIN_KEY:-1/0,MAX_KEY:Co(i),schema:P}}function _f(r,i,u,f){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=gf(i,h,f),r.dbcore.reduce(function(y,b){return b=b.create,o(o({},y),b(y))},f))}}function mi(r,f){var u=f.db,f=_f(r._middlewares,u,r._deps,f);r.core=f.dbcore,r.tables.forEach(function(h){var y=h.name;r.core.schema.tables.some(function(b){return b.name===y})&&(h.core=r.core.table(y),r[y]instanceof r.Table&&(r[y].core=h.core))})}function vi(r,i,u,f){u.forEach(function(h){var y=f[h];i.forEach(function(b){var x=function P(D,B){return Re(D,B)||(D=v(D))&&P(D,B)}(b,h);(!x||"value"in x&&x.value===void 0)&&(b===r.Transaction.prototype||b instanceof r.Transaction?H(b,h,{get:function(){return this.table(h)},set:function(P){C(this,h,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):b[h]=new r.Table(h,y))})})}function _s(r,i){i.forEach(function(u){for(var f in u)u[f]instanceof r.Table&&delete u[f]})}function bf(r,i){return r._cfg.version-i._cfg.version}function wf(r,i,u,f){var h=r._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=ys("$meta",Ja("")[0],[]),r._storeNames.push("$meta"));var y=r._createTransaction("readwrite",r._storeNames,h);y.create(u),y._completion.catch(f);var b=y._reject.bind(y),x=Oe.transless||Oe;$n(function(){return Oe.trans=y,Oe.transless=x,i!==0?(mi(r,u),D=i,((P=y).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(B){return B??D}):xe.resolve(D)).then(function(B){return F=B,O=y,N=u,L=[],B=(I=r)._versions,$=I._dbSchema=gi(0,I.idbdb,N),(B=B.filter(function(U){return U._cfg.version>=F})).length!==0?(B.forEach(function(U){L.push(function(){var q=$,V=U._cfg.dbschema;_i(I,q,N),_i(I,V,N),$=I._dbSchema=V;var X=bs(q,V);X.add.forEach(function(ke){ws(N,ke[0],ke[1].primKey,ke[1].indexes)}),X.change.forEach(function(ke){if(ke.recreate)throw new G.Upgrade("Not yet support for changing primary key");var Ee=N.objectStore(ke.name);ke.add.forEach(function($e){return yi(Ee,$e)}),ke.change.forEach(function($e){Ee.deleteIndex($e.name),yi(Ee,$e)}),ke.del.forEach(function($e){return Ee.deleteIndex($e)})});var me=U._cfg.contentUpgrade;if(me&&U._cfg.version>F){mi(I,N),O._memoizedTables={};var Ie=ge(V);X.del.forEach(function(ke){Ie[ke]=q[ke]}),_s(I,[I.Transaction.prototype]),vi(I,[I.Transaction.prototype],c(Ie),Ie),O.schema=Ie;var ve,we=Et(me);return we&&sr(),X=xe.follow(function(){var ke;(ve=me(O))&&we&&(ke=Nn.bind(null,null),ve.then(ke,ke))}),ve&&typeof ve.then=="function"?xe.resolve(ve):X.then(function(){return ve})}}),L.push(function(q){var V,X,me=U._cfg.dbschema;V=me,X=q,[].slice.call(X.db.objectStoreNames).forEach(function(Ie){return V[Ie]==null&&X.db.deleteObjectStore(Ie)}),_s(I,[I.Transaction.prototype]),vi(I,[I.Transaction.prototype],I._storeNames,I._dbSchema),O.schema=I._dbSchema}),L.push(function(q){I.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(I.idbdb.version/10)===U._cfg.version?(I.idbdb.deleteObjectStore("$meta"),delete I._dbSchema.$meta,I._storeNames=I._storeNames.filter(function(V){return V!=="$meta"})):q.objectStore("$meta").put(U._cfg.version,"version"))})}),function U(){return L.length?xe.resolve(L.shift()(O.idbtrans)).then(U):xe.resolve()}().then(function(){Qa($,N)})):xe.resolve();var I,F,O,N,L,$}).catch(b)):(c(h).forEach(function(B){ws(u,B,h[B].primKey,h[B].indexes)}),mi(r,u),void xe.follow(function(){return r.on.populate.fire(y)}).catch(b));var P,D})}function Sf(r,i){Qa(r._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var u=gi(0,r.idbdb,i);_i(r,r._dbSchema,i);for(var f=0,h=bs(u,r._dbSchema).change;f<h.length;f++){var y=function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=i.objectStore(b.name);b.add.forEach(function(P){ie&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(P.src)),yi(x,P)})}(h[f]);if(typeof y=="object")return y.value}}function bs(r,i){var u,f={del:[],add:[],change:[]};for(u in r)i[u]||f.del.push(u);for(u in i){var h=r[u],y=i[u];if(h){var b={name:u,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||h.primKey.auto!==y.primKey.auto)b.recreate=!0,f.change.push(b);else{var x=h.idxByName,P=y.idxByName,D=void 0;for(D in x)P[D]||b.del.push(D);for(D in P){var B=x[D],I=P[D];B?B.src!==I.src&&b.change.push(I):b.add.push(I)}(0<b.del.length||0<b.add.length||0<b.change.length)&&f.change.push(b)}}else f.add.push([u,y])}return f}function ws(r,i,u,f){var h=r.db.createObjectStore(i,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(y){return yi(h,y)}),h}function Qa(r,i){c(r).forEach(function(u){i.db.objectStoreNames.contains(u)||(ie&&console.debug("Dexie: Creating missing table",u),ws(i,u,r[u].primKey,r[u].indexes))})}function yi(r,i){r.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function gi(r,i,u){var f={};return z(i.objectStoreNames,0).forEach(function(h){for(var y=u.objectStore(h),b=vs(Ya(D=y.keyPath),D||"",!0,!1,!!y.autoIncrement,D&&typeof D!="string",!0),x=[],P=0;P<y.indexNames.length;++P){var B=y.index(y.indexNames[P]),D=B.keyPath,B=vs(B.name,D,!!B.unique,!!B.multiEntry,!1,D&&typeof D!="string",!1);x.push(B)}f[h]=ys(h,b,x)}),f}function _i(r,i,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var y=f[h],b=u.objectStore(y);r._hasGetAll="getAll"in b;for(var x=0;x<b.indexNames.length;++x){var P=b.indexNames[x],D=b.index(P).keyPath,B=typeof D=="string"?D:"["+z(D).join("+")+"]";!i[y]||(D=i[y].idxByName[B])&&(D.name=P,delete i[y].idxByName[B],i[y].idxByName[P]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Ja(r){return r.split(",").map(function(i,u){var f=(i=i.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return vs(f,h||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),l(h),u===0)})}var Cf=(bi.prototype._parseStoresSpec=function(r,i){c(r).forEach(function(u){if(r[u]!==null){var f=Ja(r[u]),h=f.shift();if(h.unique=!0,h.multi)throw new G.Schema("Primary key cannot be multi-valued");f.forEach(function(y){if(y.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),i[u]=ys(u,h,f)}})},bi.prototype.stores=function(u){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,u):u;var u=i._versions,f={},h={};return u.forEach(function(y){d(f,y._cfg.storesSource),h=y._cfg.dbschema={},y._parseStoresSpec(f,h)}),i._dbSchema=h,_s(i,[i._allTables,i,i.Transaction.prototype]),vi(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],c(h),h),i._storeNames=c(h),this},bi.prototype.upgrade=function(r){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||S,r),this},bi);function bi(){}function Ss(r,i){var u=r._dbNamesDB;return u||(u=r._dbNamesDB=new Gn(Gr,{addons:[],indexedDB:r,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Cs(r){return r&&typeof r.databases=="function"}function xs(r){return $n(function(){return Oe.letThrough=!0,r()})}function Es(r){return!("from"in r)}var Gt=function(r,i){if(!this){var u=new Gt;return r&&"d"in r&&d(u,r),u}d(this,arguments.length?{d:1,from:r,to:1<arguments.length?i:r}:{d:0})};function Eo(r,i,u){var f=it(i,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Es(r))return d(r,{from:i,to:u,d:1});var h=r.l,f=r.r;if(it(u,r.from)<0)return h?Eo(h,i,u):r.l={from:i,to:u,d:1,l:null,r:null},Za(r);if(0<it(i,r.to))return f?Eo(f,i,u):r.r={from:i,to:u,d:1,l:null,r:null},Za(r);it(i,r.from)<0&&(r.from=i,r.l=null,r.d=f?f.d+1:1),0<it(u,r.to)&&(r.to=u,r.r=null,r.d=r.l?r.l.d+1:1),u=!r.r,h&&!r.l&&Io(r,h),f&&u&&Io(r,f)}}function Io(r,i){Es(i)||function u(f,P){var y=P.from,b=P.to,x=P.l,P=P.r;Eo(f,y,b),x&&u(f,x),P&&u(f,P)}(r,i)}function Xa(r,i){var u=wi(i),f=u.next();if(f.done)return!1;for(var h=f.value,y=wi(r),b=y.next(h.from),x=b.value;!f.done&&!b.done;){if(it(x.from,h.to)<=0&&0<=it(x.to,h.from))return!0;it(h.from,x.from)<0?h=(f=u.next(x.from)).value:x=(b=y.next(h.from)).value}return!1}function wi(r){var i=Es(r)?null:{s:0,n:r};return{next:function(u){for(var f=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,f)for(;i.n.l&&it(u,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!f||it(u,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Za(r){var i,u,f=(((i=r.r)===null||i===void 0?void 0:i.d)||0)-(((u=r.l)===null||u===void 0?void 0:u.d)||0),h=1<f?"r":f<-1?"l":"";h&&(i=h=="r"?"l":"r",u=o({},r),f=r[h],r.from=f.from,r.to=f.to,r[h]=f[h],u[h]=f[i],(r[i]=u).d=eu(u)),r.d=eu(r)}function eu(u){var i=u.r,u=u.l;return(i?u?Math.max(i.d,u.d):i.d:u?u.d:0)+1}function Si(r,i){return c(i).forEach(function(u){r[u]?Io(r[u],i[u]):r[u]=function f(h){var y,b,x={};for(y in h)m(h,y)&&(b=h[y],x[y]=!b||typeof b!="object"||ce.has(b.constructor)?b:f(b));return x}(i[u])}),r}function Is(r,i){return r.all||i.all||Object.keys(r).some(function(u){return i[u]&&Xa(i[u],r[u])})}_(Gt.prototype,((yn={add:function(r){return Io(this,r),this},addKey:function(r){return Eo(this,r,r),this},addKeys:function(r){var i=this;return r.forEach(function(u){return Eo(i,u,u)}),this},hasKey:function(r){var i=wi(this).next(r).value;return i&&it(i.from,r)<=0&&0<=it(i.to,r)}})[Ge]=function(){return wi(this)},yn));var Tr={},Ts={},As=!1;function Ci(r){Si(Ts,r),As||(As=!0,setTimeout(function(){As=!1,Ps(Ts,!(Ts={}))},0))}function Ps(r,i){i===void 0&&(i=!1);var u=new Set;if(r.all)for(var f=0,h=Object.values(Tr);f<h.length;f++)tu(b=h[f],r,u,i);else for(var y in r){var b,x=/^idb\:\/\/(.*)\/(.*)\//.exec(y);x&&(y=x[1],x=x[2],(b=Tr["idb://".concat(y,"/").concat(x)])&&tu(b,r,u,i))}u.forEach(function(P){return P()})}function tu(r,i,u,f){for(var h=[],y=0,b=Object.entries(r.queries.query);y<b.length;y++){for(var x=b[y],P=x[0],D=[],B=0,I=x[1];B<I.length;B++){var F=I[B];Is(i,F.obsSet)?F.subscribers.forEach(function($){return u.add($)}):f&&D.push(F)}f&&h.push([P,D])}if(f)for(var O=0,N=h;O<N.length;O++){var L=N[O],P=L[0],D=L[1];r.queries.query[P]=D}}function xf(r){var i=r._state,u=r._deps.indexedDB;if(i.isBeingOpened||r.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Tt(i.dbOpenError):r});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var f=i.openCanceller,h=Math.round(10*r.verno),y=!1;function b(){if(i.openCanceller!==f)throw new G.DatabaseClosed("db.open() was cancelled")}function x(){return new xe(function(F,O){if(b(),!u)throw new G.MissingAPI;var N=r.name,L=i.autoSchema||!h?u.open(N):u.open(N,h);if(!L)throw new G.MissingAPI;L.onerror=jn(O),L.onblocked=St(r._fireOnBlocked),L.onupgradeneeded=St(function($){var U;B=L.transaction,i.autoSchema&&!r._options.allowEmptyDB?(L.onerror=wo,B.abort(),L.result.close(),(U=u.deleteDatabase(N)).onsuccess=U.onerror=St(function(){O(new G.NoSuchDatabase("Database ".concat(N," doesnt exist")))})):(B.onerror=jn(O),$=$.oldVersion>Math.pow(2,62)?0:$.oldVersion,I=$<1,r.idbdb=L.result,y&&Sf(r,B),wf(r,$/10,B,O))},O),L.onsuccess=St(function(){B=null;var $,U,q,V,X,me=r.idbdb=L.result,Ie=z(me.objectStoreNames);if(0<Ie.length)try{var ve=me.transaction((V=Ie).length===1?V[0]:V,"readonly");if(i.autoSchema)U=me,q=ve,($=r).verno=U.version/10,q=$._dbSchema=gi(0,U,q),$._storeNames=z(U.objectStoreNames,0),vi($,[$._allTables],c(q),q);else if(_i(r,r._dbSchema,ve),((X=bs(gi(0,(X=r).idbdb,ve),X._dbSchema)).add.length||X.change.some(function(we){return we.add.length||we.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),me.close(),h=me.version+1,y=!0,F(x());mi(r,ve)}catch{}cn.push(r),me.onversionchange=St(function(we){i.vcFired=!0,r.on("versionchange").fire(we)}),me.onclose=St(function(we){r.on("close").fire(we)}),I&&(X=r._deps,ve=N,me=X.indexedDB,X=X.IDBKeyRange,Cs(me)||ve===Gr||Ss(me,X).put({name:ve}).catch(S)),F()},O)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(0<h)return h=0,x()}return xe.reject(F)})}var P,D=i.dbReadyResolve,B=null,I=!1;return xe.race([f,(typeof navigator>"u"?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function O(){return indexedDB.databases().finally(F)}P=setInterval(O,100),O()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(x)]).then(function(){return b(),i.onReadyBeingFired=[],xe.resolve(xs(function(){return r.on.ready.fire(r.vip)})).then(function F(){if(0<i.onReadyBeingFired.length){var O=i.onReadyBeingFired.reduce(ye,S);return i.onReadyBeingFired=[],xe.resolve(xs(function(){return O(r.vip)})).then(F)}})}).finally(function(){i.openCanceller===f&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(F){i.dbOpenError=F;try{B&&B.abort()}catch{}return f===i.openCanceller&&r._close(),Tt(F)}).finally(function(){i.openComplete=!0,D()}).then(function(){var F;return I&&(F={},r.tables.forEach(function(O){O.schema.indexes.forEach(function(N){N.name&&(F["idb://".concat(r.name,"/").concat(O.name,"/").concat(N.name)]=new Gt(-1/0,[[[]]]))}),F["idb://".concat(r.name,"/").concat(O.name,"/")]=F["idb://".concat(r.name,"/").concat(O.name,"/:dels")]=new Gt(-1/0,[[[]]])}),lr(So).fire(F),Ps(F,!0)),r})}function Rs(r){function i(y){return r.next(y)}var u=h(i),f=h(function(y){return r.throw(y)});function h(y){return function(P){var x=y(P),P=x.value;return x.done?P:P&&typeof P.then=="function"?P.then(u,f):l(P)?Promise.all(P).then(u,f):u(P)}}return h(i)()}function xi(r,i,u){for(var f=l(r)?r.slice():[r],h=0;h<u;++h)f.push(i);return f}var Ef={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return o(o({},r),{table:function(i){var u=r.table(i),f=u.schema,h={},y=[];function b(I,F,O){var N=xo(I),L=h[N]=h[N]||[],$=I==null?0:typeof I=="string"?1:I.length,U=0<F,U=o(o({},O),{name:U?"".concat(N,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:U,keyTail:F,keyLength:$,extractKey:gs(I),unique:!U&&O.unique});return L.push(U),U.isPrimaryKey||y.push(U),1<$&&b($===2?I[0]:I.slice(0,$-1),F+1,O),L.sort(function(q,V){return q.keyTail-V.keyTail}),U}i=b(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[i];for(var x=0,P=f.indexes;x<P.length;x++){var D=P[x];b(D.keyPath,0,D)}function B(I){var F,O=I.query.index;return O.isVirtual?o(o({},I),{query:{index:O.lowLevelIndex,range:(F=I.query.range,O=O.keyTail,{type:F.type===1?2:F.type,lower:xi(F.lower,F.lowerOpen?r.MAX_KEY:r.MIN_KEY,O),lowerOpen:!0,upper:xi(F.upper,F.upperOpen?r.MIN_KEY:r.MAX_KEY,O),upperOpen:!0})}}):I}return o(o({},u),{schema:o(o({},f),{primaryKey:i,indexes:y,getIndexByKeyPath:function(I){return(I=h[xo(I)])&&I[0]}}),count:function(I){return u.count(B(I))},query:function(I){return u.query(B(I))},openCursor:function(I){var F=I.query.index,O=F.keyTail,N=F.isVirtual,L=F.keyLength;return N?u.openCursor(B(I)).then(function(U){return U&&$(U)}):u.openCursor(I);function $(U){return Object.create(U,{continue:{value:function(q){q!=null?U.continue(xi(q,I.reverse?r.MAX_KEY:r.MIN_KEY,O)):I.unique?U.continue(U.key.slice(0,L).concat(I.reverse?r.MIN_KEY:r.MAX_KEY,O)):U.continue()}},continuePrimaryKey:{value:function(q,V){U.continuePrimaryKey(xi(q,r.MAX_KEY,O),V)}},primaryKey:{get:function(){return U.primaryKey}},key:{get:function(){var q=U.key;return L===1?q[0]:q.slice(0,L)}},value:{get:function(){return U.value}}})}}})}})}};function ks(r,i,u,f){return u=u||{},f=f||"",c(r).forEach(function(h){var y,b,x;m(i,h)?(y=r[h],b=i[h],typeof y=="object"&&typeof b=="object"&&y&&b?(x=ct(y))!==ct(b)?u[f+h]=i[h]:x==="Object"?ks(y,b,u,f+h+"."):y!==b&&(u[f+h]=i[h]):y!==b&&(u[f+h]=i[h])):u[f+h]=void 0}),c(i).forEach(function(h){m(r,h)||(u[f+h]=i[h])}),u}function Os(r,i){return i.type==="delete"?i.keys:i.keys||i.values.map(r.extractKey)}var If={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return o(o({},r),{table:function(i){var u=r.table(i),f=u.schema.primaryKey;return o(o({},u),{mutate:function(h){var y=Oe.trans,b=y.table(i).hook,x=b.deleting,P=b.creating,D=b.updating;switch(h.type){case"add":if(P.fire===S)break;return y._promise("readwrite",function(){return B(h)},!0);case"put":if(P.fire===S&&D.fire===S)break;return y._promise("readwrite",function(){return B(h)},!0);case"delete":if(x.fire===S)break;return y._promise("readwrite",function(){return B(h)},!0);case"deleteRange":if(x.fire===S)break;return y._promise("readwrite",function(){return function I(F,O,N){return u.query({trans:F,values:!1,query:{index:f,range:O},limit:N}).then(function(L){var $=L.result;return B({type:"delete",keys:$,trans:F}).then(function(U){return 0<U.numFailures?Promise.reject(U.failures[0]):$.length<N?{failures:[],numFailures:0,lastResult:void 0}:I(F,o(o({},O),{lower:$[$.length-1],lowerOpen:!0}),N)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function B(I){var F,O,N,L=Oe.trans,$=I.keys||Os(f,I);if(!$)throw new Error("Keys missing");return(I=I.type==="add"||I.type==="put"?o(o({},I),{keys:$}):o({},I)).type!=="delete"&&(I.values=s([],I.values)),I.keys&&(I.keys=s([],I.keys)),F=u,N=$,((O=I).type==="add"?Promise.resolve([]):F.getMany({trans:O.trans,keys:N,cache:"immutable"})).then(function(U){var q=$.map(function(V,X){var me,Ie,ve,we=U[X],ke={onerror:null,onsuccess:null};return I.type==="delete"?x.fire.call(ke,V,we,L):I.type==="add"||we===void 0?(me=P.fire.call(ke,V,I.values[X],L),V==null&&me!=null&&(I.keys[X]=V=me,f.outbound||se(I.values[X],f.keyPath,V))):(me=ks(we,I.values[X]),(Ie=D.fire.call(ke,me,V,we,L))&&(ve=I.values[X],Object.keys(Ie).forEach(function(Ee){m(ve,Ee)?ve[Ee]=Ie[Ee]:se(ve,Ee,Ie[Ee])}))),ke});return u.mutate(I).then(function(V){for(var X=V.failures,me=V.results,Ie=V.numFailures,V=V.lastResult,ve=0;ve<$.length;++ve){var we=(me||$)[ve],ke=q[ve];we==null?ke.onerror&&ke.onerror(X[ve]):ke.onsuccess&&ke.onsuccess(I.type==="put"&&U[ve]?I.values[ve]:we)}return{failures:X,results:me,numFailures:Ie,lastResult:V}}).catch(function(V){return q.forEach(function(X){return X.onerror&&X.onerror(V)}),Promise.reject(V)})})}}})}})}};function nu(r,i,u){try{if(!i||i.keys.length<r.length)return null;for(var f=[],h=0,y=0;h<i.keys.length&&y<r.length;++h)it(i.keys[h],r[y])===0&&(f.push(u?de(i.values[h]):i.values[h]),++y);return f.length===r.length?f:null}catch{return null}}var Tf={stack:"dbcore",level:-1,create:function(r){return{table:function(i){var u=r.table(i);return o(o({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=nu(f.keys,f.trans._cache,f.cache==="clone");return h?xe.resolve(h):u.getMany(f).then(function(y){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?de(y):y},y})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function ru(r,i){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function ou(r,i){switch(r){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Af={stack:"dbcore",level:0,name:"Observability",create:function(r){var i=r.schema.name,u=new Gt(r.MIN_KEY,r.MAX_KEY);return o(o({},r),{transaction:function(f,h,y){if(Oe.subscr&&h!=="readonly")throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return r.transaction(f,h,y)},table:function(f){var h=r.table(f),y=h.schema,b=y.primaryKey,I=y.indexes,x=b.extractKey,P=b.outbound,D=b.autoIncrement&&I.filter(function(O){return O.compound&&O.keyPath.includes(b.keyPath)}),B=o(o({},h),{mutate:function(O){function N(Ee){return Ee="idb://".concat(i,"/").concat(f,"/").concat(Ee),V[Ee]||(V[Ee]=new Gt)}var L,$,U,q=O.trans,V=O.mutatedParts||(O.mutatedParts={}),X=N(""),me=N(":dels"),Ie=O.type,ke=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[Os(b,O).filter(function(Ee){return Ee}),O.values]:[],ve=ke[0],we=ke[1],ke=O.trans._cache;return l(ve)?(X.addKeys(ve),(ke=Ie==="delete"||ve.length===we.length?nu(ve,ke):null)||me.addKeys(ve),(ke||we)&&(L=N,$=ke,U=we,y.indexes.forEach(function(Ee){var $e=L(Ee.name||"");function Qe(rt){return rt!=null?Ee.extractKey(rt):null}function nt(rt){return Ee.multiEntry&&l(rt)?rt.forEach(function(fn){return $e.addKey(fn)}):$e.addKey(rt)}($||U).forEach(function(rt,Qt){var Ye=$&&Qe($[Qt]),Qt=U&&Qe(U[Qt]);it(Ye,Qt)!==0&&(Ye!=null&&nt(Ye),Qt!=null&&nt(Qt))})}))):ve?(we={from:(we=ve.lower)!==null&&we!==void 0?we:r.MIN_KEY,to:(we=ve.upper)!==null&&we!==void 0?we:r.MAX_KEY},me.add(we),X.add(we)):(X.add(u),me.add(u),y.indexes.forEach(function(Ee){return N(Ee.name).add(u)})),h.mutate(O).then(function(Ee){return!ve||O.type!=="add"&&O.type!=="put"||(X.addKeys(Ee.results),D&&D.forEach(function($e){for(var Qe=O.values.map(function(Ye){return $e.extractKey(Ye)}),nt=$e.keyPath.findIndex(function(Ye){return Ye===b.keyPath}),rt=0,fn=Ee.results.length;rt<fn;++rt)Qe[rt][nt]=Ee.results[rt];N($e.name).addKeys(Qe)})),q.mutatedParts=Si(q.mutatedParts||{},V),Ee})}}),I=function(N){var L=N.query,N=L.index,L=L.range;return[N,new Gt((N=L.lower)!==null&&N!==void 0?N:r.MIN_KEY,(L=L.upper)!==null&&L!==void 0?L:r.MAX_KEY)]},F={get:function(O){return[b,new Gt(O.key)]},getMany:function(O){return[b,new Gt().addKeys(O.keys)]},count:I,query:I,openCursor:I};return c(F).forEach(function(O){B[O]=function(N){var L=Oe.subscr,$=!!L,U=ru(Oe,h)&&ou(O,N)?N.obsSet={}:L;if($){var q=function(we){return we="idb://".concat(i,"/").concat(f,"/").concat(we),U[we]||(U[we]=new Gt)},V=q(""),X=q(":dels"),L=F[O](N),$=L[0],L=L[1];if((O==="query"&&$.isPrimaryKey&&!N.values?X:q($.name||"")).add(L),!$.isPrimaryKey){if(O!=="count"){var me=O==="query"&&P&&N.values&&h.query(o(o({},N),{values:!1}));return h[O].apply(this,arguments).then(function(we){if(O==="query"){if(P&&N.values)return me.then(function(Qe){return Qe=Qe.result,V.addKeys(Qe),we});var ke=N.values?we.result.map(x):we.result;(N.values?V:X).addKeys(ke)}else if(O==="openCursor"){var Ee=we,$e=N.values;return Ee&&Object.create(Ee,{key:{get:function(){return X.addKey(Ee.primaryKey),Ee.key}},primaryKey:{get:function(){var Qe=Ee.primaryKey;return X.addKey(Qe),Qe}},value:{get:function(){return $e&&V.addKey(Ee.primaryKey),Ee.value}}})}return we})}X.add(u)}}return h[O].apply(this,arguments)}}),B}})}};function iu(r,i,u){if(u.numFailures===0)return i;if(i.type==="deleteRange")return null;var f=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return u.numFailures===f?null:(i=o({},i),l(i.keys)&&(i.keys=i.keys.filter(function(h,y){return!(y in u.failures)})),"values"in i&&l(i.values)&&(i.values=i.values.filter(function(h,y){return!(y in u.failures)})),i)}function Ds(r,i){return u=r,((f=i).lower===void 0||(f.lowerOpen?0<it(u,f.lower):0<=it(u,f.lower)))&&(r=r,(i=i).upper===void 0||(i.upperOpen?it(r,i.upper)<0:it(r,i.upper)<=0));var u,f}function su(r,i,F,f,h,y){if(!F||F.length===0)return r;var b=i.query.index,x=b.multiEntry,P=i.query.range,D=f.schema.primaryKey.extractKey,B=b.extractKey,I=(b.lowLevelIndex||b).extractKey,F=F.reduce(function(O,N){var L=O,$=[];if(N.type==="add"||N.type==="put")for(var U=new Gt,q=N.values.length-1;0<=q;--q){var V,X=N.values[q],me=D(X);U.hasKey(me)||(V=B(X),(x&&l(V)?V.some(function(Ee){return Ds(Ee,P)}):Ds(V,P))&&(U.addKey(me),$.push(X)))}switch(N.type){case"add":var Ie=new Gt().addKeys(i.values?O.map(function($e){return D($e)}):O),L=O.concat(i.values?$.filter(function($e){return $e=D($e),!Ie.hasKey($e)&&(Ie.addKey($e),!0)}):$.map(function($e){return D($e)}).filter(function($e){return!Ie.hasKey($e)&&(Ie.addKey($e),!0)}));break;case"put":var ve=new Gt().addKeys(N.values.map(function($e){return D($e)}));L=O.filter(function($e){return!ve.hasKey(i.values?D($e):$e)}).concat(i.values?$:$.map(function($e){return D($e)}));break;case"delete":var we=new Gt().addKeys(N.keys);L=O.filter(function($e){return!we.hasKey(i.values?D($e):$e)});break;case"deleteRange":var ke=N.range;L=O.filter(function($e){return!Ds(D($e),ke)})}return L},r);return F===r?r:(F.sort(function(O,N){return it(I(O),I(N))||it(D(O),D(N))}),i.limit&&i.limit<1/0&&(F.length>i.limit?F.length=i.limit:r.length===i.limit&&F.length<i.limit&&(h.dirty=!0)),y?Object.freeze(F):F)}function au(r,i){return it(r.lower,i.lower)===0&&it(r.upper,i.upper)===0&&!!r.lowerOpen==!!i.lowerOpen&&!!r.upperOpen==!!i.upperOpen}function Pf(r,i){return function(u,f,h,y){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=it(u,f))===0){if(h&&y)return 0;if(h)return 1;if(y)return-1}return f}(r.lower,i.lower,r.lowerOpen,i.lowerOpen)<=0&&0<=function(u,f,h,y){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=it(u,f))===0){if(h&&y)return 0;if(h)return-1;if(y)return 1}return f}(r.upper,i.upper,r.upperOpen,i.upperOpen)}function Rf(r,i,u,f){r.subscribers.add(u),f.addEventListener("abort",function(){var h,y;r.subscribers.delete(u),r.subscribers.size===0&&(h=r,y=i,setTimeout(function(){h.subscribers.size===0&&et(y,h)},3e3))})}var kf={stack:"dbcore",level:0,name:"Cache",create:function(r){var i=r.schema.name;return o(o({},r),{transaction:function(u,f,h){var y,b,x=r.transaction(u,f,h);return f==="readwrite"&&(b=(y=new AbortController).signal,h=function(P){return function(){if(y.abort(),f==="readwrite"){for(var D=new Set,B=0,I=u;B<I.length;B++){var F=I[B],O=Tr["idb://".concat(i,"/").concat(F)];if(O){var N=r.table(F),L=O.optimisticOps.filter(function($e){return $e.trans===x});if(x._explicit&&P&&x.mutatedParts)for(var $=0,U=Object.values(O.queries.query);$<U.length;$++)for(var q=0,V=(Ie=U[$]).slice();q<V.length;q++)Is((ve=V[q]).obsSet,x.mutatedParts)&&(et(Ie,ve),ve.subscribers.forEach(function($e){return D.add($e)}));else if(0<L.length){O.optimisticOps=O.optimisticOps.filter(function($e){return $e.trans!==x});for(var X=0,me=Object.values(O.queries.query);X<me.length;X++)for(var Ie,ve,we,ke=0,Ee=(Ie=me[X]).slice();ke<Ee.length;ke++)(ve=Ee[ke]).res!=null&&x.mutatedParts&&(P&&!ve.dirty?(we=Object.isFrozen(ve.res),we=su(ve.res,ve.req,L,N,ve,we),ve.dirty?(et(Ie,ve),ve.subscribers.forEach(function($e){return D.add($e)})):we!==ve.res&&(ve.res=we,ve.promise=xe.resolve({result:we}))):(ve.dirty&&et(Ie,ve),ve.subscribers.forEach(function($e){return D.add($e)})))}}}D.forEach(function($e){return $e()})}}},x.addEventListener("abort",h(!1),{signal:b}),x.addEventListener("error",h(!1),{signal:b}),x.addEventListener("complete",h(!0),{signal:b})),x},table:function(u){var f=r.table(u),h=f.schema.primaryKey;return o(o({},f),{mutate:function(y){var b=Oe.trans;if(h.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return f.mutate(y);var x=Tr["idb://".concat(i,"/").concat(u)];return x?(b=f.mutate(y),y.type!=="add"&&y.type!=="put"||!(50<=y.values.length||Os(h,y).some(function(P){return P==null}))?(x.optimisticOps.push(y),y.mutatedParts&&Ci(y.mutatedParts),b.then(function(P){0<P.numFailures&&(et(x.optimisticOps,y),(P=iu(0,y,P))&&x.optimisticOps.push(P),y.mutatedParts&&Ci(y.mutatedParts))}),b.catch(function(){et(x.optimisticOps,y),y.mutatedParts&&Ci(y.mutatedParts)})):b.then(function(P){var D=iu(0,o(o({},y),{values:y.values.map(function(B,I){var F;return P.failures[I]?B:(B=(F=h.keyPath)!==null&&F!==void 0&&F.includes(".")?de(B):o({},B),se(B,h.keyPath,P.results[I]),B)})}),P);x.optimisticOps.push(D),queueMicrotask(function(){return y.mutatedParts&&Ci(y.mutatedParts)})}),b):f.mutate(y)},query:function(y){if(!ru(Oe,f)||!ou("query",y))return f.query(y);var b=((D=Oe.trans)===null||D===void 0?void 0:D.db._options.cache)==="immutable",I=Oe,x=I.requery,P=I.signal,D=function(N,L,$,U){var q=Tr["idb://".concat(N,"/").concat(L)];if(!q)return[];if(!(L=q.queries[$]))return[null,!1,q,null];var V=L[(U.query?U.query.index.name:null)||""];if(!V)return[null,!1,q,null];switch($){case"query":var X=V.find(function(me){return me.req.limit===U.limit&&me.req.values===U.values&&au(me.req.query.range,U.query.range)});return X?[X,!0,q,V]:[V.find(function(me){return("limit"in me.req?me.req.limit:1/0)>=U.limit&&(!U.values||me.req.values)&&Pf(me.req.query.range,U.query.range)}),!1,q,V];case"count":return X=V.find(function(me){return au(me.req.query.range,U.query.range)}),[X,!!X,q,V]}}(i,u,"query",y),B=D[0],I=D[1],F=D[2],O=D[3];return B&&I?B.obsSet=y.obsSet:(I=f.query(y).then(function(N){var L=N.result;if(B&&(B.res=L),b){for(var $=0,U=L.length;$<U;++$)Object.freeze(L[$]);Object.freeze(L)}else N.result=de(L);return N}).catch(function(N){return O&&B&&et(O,B),Promise.reject(N)}),B={obsSet:y.obsSet,promise:I,subscribers:new Set,type:"query",req:y,dirty:!1},O?O.push(B):(O=[B],(F=F||(Tr["idb://".concat(i,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[y.query.index.name||""]=O)),Rf(B,O,x,P),B.promise.then(function(N){return{result:su(N.result,y,F==null?void 0:F.optimisticOps,f,B,b)}})}})}})}};function Ei(r,i){return new Proxy(r,{get:function(u,f,h){return f==="db"?i:Reflect.get(u,f,h)}})}var Gn=($t.prototype.version=function(r){if(isNaN(r)||r<.1)throw new G.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var i=this._versions,u=i.filter(function(f){return f._cfg.version===r})[0];return u||(u=new this.Version(r),i.push(u),i.sort(bf),u.stores({}),this._state.autoSchema=!1,u)},$t.prototype._whenReady=function(r){var i=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?r():new xe(function(u,f){if(i._state.openComplete)return f(new G.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void f(new G.DatabaseClosed);i.open().catch(S)}i._state.dbReadyPromise.then(u,f)}).then(r)},$t.prototype.use=function(r){var i=r.stack,u=r.create,f=r.level,h=r.name;return h&&this.unuse({stack:i,name:h}),r=this._middlewares[i]||(this._middlewares[i]=[]),r.push({stack:i,create:u,level:f??10,name:h}),r.sort(function(y,b){return y.level-b.level}),this},$t.prototype.unuse=function(r){var i=r.stack,u=r.name,f=r.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},$t.prototype.open=function(){var r=this;return zn(It,function(){return xf(r)})},$t.prototype._close=function(){var r=this._state,i=cn.indexOf(this);if(0<=i&&cn.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new xe(function(u){r.dbReadyResolve=u}),r.openCanceller=new xe(function(u,f){r.cancelOpen=f}))},$t.prototype.close=function(u){var i=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;i?(u.isBeingOpened&&u.cancelOpen(new G.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new G.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},$t.prototype.delete=function(r){var i=this;r===void 0&&(r={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new xe(function(h,y){function b(){i.close(r);var x=i._deps.indexedDB.deleteDatabase(i.name);x.onsuccess=St(function(){var P,D,B;P=i._deps,D=i.name,B=P.indexedDB,P=P.IDBKeyRange,Cs(B)||D===Gr||Ss(B,P).delete(D).catch(S),h()}),x.onerror=jn(y),x.onblocked=i._fireOnBlocked}if(u)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(b):b()})},$t.prototype.backendDB=function(){return this.idbdb},$t.prototype.isOpen=function(){return this.idbdb!==null},$t.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},$t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},$t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty($t.prototype,"tables",{get:function(){var r=this;return c(this._allTables).map(function(i){return r._allTables[i]})},enumerable:!1,configurable:!0}),$t.prototype.transaction=function(){var r=(function(i,u,f){var h=arguments.length;if(h<2)throw new G.InvalidArgument("Too few arguments");for(var y=new Array(h-1);--h;)y[h-1]=arguments[h];return f=y.pop(),[i,_e(y),f]}).apply(this,arguments);return this._transaction.apply(this,r)},$t.prototype._transaction=function(r,i,u){var f=this,h=Oe.trans;h&&h.db===this&&r.indexOf("!")===-1||(h=null);var y,b,x=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(b=i.map(function(D){if(D=D instanceof f.Table?D.name:D,typeof D!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return D}),r=="r"||r===ar)y=ar;else{if(r!="rw"&&r!=Er)throw new G.InvalidArgument("Invalid transaction mode: "+r);y=Er}if(h){if(h.mode===ar&&y===Er){if(!x)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&b.forEach(function(D){if(h&&h.storeNames.indexOf(D)===-1){if(!x)throw new G.SubTransaction("Table "+D+" not included in parent transaction.");h=null}}),x&&h&&!h.active&&(h=null)}}catch(D){return h?h._promise(null,function(B,I){I(D)}):Tt(D)}var P=(function D(B,I,F,O,N){return xe.resolve().then(function(){var L=Oe.transless||Oe,$=B._createTransaction(I,F,B._dbSchema,O);if($.explicit=!0,L={trans:$,transless:L},O)$.idbtrans=O.idbtrans;else try{$.create(),$.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(V){return V.name===ee.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return D(B,I,F,null,N)})):Tt(V)}var U,q=Et(N);return q&&sr(),L=xe.follow(function(){var V;(U=N.call($,$))&&(q?(V=Nn.bind(null,null),U.then(V,V)):typeof U.next=="function"&&typeof U.throw=="function"&&(U=Rs(U)))},L),(U&&typeof U.then=="function"?xe.resolve(U).then(function(V){return $.active?V:Tt(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return U})).then(function(V){return O&&$._resolve(),$._completion.then(function(){return V})}).catch(function(V){return $._reject(V),Tt(V)})})}).bind(null,this,y,b,h,u);return h?h._promise(y,P,"lock"):Oe.trans?zn(Oe.transless,function(){return f._whenReady(P)}):this._whenReady(P)},$t.prototype.table=function(r){if(!m(this._allTables,r))throw new G.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},$t);function $t(r,i){var u=this;this._middlewares={},this.verno=0;var f=$t.dependencies;this._options=i=o({addons:$t.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},f=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,y,b,x,P,D={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:S,dbReadyPromise:null,cancelOpen:S,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};D.dbReadyPromise=new xe(function(I){D.dbReadyResolve=I}),D.openCanceller=new xe(function(I,F){D.cancelOpen=F}),this._state=D,this.name=r,this.on=M(this,"populate","blocked","versionchange","close",{ready:[ye,S]}),this.on.ready.subscribe=le(this.on.ready.subscribe,function(I){return function(F,O){$t.vip(function(){var N,L=u._state;L.openComplete?(L.dbOpenError||xe.resolve().then(F),O&&I(F)):L.onReadyBeingFired?(L.onReadyBeingFired.push(F),O&&I(F)):(I(F),N=u,O||I(function $(){N.on.ready.unsubscribe(F),N.on.ready.unsubscribe($)}))})}}),this.Collection=(h=this,k(Pt.prototype,function(U,$){this.db=h;var O=di,N=null;if($)try{O=$()}catch(q){N=q}var L=U._ctx,$=L.table,U=$.hook.reading.fire;this._ctx={table:$,index:L.index,isPrimKey:!L.index||$.schema.primKey.keyPath&&L.index===$.schema.primKey.name,range:O,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:N,or:L.or,valueMapper:U!==E?U:null}})),this.Table=(y=this,k(w.prototype,function(I,F,O){this.db=y,this._tx=O,this.name=I,this.schema=F,this.hook=y._allTables[I]?y._allTables[I].hook:M(null,{creating:[oe,S],reading:[K,E],updating:[Te,S],deleting:[ne,S]})})),this.Transaction=(b=this,k(vf.prototype,function(I,F,O,N,L){var $=this;this.db=b,this.mode=I,this.storeNames=F,this.schema=O,this.chromeTransactionDurability=N,this.idbtrans=null,this.on=M(this,"complete","error","abort"),this.parent=L||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(U,q){$._resolve=U,$._reject=q}),this._completion.then(function(){$.active=!1,$.on.complete.fire()},function(U){var q=$.active;return $.active=!1,$.on.error.fire(U),$.parent?$.parent._reject(U):q&&$.idbtrans&&$.idbtrans.abort(),Tt(U)})})),this.Version=(x=this,k(Cf.prototype,function(I){this.db=x,this._cfg={version:I,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,k(bo.prototype,function(I,F,O){if(this.db=P,this._ctx={table:I,index:F===":id"?null:F,or:O},this._cmp=this._ascending=it,this._descending=function(N,L){return it(L,N)},this._max=function(N,L){return 0<it(N,L)?N:L},this._min=function(N,L){return it(N,L)<0?N:L},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})),this.on("versionchange",function(I){0<I.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(I){!I.newVersion||I.newVersion<I.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(I.oldVersion/10))}),this._maxKey=Co(i.IDBKeyRange),this._createTransaction=function(I,F,O,N){return new u.Transaction(I,F,O,u._options.chromeTransactionDurability,N)},this._fireOnBlocked=function(I){u.on("blocked").fire(I),cn.filter(function(F){return F.name===u.name&&F!==u&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(I)})},this.use(Tf),this.use(kf),this.use(Af),this.use(Ef),this.use(If);var B=new Proxy(this,{get:function(I,F,O){if(F==="_vip")return!0;if(F==="table")return function(L){return Ei(u.table(L),B)};var N=Reflect.get(I,F,O);return N instanceof w?Ei(N,B):F==="tables"?N.map(function(L){return Ei(L,B)}):F==="_createTransaction"?function(){return Ei(N.apply(this,arguments),B)}:N}});this.vip=B,f.forEach(function(I){return I(u)})}var Ii,yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Of=($s.prototype.subscribe=function(r,i,u){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:i,complete:u})},$s.prototype[yn]=function(){return this},$s);function $s(r){this._subscribe=r}try{Ii={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ii={indexedDB:null,IDBKeyRange:null}}function uu(r){var i,u=!1,f=new Of(function(h){var y=Et(r),b,x=!1,P={},D={},B={get closed(){return x},unsubscribe:function(){x||(x=!0,b&&b.abort(),I&&lr.storagemutated.unsubscribe(O))}};h.start&&h.start(B);var I=!1,F=function(){return vo(N)},O=function(L){Si(P,L),Is(D,P)&&F()},N=function(){var L,$,U;!x&&Ii.indexedDB&&(P={},L={},b&&b.abort(),b=new AbortController,U=function(q){var V=or();try{y&&sr();var X=$n(r,q);return X=y?X.finally(Nn):X}finally{V&&ir()}}($={subscr:L,signal:b.signal,requery:F,querier:r,trans:null}),Promise.resolve(U).then(function(q){u=!0,i=q,x||$.signal.aborted||(P={},function(V){for(var X in V)if(m(V,X))return;return 1}(D=L)||I||(lr(So,O),I=!0),vo(function(){return!x&&h.next&&h.next(q)}))},function(q){u=!1,["DatabaseClosedError","AbortError"].includes(q==null?void 0:q.name)||x||vo(function(){x||h.error&&h.error(q)})}))};return setTimeout(F,0),B});return f.hasValue=function(){return u},f.getValue=function(){return i},f}var Ar=Gn;function Ns(r){var i=cr;try{cr=!0,lr.storagemutated.fire(r),Ps(r,!0)}finally{cr=i}}_(Ar,o(o({},dt),{delete:function(r){return new Ar(r,{addons:[]}).delete()},exists:function(r){return new Ar(r,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return i=Ar.dependencies,u=i.indexedDB,i=i.IDBKeyRange,(Cs(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Gr})}):Ss(u,i).toCollection().primaryKeys()).then(r)}catch{return Tt(new G.MissingAPI)}var i,u},defineClass:function(){return function(r){d(this,r)}},ignoreTransaction:function(r){return Oe.trans?zn(Oe.transless,r):r()},vip:xs,async:function(r){return function(){try{var i=Rs(r.apply(this,arguments));return i&&typeof i.then=="function"?i:xe.resolve(i)}catch(u){return Tt(u)}}},spawn:function(r,i,u){try{var f=Rs(r.apply(u,i||[]));return f&&typeof f.then=="function"?f:xe.resolve(f)}catch(h){return Tt(h)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(r,i){return i=xe.resolve(typeof r=="function"?Ar.ignoreTransaction(r):r).timeout(i||6e4),Oe.trans?Oe.trans.waitFor(i):i},Promise:xe,debug:{get:function(){return ie},set:function(r){je(r)}},derive:te,extend:d,props:_,override:le,Events:M,on:lr,liveQuery:uu,extendObservabilitySet:Si,getByKeyPath:Se,setByKeyPath:se,delByKeyPath:function(r,i){typeof i=="string"?se(r,i,void 0):"length"in i&&[].map.call(i,function(u){se(r,u,void 0)})},shallowClone:ge,deepClone:de,getObjectDiff:ks,cmp:it,asap:j,minKey:-1/0,addons:[],connections:cn,errnames:ee,dependencies:Ii,cache:Tr,semVer:"4.0.11",version:"4.0.11".split(".").map(function(r){return parseInt(r)}).reduce(function(r,i,u){return r+i/Math.pow(10,2*u)})})),Ar.maxKey=Co(Ar.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lr(So,function(r){cr||(r=new CustomEvent(ms,{detail:r}),cr=!0,dispatchEvent(r),cr=!1)}),addEventListener(ms,function(r){r=r.detail,cr||Ns(r)}));var Qr,cr=!1,lu=function(){};return typeof BroadcastChannel<"u"&&((lu=function(){(Qr=new BroadcastChannel(ms)).onmessage=function(r){return r.data&&Ns(r.data)}})(),typeof Qr.unref=="function"&&Qr.unref(),lr(So,function(r){cr||Qr.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!Gn.disableBfCache&&r.persisted){ie&&console.debug("Dexie: handling persisted pagehide"),Qr!=null&&Qr.close();for(var i=0,u=cn;i<u.length;i++)u[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!Gn.disableBfCache&&r.persisted&&(ie&&console.debug("Dexie: handling persisted pageshow"),lu(),Ns({all:new Gt(-1/0,[[]])}))})),xe.rejectionMapper=function(r,i){return!r||r instanceof en||r instanceof TypeError||r instanceof SyntaxError||!r.name||!Me[r.name]?r:(i=new Me[r.name](i||r.message,r),"stack"in r&&H(i,"stack",{get:function(){return this.inner.stack}}),i)},je(ie),o(Gn,Object.freeze({__proto__:null,Dexie:Gn,liveQuery:uu,Entity:hi,cmp:it,PropModification:ut,replacePrefix:function(r,i){return new ut({replacePrefix:[r,i]})},add:function(r){return new ut({add:r})},remove:function(r){return new ut({remove:r})},default:Gn,RangeSet:Gt,mergeRanges:Io,rangesOverlap:Xa}),{default:Gn}),Gn})}(Mi)),Mi.exports}var Op=kp();const va=Qc(Op),nl=Symbol.for("Dexie"),ya=globalThis[nl]||(globalThis[nl]=va);if(va.semVer!==ya.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${va.semVer} and ${ya.semVer}`);class Dp extends ya{constructor(){super("MemoryAppDB");Jr(this,"categories");Jr(this,"themes");Jr(this,"cards");Jr(this,"files");Jr(this,"settings");this.version(1).stores({categories:"id, name, description",themes:"id, categoryId, name, description, isThemeSelected",cards:"id, themeId, front, back, multimediaFront, multimediaBack, level",files:"id",settings:"id, displayName, useDailyNotifications, profilePicture"})}}const Xe=new Dp,zt=[];for(let e=0;e<256;++e)zt.push((e+256).toString(16).slice(1));function $p(e,t=0){return(zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]).toLowerCase()}let Js;const Np=new Uint8Array(16);function Bp(){if(!Js){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Js=crypto.getRandomValues.bind(crypto)}return Js(Np)}const Mp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rl={randomUUID:Mp};function Ua(e,t,n){var s;if(rl.randomUUID&&!e)return rl.randomUUID();e=e||{};const o=e.random??((s=e.rng)==null?void 0:s.call(e))??Bp();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,$p(o)}const Tn=oi("card",()=>{const e=Ze([]),t=Ze(!1),n=async()=>{try{e.value=await Xe.cards.toArray()}catch(d){console.error("Erreur lors du chargement des cartes : ",d)}t.value=!0};return{cards:e,isLoaded:t,addCardOrUpdateIt:async(d,v,p)=>{if(d.id||(d.id=Ua(),d.createdAt=new Date().toISOString()),v){const m=new Blob([await v.arrayBuffer()],{type:v.type});await Xe.files.put({id:`${d.id}-front`,file:m}),d.multimediaFront=`${d.id}-front`}if(p){const m=new Blob([await p.arrayBuffer()],{type:p.type});await Xe.files.put({id:`${d.id}-back`,file:m}),d.multimediaBack=`${d.id}-back`}await Xe.cards.put({...d}),await n()},deleteCardById:async d=>{await Xe.cards.delete(d),await Xe.files.delete(`${d}-front`),await Xe.files.delete(`${d}-back`),await n()},getFileById:async d=>{const v=await Xe.files.get(d);return v?new Blob([v.file],{type:v.file.type}):null},loadCards:n,getCardsByThemeId:d=>e.value.filter(v=>v.themeId===d),getCardsByThemeList:d=>e.value.filter(v=>d.find(p=>p.id===v.themeId&&v.currentLevel<=p.maxLevel))}}),kn=oi("theme",()=>{const e=Ze([]),t=Ze(!1),n=async()=>{try{e.value=await Xe.themes.toArray()}catch(_){console.error("Erreur lors du chargement des thèmes : ",_)}t.value=!0};return{themes:e,isLoaded:t,addThemeOrUpdateIt:async _=>{_.id||(_.id=Ua(),_.createdAt=new Date().toISOString()),_.lastActivityAt=new Date().toISOString(),await Xe.themes.put({..._}),await n()},loadThemes:n,deleteThemeById:async _=>{await Xe.cards.where("themeId").equals(_).delete(),await Xe.themes.delete(_),await n()},deleteThemeByCategoryId:async _=>{const C=(await Xe.themes.where("categoryId").equals(_).toArray()).map(H=>H.id);await Xe.cards.where("themeId").anyOf(C).delete(),await Xe.themes.where("categoryId").equals(_).delete(),await n()},getThemeById:_=>e.value.find(C=>C.id===_),getThemesByCategoryId:_=>e.value.filter(C=>C.categoryId===_),setThemeSelected:async _=>{const C=await Xe.themes.get(_);C&&(C.isThemeSelected=!0,C.lastActivityAt=new Date().toISOString(),await Xe.themes.put(C),await n())},getSelectedThemes:()=>e.value.filter(_=>_.isThemeSelected),setThemeUnselected:async _=>{const C=await Xe.themes.get(_);C&&(C.isThemeSelected=!1,C.lastActivityAt=new Date().toISOString(),await Xe.themes.put(C),await n())},setLatestActivity:async _=>{const C=await Xe.themes.get(_);C&&(C.lastActivityAt=new Date().toISOString(),await Xe.themes.put(C),await n())}}}),Kr=oi("category",()=>{const e=Ze([]),t=Ze(!1),n=kn(),o=async()=>{try{e.value=await Xe.categories.toArray()}catch(l){console.error("Erreur lors du chargement des catégories : ",l)}t.value=!0};return{categories:e,isLoaded:t,addCategory:async l=>{l.id||(l.id=Ua()),await Xe.categories.put({...l}),await o()},deleteCategoryById:async l=>{n.getThemesByCategoryId(l).forEach(d=>{n.deleteThemeById(d.id)}),await Xe.categories.delete(l),await o()},loadCategories:o,getCategoryById:async l=>Xe.categories.get(l)}}),Go=()=>{const e=(W,z=1,le=2)=>Math.round(z*Math.pow(le,W)),t=(W=7,z=1,le=2)=>Array.from({length:W},(re,j)=>e(j,z,le));Kr();const n=kn(),o=Tn(),s=W=>new Date(W.getTime()-W.getTimezoneOffset()*6e4).toISOString().slice(0,10),a=(W,z=2)=>{let le=new Date;return le.setDate(le.getDate()+e(W-1,1,z)),le.setHours(0,0,0,0),s(le)},c=(W,z)=>{const le=new Date;if(!W.currentLevel||W.currentLevel>=z)return!1;if(W.nextReviewAt)return!W.nextReviewAt||new Date(W.nextReviewAt)<=le},l=W=>{const z=s(new Date);return W.currentLevel===1&&W.firstReviewedAt&&s(new Date(W.firstReviewedAt))==z},d=(W,z)=>{if(W==null&&(W=o.cards),z&&W.reduce((j,Se)=>l(Se)?j+1:j,0)>=z)return[];let le=W.filter(re=>!re.currentLevel);return!z||le.length<=z?le:Pp(le).slice(0,z)},v=(W,z,le)=>{let re=[];return re=W.filter(j=>c(j,z)).sort((j,Se)=>Se.currentLevel-j.currentLevel),re.push(...d(W,le)),re},p=(W=n.themes,z=o.cards)=>{let le=[];return W.forEach(re=>{let j=z.filter(ge=>re.id===ge.themeId),Se=j.filter(ge=>c(ge,re.maxLevel)).sort((ge,ue)=>ue.currentLevel-ge.currentLevel),se=d(j,re.newCardsPerDay).length;le.push({themeId:re.id,cards:Se,newCards:se})}),le},m=(W=n.themes,z=o.cards,le)=>{let re=[];return W.forEach(j=>{let se=z.filter(_e=>j.id===_e.themeId).filter(_e=>{if(!_e.nextReviewAt)return!1;const ce=new Date(_e.nextReviewAt),Z=new Date;switch(ce.setHours(0,0,0,0),Z.setHours(0,0,0,0),le){case"past":return c(_e,j.maxLevel)&&ce<Z;case"today":return c(_e,j.maxLevel)&&ce==Z;case"future":return ce>Z;default:return!0}}).sort((_e,ce)=>ce.currentLevel-_e.currentLevel);const ge=d(null,j.newCardsPerDay).length;let ue=le=="today"?ge:0;(se.length||ue)&&re.push({themeId:j.id,cards:se,newCards:ue})}),re},_=async(W,z,le=1)=>{let re=Tn();const j=new Date;if(W.lastReviewedAt=j.toISOString(),W.firstReviewedAt||(W.firstReviewedAt=j.toISOString()),W.currentLevel=le>0?Math.min((W.currentLevel??0)+le,z):Math.max((W.currentLevel??0)+le,1),W.currentLevel>=z){W.nextReviewAt=void 0;return}W.nextReviewAt=a(W.currentLevel),await re.addCardOrUpdateIt(W)};return{reviewInterval:e,generateReviewInterval:t,getCardsToPractice:v,promoteCard:(W,z)=>_(W,z,1),demoteCard:(W,z)=>_(W,z,-1),resetCardLevel:async W=>{let z=Tn();W.currentLevel=0,W.nextReviewAt=void 0,W.lastReviewedAt=void 0,W.firstReviewedAt=void 0,await z.addCardOrUpdateIt(W)},getCardsToPracticeTodayByTheme:p,getCardCountToPracticeToday:()=>p().reduce((W,z)=>W+z.cards.length+z.newCards,0),getThemesToPracticeByPeriod:m,formatDateToLocalISO:s}},ol="/Projet-Memory/assets/mariannepray-csTYKolm.png",as=oi("files",()=>{const e=Ze(!1),t=Ze([]),n=async()=>{try{t.value=await Xe.files.toArray()}catch(l){console.error("Erreur lors du chargement des cartes : ",l)}e.value=!0},o=async(l,d)=>{const v=new Blob([await d.arrayBuffer()],{type:d.type});await Xe.files.put({id:l,file:v}),await n()},s=async l=>{await Xe.files.delete({id:l})},a=l=>t.value.find(d=>d.id==l);return{loadFiles:n,files:t,addFile:o,deleteFileById:s,getFileById:a,isLoaded:e,getFileURLById:l=>{const d=a(l);return d!=null&&d.file?URL.createObjectURL(d.file):""}}}),us=oi("settings",()=>{const e=as(),t=Ze(),n=Ze(!1),o=async()=>{e.isLoaded||await e.loadFiles();try{t.value=(await Xe.settings.toArray())[0],t.value||await s()}catch(l){console.error("Erreur lors du chargement des paramètres : ",l)}n.value=!0},s=async()=>{let l={id:"1",displayName:"",useDailyNotification:!0,profilePicture:"",lastNotificationDate:""};await Xe.settings.put(l),await o()};return{settings:t,loadSettings:o,updateSettings:async(l,d)=>{d&&(await e.addFile("profile-picture",d),l.profilePicture="profile-picture"),await Xe.settings.put({id:"1",displayName:l.displayName,useDailyNotification:l.useDailyNotification,profilePicture:l.profilePicture,lastNotificationDate:l.lastNotificationDate}),await o()},setLastNotificationDate:async l=>{if(!t.value){console.error("Settings non chargées");return}t.value.lastNotificationDate=l,await Xe.settings.put({id:"1",displayName:t.value.displayName,useDailyNotification:t.value.useDailyNotification,profilePicture:t.value.profilePicture,lastNotificationDate:l})}}});function Jc(){const e=us(),t=st(()=>e.settings),n=()=>{var d;if(!t.value||((d=t.value)==null?void 0:d.useDailyNotification)===!1)return!1;const c=t.value.lastNotificationDate,l=new Date().toISOString().split("T")[0];return c===l?(console.log("Notification déjà envoyée aujourd'hui"),!1):!0},o=async()=>"Notification"in window?await Notification.requestPermission()==="granted":(console.error("Notifications non supportées par ce navigateur."),!1),s=async()=>{if(await Notification.requestPermission()!=="granted"){console.log("Permission refusée");return}await e.setLastNotificationDate(new Date().toISOString().split("T")[0]);const l=Go().getCardCountToPracticeToday(),d=a(l);"serviceWorker"in navigator&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Memory App",body:d,icon:ol}}):new Notification("Memory App",{body:d,icon:ol})},a=c=>c?`La révision du jour est disponible !
Vous avez ${c} cartes à réviser aujourd'hui.
Cliquez sur cette notification pour commencer !`:"Tout est bon ! Aucune carte à réviser aujourd'hui !";return{requestNotificationPermission:o,notifyUser:s,generatePracticeMessage:a,isNotificationSendable:n}}const Lp=ht({__name:"App",setup(e){const{requestNotificationPermission:t,notifyUser:n,isNotificationSendable:o}=Jc();return jr(async()=>{await t()&&setTimeout(()=>{o()&&n()},5e3)}),(s,a)=>{const c=ns("router-view");return Q(),vt(c)}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const to=typeof document<"u";function Xc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Fp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Xc(e.default)}const gt=Object.assign;function Xs(e,t){const n={};for(const o in t){const s=t[o];n[o]=Rn(s)?s.map(e):e(s)}return n}const Lo=()=>{},Rn=Array.isArray,Zc=/#/g,jp=/&/g,Kp=/\//g,Up=/=/g,qp=/\?/g,ef=/\+/g,Vp=/%5B/g,Hp=/%5D/g,tf=/%5E/g,Wp=/%60/g,nf=/%7B/g,zp=/%7C/g,rf=/%7D/g,Yp=/%20/g;function qa(e){return encodeURI(""+e).replace(zp,"|").replace(Vp,"[").replace(Hp,"]")}function Gp(e){return qa(e).replace(nf,"{").replace(rf,"}").replace(tf,"^")}function ga(e){return qa(e).replace(ef,"%2B").replace(Yp,"+").replace(Zc,"%23").replace(jp,"%26").replace(Wp,"`").replace(nf,"{").replace(rf,"}").replace(tf,"^")}function Qp(e){return ga(e).replace(Up,"%3D")}function Jp(e){return qa(e).replace(Zc,"%23").replace(qp,"%3F")}function Xp(e){return e==null?"":Jp(e).replace(Kp,"%2F")}function Qo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Zp=/\/$/,em=e=>e.replace(Zp,"");function Zs(e,t,n="/"){let o,s={},a="",c="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(o=t.slice(0,d),a=t.slice(d+1,l>-1?l:t.length),s=e(a)),l>-1&&(o=o||t.slice(0,l),c=t.slice(l,t.length)),o=om(o??t,n),{fullPath:o+(a&&"?")+a+c,path:o,query:s,hash:Qo(c)}}function tm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function il(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nm(e,t,n){const o=t.matched.length-1,s=n.matched.length-1;return o>-1&&o===s&&uo(t.matched[o],n.matched[s])&&of(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function uo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function of(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rm(e[n],t[n]))return!1;return!0}function rm(e,t){return Rn(e)?sl(e,t):Rn(t)?sl(t,e):e===t}function sl(e,t){return Rn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function om(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),s=o[o.length-1];(s===".."||s===".")&&o.push("");let a=n.length-1,c,l;for(c=0;c<o.length;c++)if(l=o[c],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+o.slice(c).join("/")}const dr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Jo;(function(e){e.pop="pop",e.push="push"})(Jo||(Jo={}));var Fo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fo||(Fo={}));function im(e){if(!e)if(to){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),em(e)}const sm=/^[^#]+#/;function am(e,t){return e.replace(sm,"#")+t}function um(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const ls=()=>({left:window.scrollX,top:window.scrollY});function lm(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=um(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function al(e,t){return(history.state?history.state.position-t:-1)+e}const _a=new Map;function cm(e,t){_a.set(e,t)}function fm(e){const t=_a.get(e);return _a.delete(e),t}let dm=()=>location.protocol+"//"+location.host;function sf(e,t){const{pathname:n,search:o,hash:s}=t,a=e.indexOf("#");if(a>-1){let l=s.includes(e.slice(a))?e.slice(a).length:1,d=s.slice(l);return d[0]!=="/"&&(d="/"+d),il(d,"")}return il(n,e)+o+s}function hm(e,t,n,o){let s=[],a=[],c=null;const l=({state:_})=>{const C=sf(e,location),H=n.value,te=t.value;let Re=0;if(_){if(n.value=C,t.value=_,c&&c===H){c=null;return}Re=te?_.position-te.position:0}else o(C);s.forEach(W=>{W(n.value,H,{delta:Re,type:Jo.pop,direction:Re?Re>0?Fo.forward:Fo.back:Fo.unknown})})};function d(){c=n.value}function v(_){s.push(_);const C=()=>{const H=s.indexOf(_);H>-1&&s.splice(H,1)};return a.push(C),C}function p(){const{history:_}=window;_.state&&_.replaceState(gt({},_.state,{scroll:ls()}),"")}function m(){for(const _ of a)_();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:d,listen:v,destroy:m}}function ul(e,t,n,o=!1,s=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:s?ls():null}}function pm(e){const{history:t,location:n}=window,o={value:sf(e,n)},s={value:t.state};s.value||a(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(d,v,p){const m=e.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+d:dm()+e+d;try{t[p?"replaceState":"pushState"](v,"",_),s.value=v}catch(C){console.error(C),n[p?"replace":"assign"](_)}}function c(d,v){const p=gt({},t.state,ul(s.value.back,d,s.value.forward,!0),v,{position:s.value.position});a(d,p,!0),o.value=d}function l(d,v){const p=gt({},s.value,t.state,{forward:d,scroll:ls()});a(p.current,p,!0);const m=gt({},ul(o.value,d,null),{position:p.position+1},v);a(d,m,!1),o.value=d}return{location:o,state:s,push:l,replace:c}}function mm(e){e=im(e);const t=pm(e),n=hm(e,t.state,t.location,t.replace);function o(a,c=!0){c||n.pauseListeners(),history.go(a)}const s=gt({location:"",base:e,go:o,createHref:am.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function vm(e){return typeof e=="string"||e&&typeof e=="object"}function af(e){return typeof e=="string"||typeof e=="symbol"}const uf=Symbol("");var ll;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ll||(ll={}));function lo(e,t){return gt(new Error,{type:e,[uf]:!0},t)}function Xn(e,t){return e instanceof Error&&uf in e&&(t==null||!!(e.type&t))}const cl="[^/]+?",ym={sensitive:!1,strict:!1,start:!0,end:!0},gm=/[.+*?^${}()[\]/\\]/g;function _m(e,t){const n=gt({},ym,t),o=[];let s=n.start?"^":"";const a=[];for(const v of e){const p=v.length?[]:[90];n.strict&&!v.length&&(s+="/");for(let m=0;m<v.length;m++){const _=v[m];let C=40+(n.sensitive?.25:0);if(_.type===0)m||(s+="/"),s+=_.value.replace(gm,"\\$&"),C+=40;else if(_.type===1){const{value:H,repeatable:te,optional:Re,regexp:W}=_;a.push({name:H,repeatable:te,optional:Re});const z=W||cl;if(z!==cl){C+=10;try{new RegExp(`(${z})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${H}" (${z}): `+re.message)}}let le=te?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;m||(le=Re&&v.length<2?`(?:/${le})`:"/"+le),Re&&(le+="?"),s+=le,C+=20,Re&&(C+=-8),te&&(C+=-20),z===".*"&&(C+=-50)}p.push(C)}o.push(p)}if(n.strict&&n.end){const v=o.length-1;o[v][o[v].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const c=new RegExp(s,n.sensitive?"":"i");function l(v){const p=v.match(c),m={};if(!p)return null;for(let _=1;_<p.length;_++){const C=p[_]||"",H=a[_-1];m[H.name]=C&&H.repeatable?C.split("/"):C}return m}function d(v){let p="",m=!1;for(const _ of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const C of _)if(C.type===0)p+=C.value;else if(C.type===1){const{value:H,repeatable:te,optional:Re}=C,W=H in v?v[H]:"";if(Rn(W)&&!te)throw new Error(`Provided param "${H}" is an array but it is not repeatable (* or + modifiers)`);const z=Rn(W)?W.join("/"):W;if(!z)if(Re)_.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${H}"`);p+=z}}return p||"/"}return{re:c,score:o,keys:a,parse:l,stringify:d}}function bm(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function lf(e,t){let n=0;const o=e.score,s=t.score;for(;n<o.length&&n<s.length;){const a=bm(o[n],s[n]);if(a)return a;n++}if(Math.abs(s.length-o.length)===1){if(fl(o))return 1;if(fl(s))return-1}return s.length-o.length}function fl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wm={type:0,value:""},Sm=/[a-zA-Z0-9_]/;function Cm(e){if(!e)return[[]];if(e==="/")return[[wm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${n})/"${v}": ${C}`)}let n=0,o=n;const s=[];let a;function c(){a&&s.push(a),a=[]}let l=0,d,v="",p="";function m(){v&&(n===0?a.push({type:0,value:v}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:v,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),v="")}function _(){v+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:d==="/"?(v&&m(),c()):d===":"?(m(),n=1):_();break;case 4:_(),n=o;break;case 1:d==="("?n=2:Sm.test(d)?_():(m(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:n=3:p+=d;break;case 3:m(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${v}"`),m(),c(),s}function xm(e,t,n){const o=_m(Cm(e.path),n),s=gt(o,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Em(e,t){const n=[],o=new Map;t=ml({strict:!1,end:!0,sensitive:!1},t);function s(m){return o.get(m)}function a(m,_,C){const H=!C,te=hl(m);te.aliasOf=C&&C.record;const Re=ml(t,m),W=[te];if("alias"in m){const re=typeof m.alias=="string"?[m.alias]:m.alias;for(const j of re)W.push(hl(gt({},te,{components:C?C.record.components:te.components,path:j,aliasOf:C?C.record:te})))}let z,le;for(const re of W){const{path:j}=re;if(_&&j[0]!=="/"){const Se=_.record.path,se=Se[Se.length-1]==="/"?"":"/";re.path=_.record.path+(j&&se+j)}if(z=xm(re,_,Re),C?C.alias.push(z):(le=le||z,le!==z&&le.alias.push(z),H&&m.name&&!pl(z)&&c(m.name)),cf(z)&&d(z),te.children){const Se=te.children;for(let se=0;se<Se.length;se++)a(Se[se],z,C&&C.children[se])}C=C||z}return le?()=>{c(le)}:Lo}function c(m){if(af(m)){const _=o.get(m);_&&(o.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(c),_.alias.forEach(c))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&o.delete(m.record.name),m.children.forEach(c),m.alias.forEach(c))}}function l(){return n}function d(m){const _=Am(m,n);n.splice(_,0,m),m.record.name&&!pl(m)&&o.set(m.record.name,m)}function v(m,_){let C,H={},te,Re;if("name"in m&&m.name){if(C=o.get(m.name),!C)throw lo(1,{location:m});Re=C.record.name,H=gt(dl(_.params,C.keys.filter(le=>!le.optional).concat(C.parent?C.parent.keys.filter(le=>le.optional):[]).map(le=>le.name)),m.params&&dl(m.params,C.keys.map(le=>le.name))),te=C.stringify(H)}else if(m.path!=null)te=m.path,C=n.find(le=>le.re.test(te)),C&&(H=C.parse(te),Re=C.record.name);else{if(C=_.name?o.get(_.name):n.find(le=>le.re.test(_.path)),!C)throw lo(1,{location:m,currentLocation:_});Re=C.record.name,H=gt({},_.params,m.params),te=C.stringify(H)}const W=[];let z=C;for(;z;)W.unshift(z.record),z=z.parent;return{name:Re,path:te,params:H,matched:W,meta:Tm(W)}}e.forEach(m=>a(m));function p(){n.length=0,o.clear()}return{addRoute:a,resolve:v,removeRoute:c,clearRoutes:p,getRoutes:l,getRecordMatcher:s}}function dl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function hl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Im(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Im(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function pl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Tm(e){return e.reduce((t,n)=>gt(t,n.meta),{})}function ml(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Am(e,t){let n=0,o=t.length;for(;n!==o;){const a=n+o>>1;lf(e,t[a])<0?o=a:n=a+1}const s=Pm(e);return s&&(o=t.lastIndexOf(s,o-1)),o}function Pm(e){let t=e;for(;t=t.parent;)if(cf(t)&&lf(e,t)===0)return t}function cf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rm(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<o.length;++s){const a=o[s].replace(ef," "),c=a.indexOf("="),l=Qo(c<0?a:a.slice(0,c)),d=c<0?null:Qo(a.slice(c+1));if(l in t){let v=t[l];Rn(v)||(v=t[l]=[v]),v.push(d)}else t[l]=d}return t}function vl(e){let t="";for(let n in e){const o=e[n];if(n=Qp(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Rn(o)?o.map(a=>a&&ga(a)):[o&&ga(o)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function km(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Rn(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return t}const Om=Symbol(""),yl=Symbol(""),Va=Symbol(""),Ha=Symbol(""),ba=Symbol("");function Po(){let e=[];function t(o){return e.push(o),()=>{const s=e.indexOf(o);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function yr(e,t,n,o,s,a=c=>c()){const c=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((l,d)=>{const v=_=>{_===!1?d(lo(4,{from:n,to:t})):_ instanceof Error?d(_):vm(_)?d(lo(2,{from:t,to:_})):(c&&o.enterCallbacks[s]===c&&typeof _=="function"&&c.push(_),l())},p=a(()=>e.call(o&&o.instances[s],t,n,v));let m=Promise.resolve(p);e.length<3&&(m=m.then(v)),m.catch(_=>d(_))})}function ea(e,t,n,o,s=a=>a()){const a=[];for(const c of e)for(const l in c.components){let d=c.components[l];if(!(t!=="beforeRouteEnter"&&!c.instances[l]))if(Xc(d)){const p=(d.__vccOpts||d)[t];p&&a.push(yr(p,n,o,c,l,s))}else{let v=d();a.push(()=>v.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${c.path}"`);const m=Fp(p)?p.default:p;c.mods[l]=p,c.components[l]=m;const C=(m.__vccOpts||m)[t];return C&&yr(C,n,o,c,l,s)()}))}}return a}function gl(e){const t=En(Va),n=En(Ha),o=st(()=>{const d=Je(e.to);return t.resolve(d)}),s=st(()=>{const{matched:d}=o.value,{length:v}=d,p=d[v-1],m=n.matched;if(!p||!m.length)return-1;const _=m.findIndex(uo.bind(null,p));if(_>-1)return _;const C=_l(d[v-2]);return v>1&&_l(p)===C&&m[m.length-1].path!==C?m.findIndex(uo.bind(null,d[v-2])):_}),a=st(()=>s.value>-1&&Mm(n.params,o.value.params)),c=st(()=>s.value>-1&&s.value===n.matched.length-1&&of(n.params,o.value.params));function l(d={}){if(Bm(d)){const v=t[Je(e.replace)?"replace":"push"](Je(e.to)).catch(Lo);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>v),v}return Promise.resolve()}return{route:o,href:st(()=>o.value.href),isActive:a,isExactActive:c,navigate:l}}function Dm(e){return e.length===1?e[0]:e}const $m=ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gl,setup(e,{slots:t}){const n=ti(gl(e)),{options:o}=En(Va),s=st(()=>({[bl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[bl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Dm(t.default(n));return e.custom?a:ja("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},a)}}}),Nm=$m;function Bm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mm(e,t){for(const n in t){const o=t[n],s=e[n];if(typeof o=="string"){if(o!==s)return!1}else if(!Rn(s)||s.length!==o.length||o.some((a,c)=>a!==s[c]))return!1}return!0}function _l(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const bl=(e,t,n)=>e??t??n,Lm=ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=En(ba),s=st(()=>e.route||o.value),a=En(yl,0),c=st(()=>{let v=Je(a);const{matched:p}=s.value;let m;for(;(m=p[v])&&!m.components;)v++;return v}),l=st(()=>s.value.matched[c.value]);$i(yl,st(()=>c.value+1)),$i(Om,l),$i(ba,s);const d=Ze();return Wn(()=>[d.value,l.value,e.name],([v,p,m],[_,C,H])=>{p&&(p.instances[m]=v,C&&C!==p&&v&&v===_&&(p.leaveGuards.size||(p.leaveGuards=C.leaveGuards),p.updateGuards.size||(p.updateGuards=C.updateGuards))),v&&p&&(!C||!uo(p,C)||!_)&&(p.enterCallbacks[m]||[]).forEach(te=>te(v))},{flush:"post"}),()=>{const v=s.value,p=e.name,m=l.value,_=m&&m.components[p];if(!_)return wl(n.default,{Component:_,route:v});const C=m.props[p],H=C?C===!0?v.params:typeof C=="function"?C(v):C:null,Re=ja(_,gt({},H,t,{onVnodeUnmounted:W=>{W.component.isUnmounted&&(m.instances[p]=null)},ref:d}));return wl(n.default,{Component:Re,route:v})||Re}}});function wl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fm=Lm;function jm(e){const t=Em(e.routes,e),n=e.parseQuery||Rm,o=e.stringifyQuery||vl,s=e.history,a=Po(),c=Po(),l=Po(),d=pd(dr);let v=dr;to&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Xs.bind(null,ee=>""+ee),m=Xs.bind(null,Xp),_=Xs.bind(null,Qo);function C(ee,De){let G,Me;return af(ee)?(G=t.getRecordMatcher(ee),Me=De):Me=ee,t.addRoute(Me,G)}function H(ee){const De=t.getRecordMatcher(ee);De&&t.removeRoute(De)}function te(){return t.getRoutes().map(ee=>ee.record)}function Re(ee){return!!t.getRecordMatcher(ee)}function W(ee,De){if(De=gt({},De||d.value),typeof ee=="string"){const K=Zs(n,ee,De.path),Y=t.resolve({path:K.path},De),oe=s.createHref(K.fullPath);return gt(K,Y,{params:_(Y.params),hash:Qo(K.hash),redirectedFrom:void 0,href:oe})}let G;if(ee.path!=null)G=gt({},ee,{path:Zs(n,ee.path,De.path).path});else{const K=gt({},ee.params);for(const Y in K)K[Y]==null&&delete K[Y];G=gt({},ee,{params:m(K)}),De.params=m(De.params)}const Me=t.resolve(G,De),dt=ee.hash||"";Me.params=p(_(Me.params));const S=tm(o,gt({},ee,{hash:Gp(dt),path:Me.path})),E=s.createHref(S);return gt({fullPath:S,hash:dt,query:o===vl?km(ee.query):ee.query||{}},Me,{redirectedFrom:void 0,href:E})}function z(ee){return typeof ee=="string"?Zs(n,ee,d.value.path):gt({},ee)}function le(ee,De){if(v!==ee)return lo(8,{from:De,to:ee})}function re(ee){return se(ee)}function j(ee){return re(gt(z(ee),{replace:!0}))}function Se(ee){const De=ee.matched[ee.matched.length-1];if(De&&De.redirect){const{redirect:G}=De;let Me=typeof G=="function"?G(ee):G;return typeof Me=="string"&&(Me=Me.includes("?")||Me.includes("#")?Me=z(Me):{path:Me},Me.params={}),gt({query:ee.query,hash:ee.hash,params:Me.path!=null?{}:ee.params},Me)}}function se(ee,De){const G=v=W(ee),Me=d.value,dt=ee.state,S=ee.force,E=ee.replace===!0,K=Se(G);if(K)return se(gt(z(K),{state:typeof K=="object"?gt({},dt,K.state):dt,force:S,replace:E}),De||G);const Y=G;Y.redirectedFrom=De;let oe;return!S&&nm(o,Me,G)&&(oe=lo(16,{to:Y,from:Me}),Et(Me,Me,!0,!1)),(oe?Promise.resolve(oe):_e(Y,Me)).catch(ne=>Xn(ne)?Xn(ne,2)?ne:Mt(ne):et(ne,Y,Me)).then(ne=>{if(ne){if(Xn(ne,2))return se(gt({replace:E},z(ne.to),{state:typeof ne.to=="object"?gt({},dt,ne.to.state):dt,force:S}),De||Y)}else ne=Z(Y,Me,!0,E,dt);return ce(Y,Me,ne),ne})}function ge(ee,De){const G=le(ee,De);return G?Promise.reject(G):Promise.resolve()}function ue(ee){const De=wn.values().next().value;return De&&typeof De.runWithContext=="function"?De.runWithContext(ee):ee()}function _e(ee,De){let G;const[Me,dt,S]=Km(ee,De);G=ea(Me.reverse(),"beforeRouteLeave",ee,De);for(const K of Me)K.leaveGuards.forEach(Y=>{G.push(yr(Y,ee,De))});const E=ge.bind(null,ee,De);return G.push(E),kt(G).then(()=>{G=[];for(const K of a.list())G.push(yr(K,ee,De));return G.push(E),kt(G)}).then(()=>{G=ea(dt,"beforeRouteUpdate",ee,De);for(const K of dt)K.updateGuards.forEach(Y=>{G.push(yr(Y,ee,De))});return G.push(E),kt(G)}).then(()=>{G=[];for(const K of S)if(K.beforeEnter)if(Rn(K.beforeEnter))for(const Y of K.beforeEnter)G.push(yr(Y,ee,De));else G.push(yr(K.beforeEnter,ee,De));return G.push(E),kt(G)}).then(()=>(ee.matched.forEach(K=>K.enterCallbacks={}),G=ea(S,"beforeRouteEnter",ee,De,ue),G.push(E),kt(G))).then(()=>{G=[];for(const K of c.list())G.push(yr(K,ee,De));return G.push(E),kt(G)}).catch(K=>Xn(K,8)?K:Promise.reject(K))}function ce(ee,De,G){l.list().forEach(Me=>ue(()=>Me(ee,De,G)))}function Z(ee,De,G,Me,dt){const S=le(ee,De);if(S)return S;const E=De===dr,K=to?history.state:{};G&&(Me||E?s.replace(ee.fullPath,gt({scroll:E&&K&&K.scroll},dt)):s.push(ee.fullPath,dt)),d.value=ee,Et(ee,De,G,E),Mt()}let de;function He(){de||(de=s.listen((ee,De,G)=>{if(!Sn.listening)return;const Me=W(ee),dt=Se(Me);if(dt){se(gt(dt,{replace:!0,force:!0}),Me).catch(Lo);return}v=Me;const S=d.value;to&&cm(al(S.fullPath,G.delta),ls()),_e(Me,S).catch(E=>Xn(E,12)?E:Xn(E,2)?(se(gt(z(E.to),{force:!0}),Me).then(K=>{Xn(K,20)&&!G.delta&&G.type===Jo.pop&&s.go(-1,!1)}).catch(Lo),Promise.reject()):(G.delta&&s.go(-G.delta,!1),et(E,Me,S))).then(E=>{E=E||Z(Me,S,!1),E&&(G.delta&&!Xn(E,8)?s.go(-G.delta,!1):G.type===Jo.pop&&Xn(E,20)&&s.go(-1,!1)),ce(Me,S,E)}).catch(Lo)}))}let ct=Po(),Ge=Po(),Ve;function et(ee,De,G){Mt(ee);const Me=Ge.list();return Me.length?Me.forEach(dt=>dt(ee,De,G)):console.error(ee),Promise.reject(ee)}function Ut(){return Ve&&d.value!==dr?Promise.resolve():new Promise((ee,De)=>{ct.add([ee,De])})}function Mt(ee){return Ve||(Ve=!ee,He(),ct.list().forEach(([De,G])=>ee?G(ee):De()),ct.reset()),ee}function Et(ee,De,G,Me){const{scrollBehavior:dt}=e;if(!to||!dt)return Promise.resolve();const S=!G&&fm(al(ee.fullPath,0))||(Me||!G)&&history.state&&history.state.scroll||null;return Zi().then(()=>dt(ee,De,S)).then(E=>E&&lm(E)).catch(E=>et(E,ee,De))}const Ft=ee=>s.go(ee);let en;const wn=new Set,Sn={currentRoute:d,listening:!0,addRoute:C,removeRoute:H,clearRoutes:t.clearRoutes,hasRoute:Re,getRoutes:te,resolve:W,options:e,push:re,replace:j,go:Ft,back:()=>Ft(-1),forward:()=>Ft(1),beforeEach:a.add,beforeResolve:c.add,afterEach:l.add,onError:Ge.add,isReady:Ut,install(ee){const De=this;ee.component("RouterLink",Nm),ee.component("RouterView",Fm),ee.config.globalProperties.$router=De,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>Je(d)}),to&&!en&&d.value===dr&&(en=!0,re(s.location).catch(dt=>{}));const G={};for(const dt in dr)Object.defineProperty(G,dt,{get:()=>d.value[dt],enumerable:!0});ee.provide(Va,De),ee.provide(Ha,Yl(G)),ee.provide(ba,d);const Me=ee.unmount;wn.add(ee),ee.unmount=function(){wn.delete(ee),wn.size<1&&(v=dr,de&&de(),de=null,d.value=dr,en=!1,Ve=!1),Me()}}};function kt(ee){return ee.reduce((De,G)=>De.then(()=>ue(G)),Promise.resolve())}return Sn}function Km(e,t){const n=[],o=[],s=[],a=Math.max(t.matched.length,e.matched.length);for(let c=0;c<a;c++){const l=t.matched[c];l&&(e.matched.find(v=>uo(v,l))?o.push(l):n.push(l));const d=e.matched[c];d&&(t.matched.find(v=>uo(v,d))||s.push(d))}return[n,o,s]}function Um(e){return En(Ha)}const ff="/Projet-Memory/assets/peuchere-BVtDvQmP.png",qm={key:1},Vm=ht({__name:"Button",props:{type:{},size:{},variant:{},color:{},icon:{},label:{}},setup(e){return(t,n)=>(Q(),fe("button",{class:mn([t.type,t.size,t.variant,t.color,{square:!t.label}])},[t.icon?(Q(),fe("i",{key:0,class:mn(t.icon)},null,2)):ft("",!0),t.label?(Q(),fe("label",qm,Be(t.label),1)):ft("",!0),Bt(t.$slots,"default",{},void 0,!0)],2))}}),yt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},xt=yt(Vm,[["__scopeId","data-v-45c0201f"]]),Hm={class:"left"},Wm={class:"right"},zm={class:"user-data"},Ym={key:0,class:"username"},Gm={key:1,class:"username"},Qm={class:"user-pfp"},Jm=["src"],Xm={key:1,src:ff,alt:"Photo de profil par défaut"},Zm=ht({__name:"Navbar",props:{showBurger:{type:Boolean},isOpen:{type:Boolean}},emits:["toggleBurger"],setup(e,{emit:t}){const n=us(),o=as(),s=st(()=>n.settings),a=st(()=>s.value?o.getFileURLById(s.value.profilePicture):""),c=t;return(l,d)=>(Q(),fe("header",null,[R("nav",null,[R("div",Hm,[l.showBurger?(Q(),vt(xt,{key:0,onClick:d[0]||(d[0]=v=>c("toggleBurger")),icon:`fa-solid ${l.isOpen?"fa-bars":"fa-close"}`,class:"menu-burger-btn"},null,8,["icon"])):ft("",!0)]),R("div",Wm,[R("div",zm,[s.value&&s.value.displayName?(Q(),fe("span",Ym,Be(s.value.displayName),1)):(Q(),fe("span",Gm,"Utilisateur anonyme")),R("div",Qm,[a.value?(Q(),fe("img",{key:0,src:a.value,alt:"Photo de profil"},null,8,Jm)):(Q(),fe("img",Xm))])])])])]))}}),ev=yt(Zm,[["__scopeId","data-v-14e32fd7"]]),tv={key:0,class:"nav-element title"},nv={class:"left"},rv={class:"item-title"},ov={key:0,class:"item-details"},iv={class:"right"},sv=ht({__name:"DrawerItem",props:{title:{},subtitle:{},icon:{},details:{},link:{},isTitle:{type:Boolean}},setup(e){return(t,n)=>t.isTitle?(Q(),fe("div",tv,Be(t.title),1)):(Q(),vt(Kd(t.link?"router-link":"div"),Bc({key:1,class:"nav-element item"},t.link?{to:t.link}:{}),{default:Le(()=>[R("div",nv,[t.icon?(Q(),fe("i",{key:0,class:mn(t.icon)},null,2)):ft("",!0),R("div",null,[R("span",rv,Be(t.title),1),t.subtitle?(Q(),fe("div",ov,Be(t.subtitle),1)):ft("",!0)])]),R("div",iv,Be(t.details),1)]),_:1},16))}}),Li=yt(sv,[["__scopeId","data-v-14691d97"]]),av={class:"nav-category"},uv={class:"item-ctn"},lv=ht({__name:"DrawerCategory",props:{title:{}},setup(e){return(t,n)=>(Q(),fe("div",av,[t.title?(Q(),vt(Li,{key:0,title:t.title,"is-title":!0},null,8,["title"])):ft("",!0),R("div",uv,[Bt(t.$slots,"default",{},void 0,!0)]),Bt(t.$slots,"details",{},void 0,!0)]))}}),Sl=yt(lv,[["__scopeId","data-v-30fcf3da"]]),cv={key:0,class:"modal-container"},fv={class:"modal"},dv={class:"modal-top-bar"},hv={class:"left"},pv={key:0,class:"title"},mv={key:1,class:"description"},vv={class:"right"},yv={class:"modal-header"},gv={class:"modal-body"},_v={class:"modal-footer"},bv=ht({__name:"Modal",props:{title:{},description:{},hideCloseBtn:{type:Boolean}},setup(e,{expose:t}){let n=Ze(!1);const o=()=>n.value=!0,s=()=>{n.value=!1};return t({openModal:o,closeModal:s}),(a,c)=>(Q(),vt(Kc,{name:"modal"},{default:Le(()=>[Je(n)?(Q(),fe("div",cv,[R("div",{class:"modal-background",onClick:s}),R("div",fv,[R("div",dv,[R("div",hv,[a.title?(Q(),fe("h3",pv,Be(a.title),1)):ft("",!0),a.description?(Q(),fe("div",mv,Be(a.description),1)):ft("",!0)]),R("div",vv,[a.hideCloseBtn?ft("",!0):(Q(),vt(xt,{key:0,onClick:s,icon:"fa-solid fa-xmark",type:"fab-btn",variant:"filled",color:"secondary"}))])]),R("div",yv,[Bt(a.$slots,"header",{},void 0,!0)]),R("div",gv,[Bt(a.$slots,"body",{closeModal:s},void 0,!0)]),R("div",_v,[Bt(a.$slots,"footer",{},void 0,!0)])])])):ft("",!0)]),_:3}))}}),ii=yt(bv,[["__scopeId","data-v-e604cfc2"]]);function wv(){return{jsonImport:async n=>{var a;const s=(a=n.target.files)==null?void 0:a[0];if(s)try{const c=await s.text(),l=JSON.parse(c);return await Xe.transaction("rw",Xe.categories,Xe.themes,Xe.cards,async()=>{l.categories&&await Xe.categories.bulkPut(l.categories),l.themes&&await Xe.themes.bulkPut(l.themes),l.cards&&await Xe.cards.bulkPut(l.cards)}),!0}catch(c){return console.error(c),!1}},exportDataToJson:async()=>{const n=await Xe.categories.toArray(),o=await Xe.themes.toArray(),s=await Xe.cards.toArray(),a=JSON.stringify({categories:n,themes:o,cards:s},null,2),c=new Blob([a],{type:"application/json"}),l=URL.createObjectURL(c),d=document.createElement("a");d.href=l,d.download="data.json",d.click(),URL.revokeObjectURL(l)}}}const Sv={class:"nav-drawer"},Cv={key:1,class:"no-content"},xv={class:"form-content"},Ev={class:"form-group"},Iv={for:"new-pfp",class:"pfp-preview"},Tv=["src"],Av=["src"],Pv={key:2,src:ff,alt:"Photo de profil par défaut"},Rv={class:"form-group"},kv={class:"form-group"},Ov={class:"form-group inline"},Dv={class:"switch"},$v={class:"form-group inline"},Nv={class:"form-actions"},Bv=ht({__name:"NavDrawer",emits:["isClicked"],setup(e,{emit:t}){const{notifyUser:n}=Jc(),{jsonImport:o}=wv(),s=Ze([{title:"Accueil",icon:"fa-solid fa-house",link:"/"},{title:"Réviser",icon:"fa-solid fa-book",subtitle:"24 cartes aujourd'hui",link:"/practice"},{title:"Mes catégories",icon:"fa-solid fa-box-archive",link:"/categories"},{title:"Mes thèmes",icon:"fa-solid fa-layer-group",link:"/themes"}]),a=kn(),c=st(()=>a.themes.slice(0,5)),l=as(),d=st(()=>_.value?l.getFileURLById(_.value.profilePicture):""),v=Ze(null),p=()=>{var re;_.value&&(C.value={..._.value},(re=v.value)==null||re.openModal())},m=us(),_=st(()=>m.settings),C=Ze({id:"1",displayName:"",useDailyNotification:!1,profilePicture:""}),H=async()=>{var re;W.value&&(C.value.profilePicture=W.value),await m.updateSettings(C.value,te.value),(re=v.value)==null||re.closeModal()},te=Ze(),Re=re=>{var Se;let j=(Se=re.target.files)==null?void 0:Se[0];j&&(te.value=j)},W=st(()=>te.value?URL.createObjectURL(te.value):null),z=async re=>{await o(re)&&(await m.setLastNotificationDate(""),window.location.reload())},le=t;return(re,j)=>{const Se=ns("router-link");return Q(),fe(lt,null,[R("div",Sv,[Pe(Sl,null,{default:Le(()=>[(Q(!0),fe(lt,null,hn(s.value,se=>(Q(),vt(Li,{title:se.title,icon:se.icon,link:se.link,onClick:j[0]||(j[0]=ge=>le("isClicked"))},null,8,["title","icon","link"]))),256)),Pe(Li,{onClick:p,title:"Paramètres",icon:"fa-solid fa-gear"})]),_:1}),Pe(Sl,{title:"Thèmes",empty_message:"Aucun thème",class:"padding-left"},aa({default:Le(()=>[c.value?(Q(!0),fe(lt,{key:0},hn(c.value,se=>(Q(),vt(Li,{title:se.name,link:`/themes/${se.id}`},{default:Le(()=>j[3]||(j[3]=[jt(" >")])),_:2},1032,["title","link"]))),256)):(Q(),fe("div",Cv,"Hehe"))]),_:2},[c.value?{name:"details",fn:Le(()=>[Pe(Se,{to:"/themes/",class:"see-more"},{default:Le(()=>j[4]||(j[4]=[jt("Voir tout")])),_:1})]),key:"0"}:void 0]),1024)]),Pe(ii,{title:"Paramètres",ref_key:"parametersModalRef",ref:v},{body:Le(()=>{var se,ge;return[R("div",xv,[R("div",Ev,[j[5]||(j[5]=R("label",{for:""},"Photo de profil",-1)),R("input",{id:"new-pfp",type:"file",accept:"image/*",onChange:Re},null,32),R("label",Iv,[W.value?(Q(),fe("img",{key:0,src:W.value,alt:"Photo de profil"},null,8,Tv)):(se=_.value)!=null&&se.profilePicture?(Q(),fe("img",{key:1,src:d.value,alt:"Photo de profil"},null,8,Av)):(Q(),fe("img",Pv))])]),R("div",Rv,[j[6]||(j[6]=R("label",{for:""},"Nom d'utilisateur",-1)),Cn(R("input",{type:"text",min:"2",max:"20",placeholder:"Utilisateur Anonyme","onUpdate:modelValue":j[1]||(j[1]=ue=>C.value.displayName=ue)},null,512),[[wr,C.value.displayName]])]),R("div",kv,[j[7]||(j[7]=R("label",{for:"import-data"},"Importer des données",-1)),R("input",{id:"import-data",type:"file",accept:".json",onChange:z},null,32)]),R("div",Ov,[R("label",Dv,[Cn(R("input",{type:"checkbox","onUpdate:modelValue":j[2]||(j[2]=ue=>C.value.useDailyNotification=ue)},null,512),[[np,C.value.useDailyNotification]]),j[8]||(j[8]=R("span",{class:"slider"},null,-1))]),j[9]||(j[9]=R("label",{for:"daily-notifications"},"Activer les notifications journalières",-1))]),R("div",$v,[Pe(xt,{onClick:Je(n),type:"icon-btn",icon:"fa-solid fa-envelope",size:"small",variant:"outlined",color:"secondary"},null,8,["onClick"]),j[10]||(j[10]=R("label",null,"Tester les notifications",-1))]),R("div",Nv,[Pe(xt,{onClick:(ge=v.value)==null?void 0:ge.closeModal,label:"Annuler",variant:"outlined"},null,8,["onClick"]),Pe(xt,{onClick:H,label:"Sauvegarder",variant:"filled",color:"secondary"})])])]}),_:1},512)],64)}}}),Mv=yt(Bv,[["__scopeId","data-v-cca9b9cb"]]),Lv={};function Fv(e,t){return Q(),fe("footer",null,t[0]||(t[0]=[R("div",{class:"copyright"},"© 2025 - Tony De Donato & Marianne Corbel",-1),R("span",{class:"separation"},"|",-1),R("a",{href:"https://github.com/mzribel/Projet-Memory",target:"_blank"},[R("i",{class:"fa-brands fa-github"})],-1)]))}const df=yt(Lv,[["render",Fv],["__scopeId","data-v-6ffcc69e"]]),jv={class:"content-ctn"},Kv={id:"content"},Uv=ht({__name:"LayoutDefault",setup(e){const t=Ze(!1),n=()=>{t.value=!t.value},o=()=>{window.innerWidth<1e3?(t.value=!0,s.value=!0):s.value=!1},s=Ze(!1);jr(()=>{window.addEventListener("resize",o),o()}),Ma(()=>{window.removeEventListener("resize",o)});const a=()=>{t.value=!0};return(c,l)=>(Q(),fe(lt,null,[Pe(ev,{onToggleBurger:n,"show-burger":s.value,"is-open":t.value},null,8,["show-burger","is-open"]),R("main",null,[R("div",{class:mn(["nav-ctn",t.value?"hidden":""])},[Pe(Mv,{onIsClicked:a,ref:"navDrawerRef"},null,512)],2),R("div",jv,[R("div",Kv,[Bt(c.$slots,"default",{},void 0,!0)])])]),Pe(df)],64))}}),si=yt(Uv,[["__scopeId","data-v-55da4e4c"]]),qv={},Vv={class:"section-title"},Hv={class:"left"},Wv={class:"right"};function zv(e,t){return Q(),fe("div",Vv,[R("div",Hv,[Bt(e.$slots,"left",{},void 0,!0)]),R("div",Wv,[Bt(e.$slots,"right",{},void 0,!0)])])}const Yv=yt(qv,[["render",zv],["__scopeId","data-v-7f86783a"]]),Gv={class:"section-ctn"},Qv=ht({__name:"Section",setup(e){return(t,n)=>(Q(),fe("section",null,[Pe(Yv,null,{left:Le(()=>[Bt(t.$slots,"title-left",{},void 0,!0)]),right:Le(()=>[Bt(t.$slots,"title-right",{},void 0,!0)]),_:3}),R("div",Gv,[Bt(t.$slots,"content",{},void 0,!0)])]))}}),co=yt(Qv,[["__scopeId","data-v-a6b542cb"]]),Jv=ht({__name:"Block",props:{type:{}},setup(e){return(t,n)=>(Q(),fe("div",{class:mn(["block",t.type])},[Bt(t.$slots,"default",{},void 0,!0)],2))}}),cs=yt(Jv,[["__scopeId","data-v-0e255809"]]),Xv={class:"tutorial-ctn"},Zv={class:"header"},ey={class:"pastille"},ty={class:"title"},ny={class:"content"},ry=ht({__name:"HomeView",setup(e){const t=[{title:"Créez vos catégories et thèmes",description:"Chaque catégorie peut contenir des thèmes, qui contiendront des cartes afin de mieux organiser vos connaissances."},{title:"Créez vos cartes",description:"Définissez les connaissances que vous souhaitez retenir grâce à des cartes questions/réponses, pouvant contenir texte, image, vidéo ou audio !"},{title:"Révisez chaque jour",description:"L’application vous propose chaque jour les cartes à revoir selon un algorithme de répétition espacée. Plus la carte est retenue, moins elle est révisée souvent !"},{title:"Mémorisez plus longtemps",description:"Les cartes que vous connaissez bien s’espacent de plus en plus jusqu’à atteindre le niveau maximal défini dans leur thème, vous permettant d’optimiser vos efforts !"}];return(n,o)=>(Q(),vt(si,null,{default:Le(()=>[o[2]||(o[2]=R("div",{class:"app-title"},[R("div",{class:"title"},[R("span",null,"Projet Memory")]),R("div",{class:"subtitle"},"Un projet proposé par Tony de Donato et Marianne Corbel")],-1)),Pe(co,{class:"flex column row-gap-16"},{"title-left":Le(()=>o[0]||(o[0]=[R("h2",null,"Comment ça marche ?",-1)])),content:Le(()=>[R("div",Xv,[(Q(),fe(lt,null,hn(t,(s,a)=>Pe(cs,{type:"normal",class:"tutorial-item",key:s.title},{default:Le(()=>[R("div",Zv,[R("div",ey,Be(a+1),1),R("div",ty,[R("span",null,Be(s.title),1),o[1]||(o[1]=R("div",{class:"decoration"},null,-1))])]),R("div",ny,Be(s.description),1)]),_:2},1024)),64))])]),_:1})]),_:1}))}}),oy=yt(ry,[["__scopeId","data-v-332cca8e"]]),iy={class:"header"},sy={class:"left"},ay={class:"title"},uy={class:"tags"},ly={class:"tag"},cy={class:"tag"},fy={key:0,class:"description"},dy=ht({__name:"CategoryItem",props:{category:{}},emits:["edit","delete"],setup(e,{emit:t}){const n=e,o=Tn(),s=kn(),a=st(()=>s.themes.filter(l=>l.categoryId===n.category.id).length??0),c=st(()=>{const l=s.themes.filter(d=>d.categoryId===n.category.id).map(d=>d.id);return o.cards.filter(d=>l.includes(d.themeId)).length});return(l,d)=>(Q(),vt(cs,{type:"small",class:"theme-item"},{default:Le(()=>[R("div",iy,[R("div",sy,[d[3]||(d[3]=R("div",{class:"icon"},[R("i",{class:"fa-solid fa-layer-group"})],-1)),R("div",ay,[R("h3",null,Be(l.category.name),1)])]),R("div",{class:"right",onClick:d[2]||(d[2]=In(()=>{},["prevent"]))},[Pe(xt,{onClick:d[0]||(d[0]=In(v=>l.$emit("edit",l.category),["prevent"])),type:"fab-btn",icon:"fa-solid fa-pen",color:"secondary",variant:"filled"}),Pe(xt,{onClick:d[1]||(d[1]=In(v=>l.$emit("delete",l.category),["prevent"])),type:"fab-btn",icon:"fa-solid fa-trash-can",color:"secondary",variant:"filled"})])]),R("div",uy,[R("div",ly,[d[4]||(d[4]=R("div",{class:"icon"},[R("i",{class:"fa-solid fa-archives"})],-1)),jt(" "+Be(a.value)+" thème"+Be(a.value>1?"s":""),1)]),R("div",cy,[d[5]||(d[5]=R("div",{class:"icon"},[R("i",{class:"fa-solid fa-layer-group"})],-1)),jt(" "+Be(c.value)+" carte"+Be(c.value>1?"s":""),1)])]),l.category.description?(Q(),fe("div",fy,[d[6]||(d[6]=R("h4",null,"Description :",-1)),R("p",null,Be(l.category.description),1)])):ft("",!0)]),_:1}))}}),hy=yt(dy,[["__scopeId","data-v-c3ec2150"]]),py={class:"form-container"},my={class:"form-group"},vy={class:"form-group"},yy={class:"form-actions"},gy={class:"form-actions"},_y=ht({__name:"CategoryForm",props:{category:{}},emits:["save","close"],setup(e,{emit:t}){const n=e,o=t,s=Ze({id:"",name:"",description:""});Wn(()=>n.category,c=>{c?s.value={...c}:s.value={id:"",name:"",description:""}},{immediate:!0});const a=()=>{o("save",s.value)};return(c,l)=>(Q(),fe("div",py,[R("form",{onSubmit:In(a,["prevent"]),class:"form-content"},[R("div",my,[l[3]||(l[3]=R("label",{for:"name"},"Nom",-1)),Cn(R("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>s.value.name=d),type:"text",id:"name",required:""},null,512),[[wr,s.value.name]])]),R("div",vy,[l[4]||(l[4]=R("label",{for:"description"},"Description",-1)),Cn(R("textarea",{"onUpdate:modelValue":l[1]||(l[1]=d=>s.value.description=d),id:"description",rows:"3"},null,512),[[wr,s.value.description]])]),R("div",yy,[R("div",gy,[Pe(xt,{onClick:l[2]||(l[2]=d=>c.$emit("close")),label:"Annuler",variant:"outlined"}),Pe(xt,{onClick:a,label:"Sauvegarder",variant:"filled",color:"secondary"})])])],32)]))}}),by=yt(_y,[["__scopeId","data-v-8485c05d"]]),wy={class:"container"},Sy={key:0,class:"flex column gap-8"},Cy={key:1,class:"no-content"},xy=ht({__name:"CategoryList",setup(e){const t=Kr(),n=Ze(null),o=Ze(null),s=()=>{var p;o.value=null,(p=n.value)==null||p.openModal()},a=p=>{var m;o.value=p,(m=n.value)==null||m.openModal()},c=async p=>{await t.addCategory(p),l()},l=()=>{var p;(p=n.value)==null||p.closeModal(),o.value=null};st(()=>t.isLoaded);const d=p=>{t.deleteCategoryById(p)},v=st(()=>t.categories);return(p,m)=>(Q(),fe("div",wy,[Pe(xt,{onClick:m[0]||(m[0]=_=>s()),icon:"fa-solid fa-plus",label:"Ajouter une catégorie",variant:"outlined",color:"secondary",size:"large"}),v.value.length?(Q(),fe("div",Sy,[(Q(!0),fe(lt,null,hn(v.value,_=>(Q(),vt(hy,{key:_.id,category:_,onEdit:a,onDelete:C=>d(_.id)},null,8,["category","onDelete"]))),128))])):(Q(),fe("div",Cy,m[1]||(m[1]=[R("p",null,"Aucune catégorie disponible. Créez-en une !",-1)]))),Pe(ii,{ref_key:"modalRef",ref:n,title:o.value?"Modifier la catégorie":"Créer une nouvelle catégorie"},{body:Le(()=>[Pe(by,{category:o.value,onSave:c,onClose:l},null,8,["category"])]),_:1},8,["title"])]))}}),Ey=yt(xy,[["__scopeId","data-v-93d2ca11"]]),Iy={class:"header"},Ty={class:"left"},Ay={class:"title"},Py={key:0,class:"category"},Ry={class:"tags"},ky={class:"tag"},Oy={key:0,class:"description"},Dy={key:0},$y=ht({__name:"ThemeItem",props:{theme:{}},setup(e){const t=e;kn();const n=Kr(),o=Tn(),s=st(()=>o.cards.filter(c=>c.themeId==t.theme.id).length),a=st(()=>{var c;return((c=n.categories.find(l=>l.id==t.theme.categoryId))==null?void 0:c.name)??""});return(c,l)=>{const d=ns("router-link");return Q(),vt(d,{to:`/themes/${c.theme.id}`},{default:Le(()=>[Pe(cs,{type:"small",class:"theme-item"},{default:Le(()=>[R("div",Iy,[R("div",Ty,[l[3]||(l[3]=R("div",{class:"icon"},[R("i",{class:"fa-solid fa-layer-group"})],-1)),R("div",Ay,[R("h3",null,Be(c.theme.name),1),a.value?(Q(),fe("p",Py,Be(a.value),1)):ft("",!0)])]),R("div",{class:"right",onClick:l[2]||(l[2]=In(()=>{},["prevent"]))},[Pe(xt,{onClick:l[0]||(l[0]=In(v=>c.$emit("edit",c.theme),["prevent"])),type:"fab-btn",icon:"fa-solid fa-pen",color:"secondary",variant:"filled"}),Pe(xt,{onClick:l[1]||(l[1]=In(v=>c.$emit("delete",c.theme),["prevent"])),type:"fab-btn",icon:"fa-solid fa-trash-can",color:"secondary",variant:"filled"})])]),R("div",Ry,[R("div",ky,[l[4]||(l[4]=R("div",{class:"icon"},[R("i",{class:"fa-solid fa-list-check"})],-1)),jt(" "+Be(s.value)+" cartes ",1)])]),c.theme.description?(Q(),fe("div",Oy,[l[5]||(l[5]=R("h4",null,"Description :",-1)),c.theme.description?(Q(),fe("p",Dy,Be(c.theme.description),1)):ft("",!0)])):ft("",!0)]),_:1})]),_:1},8,["to"])}}}),Ny=yt($y,[["__scopeId","data-v-48fe6adf"]]),By={class:"form-container"},My={class:"form-group"},Ly={class:"form-group"},Fy={class:"form-group"},jy=["value"],Ky={class:"form-group"},Uy=["value"],qy={class:"details"},Vy={class:"form-group"},Hy={class:"form-group"},Wy={class:"form-actions"},zy=ht({__name:"ThemeForm",props:{theme:{}},emits:["save","close","resetProgression"],setup(e,{emit:t}){const{generateReviewInterval:n}=Go(),o=e,s=t,a=Ze({id:"",categoryId:"",name:"",description:"",isThemeSelected:!1,maxLevel:5,createdAt:"",lastActivityAt:""});Wn(()=>o.theme,d=>{d?a.value={...d}:a.value={id:"",categoryId:"",name:"",description:"",isThemeSelected:!1,maxLevel:5,createdAt:"",newCardsPerDay:void 0,lastActivityAt:""}},{immediate:!0});const c=Kr(),l=()=>{s("save",a.value)};return(d,v)=>(Q(),fe("div",By,[R("form",{onSubmit:In(l,["prevent"]),class:"form-content"},[R("div",My,[v[7]||(v[7]=R("label",{for:"name"},"Nom",-1)),Cn(R("input",{id:"name","onUpdate:modelValue":v[0]||(v[0]=p=>a.value.name=p),required:"",type:"text"},null,512),[[wr,a.value.name]])]),R("div",Ly,[v[8]||(v[8]=R("label",{for:"description"},"Description",-1)),Cn(R("textarea",{id:"description","onUpdate:modelValue":v[1]||(v[1]=p=>a.value.description=p),rows:"3"},null,512),[[wr,a.value.description]])]),R("div",Fy,[v[10]||(v[10]=R("label",{for:"category"},"Catégorie",-1)),Cn(R("select",{id:"category","onUpdate:modelValue":v[2]||(v[2]=p=>a.value.categoryId=p)},[v[9]||(v[9]=R("option",{value:""},"Choisir une catégorie",-1)),(Q(!0),fe(lt,null,hn(Je(c).categories,p=>(Q(),fe("option",{key:p.id,value:p.id},Be(p.name),9,jy))),128))],512),[[zu,a.value.categoryId]])]),R("div",Ky,[v[11]||(v[11]=R("label",{for:"levelToReview"},"Niveaux de révision",-1)),Cn(R("select",{id:"levelToReview","onUpdate:modelValue":v[3]||(v[3]=p=>a.value.maxLevel=p)},[(Q(),fe(lt,null,hn(8,p=>R("option",{key:p,value:p},Be(p),9,Uy)),64))],512),[[zu,a.value.maxLevel]]),R("p",qy,"Intervalles des niveaux : "+Be(Je(n)(a.value.maxLevel).join(" - "))+" jours ",1)]),R("div",Vy,[v[12]||(v[12]=R("label",{for:"newCardsPerDay"},"Nouvelles cartes par jour :",-1)),Cn(R("input",{id:"newCardsPerDay",type:"number",min:"0","onUpdate:modelValue":v[4]||(v[4]=p=>a.value.newCardsPerDay=p)},null,512),[[wr,a.value.newCardsPerDay]])]),R("div",Hy,[v[13]||(v[13]=R("label",{for:""},"Réinitialiser la progression",-1)),Pe(xt,{onClick:v[5]||(v[5]=p=>s("resetProgression")),icon:"fa-solid fa-arrow-rotate-left",label:"Réinitialiser",variant:"tonal"})]),R("div",Wy,[Pe(xt,{onClick:v[6]||(v[6]=p=>d.$emit("close")),label:"Annuler",variant:"outlined"}),Pe(xt,{onClick:l,label:"Sauvegarder",variant:"filled",color:"secondary"})])],32)]))}}),hf=yt(zy,[["__scopeId","data-v-154a4979"]]),Yy={class:"container"},Gy={key:0},Qy={key:1,class:"flex column gap-8"},Jy={key:2,class:"no-content"},Xy=ht({__name:"ThemeList",setup(e){Tn();const t=kn(),n=Ze(null),o=Ze(null),s=()=>{var p;o.value=null,(p=n.value)==null||p.openModal()},a=p=>{var m;o.value=p,(m=n.value)==null||m.openModal()},c=async p=>{var m;await t.addThemeOrUpdateIt(p),(m=n.value)==null||m.closeModal()},l=st(()=>t.isLoaded),d=p=>{t.deleteThemeById(p)},v=st(()=>t.themes);return(p,m)=>(Q(),fe("div",Yy,[Pe(xt,{onClick:m[0]||(m[0]=_=>s()),icon:"fa-solid fa-plus",label:"Ajouter un thème",variant:"outlined",color:"secondary",size:"large"}),l.value?v.value.length?(Q(),fe("div",Qy,[(Q(!0),fe(lt,null,hn(v.value,_=>(Q(),vt(Ny,{key:_.id,theme:_,onEdit:a,onDelete:C=>d(_.id)},null,8,["theme","onDelete"]))),128))])):(Q(),fe("div",Jy,m[1]||(m[1]=[R("p",null,"Aucun thème disponible. Créez-en un !",-1)]))):(Q(),fe("div",Gy,"Chargement... "+Be(l.value),1)),Pe(ii,{ref_key:"modalRef",ref:n,title:o.value?"Modifier le thème":"Créer un nouveau thème"},{body:Le(()=>{var _;return[Pe(hf,{theme:o.value,onSave:c,onClose:(_=n.value)==null?void 0:_.closeModal},null,8,["theme","onClose"])]}),_:1},8,["title"])]))}}),Zy=yt(Xy,[["__scopeId","data-v-30595be1"]]),eg=ht({__name:"Note",props:{showBar:{type:Boolean}},setup(e){return(t,n)=>(Q(),fe("div",{class:mn(["note",t.showBar?"show-bar":""])},[Bt(t.$slots,"default",{},void 0,!0)],2))}}),so=yt(eg,[["__scopeId","data-v-2c410bf4"]]),tg={class:"left"},ng={class:"right"},rg=ht({__name:"PageTitle",props:{alignCenter:{type:Boolean}},setup(e){return(t,n)=>(Q(),fe("div",{class:mn(["page-title",t.alignCenter?"align-center":""])},[R("div",tg,[Bt(t.$slots,"left",{},void 0,!0)]),R("div",ng,[Bt(t.$slots,"right",{},void 0,!0)])],2))}}),og=yt(rg,[["__scopeId","data-v-a45d98cb"]]),ig={class:"page-subtitle"},sg={key:0,class:"icon"},ag=ht({__name:"PageSubtitle",props:{icon:{},emptyIcon:{type:Boolean}},setup(e){return(t,n)=>(Q(),fe("div",ig,[t.icon||t.emptyIcon?(Q(),fe("div",sg,[t.icon?(Q(),fe("i",{key:0,class:mn(t.icon)},null,2)):ft("",!0)])):ft("",!0),R("div",null,[Bt(t.$slots,"default",{},void 0,!0)])]))}}),ta=yt(ag,[["__scopeId","data-v-f47374e6"]]),ug={class:"page-subtitle-ctn"},lg=ht({__name:"TitleBlock",props:{alignCenterTitle:{type:Boolean}},setup(e){return(t,n)=>(Q(),vt(cs,{type:"title"},{default:Le(()=>[Pe(og,{"align-center":t.alignCenterTitle},{left:Le(()=>[Bt(t.$slots,"title-left",{},void 0,!0)]),right:Le(()=>[Bt(t.$slots,"title-right",{},void 0,!0)]),_:3},8,["align-center"]),R("div",ug,[Bt(t.$slots,"subtitle",{},void 0,!0)])]),_:3}))}}),Xo=yt(lg,[["__scopeId","data-v-19cda045"]]),cg={class:"theme-list-container"},fg=ht({__name:"CategoriesView",setup(e){const t=Kr(),n=st(()=>t.categories);return(o,s)=>(Q(),vt(si,null,{default:Le(()=>[n.value?(Q(),fe(lt,{key:0},[Pe(Xo,null,{"title-left":Le(()=>s[0]||(s[0]=[R("h1",null,"Mes catégories",-1)])),_:1}),Pe(co,null,{"title-left":Le(()=>s[1]||(s[1]=[R("h2",null,"Toutes les catégories",-1)])),content:Le(()=>[R("div",cg,[Pe(so,null,{default:Le(()=>[s[2]||(s[2]=R("b",null,"Total de catégories : ",-1)),jt(Be(n.value.length),1)]),_:1}),Pe(Ey,{categories:n.value},null,8,["categories"])])]),_:1})],64)):ft("",!0)]),_:1}))}}),dg=yt(fg,[["__scopeId","data-v-85fdb882"]]);function wa(){const e=Tn(),t=Ze(null),n=Ze(null),o=Ze(null),s=Ze(null),a=(d,v)=>{const p=d.target;if(p.files&&p.files[0]){const m=p.files[0];v?o.value=m:s.value=m}},c=async d=>{if(d){const v=await e.getFileById(d);v&&(t.value=v,n.value=URL.createObjectURL(v))}},l=st(()=>{var d;return((d=t.value)==null?void 0:d.type)||""});return{file:t,fileUrl:n,fileType:l,newFrontFile:o,newBackFile:s,loadFile:c,handleFileUpload:a}}const hg={class:"header"},pg={class:"left"},mg={class:"face-type"},vg={class:"right",style:{display:"flex",gap:"8px"}},yg={class:"body vertical"},gg={class:"text"},_g={class:"multimedia"},bg=["src"],wg=["src"],Sg=["src"],Cg=["src"],xg=["src"],Eg=["src"],Ig={class:"footer"},Tg={class:"left"},Ag={class:"level"},Pg={key:0,class:"right"},Rg={key:0},kg={key:1},Og=ht({__name:"CardFace",props:{showOptions:{type:Boolean},isQuestion:{type:Boolean},card:{}},emits:["editCard","deleteCard"],setup(e,{emit:t}){const n=e,o=t,s=()=>{o("editCard")},a=()=>{o("deleteCard")},{fileUrl:c,fileType:l,loadFile:d}=wa(),{fileUrl:v,fileType:p,loadFile:m}=wa(),_=async()=>{n.isQuestion?await d(n.card.multimediaFront):await m(n.card.multimediaBack)};return Wn(()=>[n.card,n.isQuestion],()=>{_()},{immediate:!0}),jr(()=>{_()}),(C,H)=>(Q(),fe("div",{class:mn([C.isQuestion?"question":"answer","card-face"])},[R("div",hg,[R("div",pg,[R("span",mg,Be(C.isQuestion?"Q":"A"),1)]),R("div",vg,[C.showOptions?(Q(),vt(xt,{key:0,color:"secondary",icon:"fa-solid fa-pen",type:"icon-btn",variant:"outlined",onClick:In(s,["stop","prevent"])})):ft("",!0),C.showOptions?(Q(),vt(xt,{key:1,color:"secondary",icon:"fa-solid fa-trash",type:"icon-btn",variant:"outlined",onClick:In(a,["stop","prevent"])})):ft("",!0)])]),R("div",yg,[R("div",gg,Be(C.isQuestion?C.card.front:C.card.back),1),R("div",_g,[Je(c)&&C.isQuestion?(Q(),fe(lt,{key:0},[C.isQuestion&&Je(l).startsWith("image")?(Q(),fe("img",{key:0,src:Je(c),alt:"Recto image",class:"multimedia-img"},null,8,bg)):C.isQuestion&&Je(l).startsWith("video")?(Q(),fe("video",{key:1,src:Je(c),controls:"",class:"multimedia-video"},null,8,wg)):C.isQuestion&&Je(l).startsWith("audio")?(Q(),fe("audio",{key:2,src:Je(c),controls:"",class:"multimedia-audio"},null,8,Sg)):ft("",!0)],64)):Je(v)&&!C.isQuestion?(Q(),fe(lt,{key:1},[!C.isQuestion&&Je(p).startsWith("image")?(Q(),fe("img",{key:0,src:Je(v),alt:"Verso image",class:"multimedia-img"},null,8,Cg)):!C.isQuestion&&Je(p).startsWith("video")?(Q(),fe("video",{key:1,src:Je(v),controls:"",class:"multimedia-video"},null,8,xg)):!C.isQuestion&&Je(p).startsWith("audio")?(Q(),fe("audio",{key:2,src:Je(v),controls:"",class:"multimedia-audio"},null,8,Eg)):ft("",!0)],64)):ft("",!0)])]),R("div",Ig,[R("div",Tg,[R("div",Ag,"Niveau "+Be(C.card.currentLevel),1)]),C.showOptions?(Q(),fe("div",Pg,[C.card.lastReviewedAt?(Q(),fe("span",Rg,"Dernière révision : "+Be(C.card.lastReviewedAt.slice(0,10)),1)):ft("",!0),C.card.nextReviewAt?(Q(),fe("span",kg,"Prochaine révision : "+Be(C.card.nextReviewAt.slice(0,10)),1)):ft("",!0)])):ft("",!0)])],2))}}),Cl=yt(Og,[["__scopeId","data-v-825d2207"]]),Dg={class:"flip-card-inner"},$g={class:"flip-card-front"},Ng={class:"flip-card-back"},Bg=ht({__name:"Card",props:{cardData:{},showOptions:{type:Boolean}},emits:["editCard","deleteCard"],setup(e,{emit:t}){const n=Ze(!1),o=()=>{n.value=!n.value};Ze(null);const s=t,a=()=>{s("editCard")},c=()=>{s("deleteCard")};return(l,d)=>(Q(),fe("div",{class:mn([n.value?"flipped":"","flip-card"]),onClick:o},[R("div",Dg,[R("div",$g,[Pe(Cl,{card:l.cardData,onEditCard:a,onDeleteCard:c,"is-question":!0,"show-options":l.showOptions},null,8,["card","show-options"])]),R("div",Ng,[Pe(Cl,{card:l.cardData,"is-question":!1,onDeleteCard:c,"show-options":l.showOptions},null,8,["card","show-options"])])])],2))}}),pf=yt(Bg,[["__scopeId","data-v-f5ab6f5a"]]),Mg={class:"theme-list-container"},Lg=ht({__name:"ThemesView",setup(e){const t=kn(),n=st(()=>t.themes);return(o,s)=>(Q(),vt(si,null,{default:Le(()=>[n.value?(Q(),fe(lt,{key:0},[Pe(Xo,null,{"title-left":Le(()=>s[0]||(s[0]=[R("h1",null,"Mes thèmes",-1)])),_:1}),Pe(co,null,{"title-left":Le(()=>s[1]||(s[1]=[R("h2",null,"Tous les thèmes",-1)])),content:Le(()=>[R("div",Mg,[Pe(so,null,{default:Le(()=>[s[2]||(s[2]=R("b",null,"Total de thèmes : ",-1)),jt(Be(n.value.length),1)]),_:1}),Pe(Zy,{themes:n.value},null,8,["themes"])])]),_:1})],64)):ft("",!0)]),_:1}))}}),Fg=yt(Lg,[["__scopeId","data-v-d4b427fb"]]),jg={class:"form-container"},Kg={class:"form-group"},Ug={class:"form-group"},qg={key:0},Vg={class:"form-group"},Hg={class:"form-group"},Wg={key:0},zg={class:"form-actions"},Yg=ht({__name:"CardForm",props:{card:{}},emits:["save","close"],setup(e,{emit:t}){const n=e,o=t,s=Ze({id:"",themeId:"",front:"",back:"",multimediaFront:"",multimediaBack:"",currentLevel:0});Wn(()=>n.card,v=>{s.value=v?{...v}:{id:"",themeId:"",front:"",back:"",multimediaFront:"",multimediaBack:"",currentLevel:0}},{immediate:!0});const{newFrontFile:a,newBackFile:c,handleFileUpload:l}=wa(),d=()=>o("save",s.value,a.value,c.value);return(v,p)=>(Q(),fe("div",jg,[R("form",{onSubmit:In(d,["prevent"]),class:"form-content"},[R("div",Kg,[p[5]||(p[5]=R("label",{for:"front"},"Recto",-1)),Cn(R("textarea",{id:"front","onUpdate:modelValue":p[0]||(p[0]=m=>s.value.front=m),required:"",rows:"3"},null,512),[[wr,s.value.front]])]),R("div",Ug,[p[6]||(p[6]=R("label",{for:"multimediaFront"},"Média côté recto",-1)),R("input",{id:"multimediaFront",accept:"image/*,video/*,audio/*",type:"file",onChange:p[1]||(p[1]=m=>Je(l)(m,!0))},null,32),s.value.multimediaFront?(Q(),fe("p",qg,"Fichier actuel : "+Be(s.value.multimediaFront),1)):ft("",!0)]),R("div",Vg,[p[7]||(p[7]=R("label",{for:"back"},"Verso",-1)),Cn(R("textarea",{id:"back","onUpdate:modelValue":p[2]||(p[2]=m=>s.value.back=m),required:"",rows:"3"},null,512),[[wr,s.value.back]])]),R("div",Hg,[p[8]||(p[8]=R("label",{for:"multimediaBack"},"Média côté verso",-1)),R("input",{id:"multimediaBack",accept:"image/*,video/*,audio/*",type:"file",onChange:p[3]||(p[3]=m=>Je(l)(m,!1))},null,32),s.value.multimediaBack?(Q(),fe("p",Wg,"Fichier actuel : "+Be(s.value.multimediaBack),1)):ft("",!0)]),R("div",zg,[Pe(xt,{onClick:p[4]||(p[4]=m=>v.$emit("close")),label:"Annuler",variant:"outlined"}),Pe(xt,{onClick:d,label:"Sauvegarder",variant:"filled",color:"secondary"})])],32)]))}}),Gg=yt(Yg,[["__scopeId","data-v-11adaab6"]]),Qg={key:0,class:"card-list flex column gap-8"},Jg={class:"cards-ctn flex gap-8"},Xg={key:1,class:"no-content"},Zg=ht({__name:"CardList",props:{cards:{},themeId:{}},setup(e){const t=Tn(),n=kn();Ze(!1);const o=Ze(null),s=Ze(null),a=()=>{var v;o.value=null,(v=s.value)==null||v.openModal()},c=v=>{var p;o.value=v,(p=s.value)==null||p.openModal()},l=(v,p,m)=>{var _;v.themeId=e.themeId,n.setLatestActivity(v.themeId),t.addCardOrUpdateIt(v,p,m),(_=s.value)==null||_.closeModal()},d=v=>{n.setLatestActivity(e.themeId),t.deleteCardById(v)};return(v,p)=>(Q(),fe(lt,null,[Pe(xt,{onClick:p[0]||(p[0]=m=>a()),icon:"fa-solid fa-plus",label:"Ajouter une carte",variant:"outlined",color:"secondary"}),v.cards.length?(Q(),fe("div",Qg,[R("div",Jg,[(Q(!0),fe(lt,null,hn(v.cards,m=>(Q(),vt(pf,{onEditCard:_=>c(m),onDeleteCard:_=>d(m.id),"show-options":!0,"card-data":m},null,8,["onEditCard","onDeleteCard","card-data"]))),256))])])):(Q(),fe("div",Xg,p[1]||(p[1]=[R("p",null,"Aucune carte disponible. Créez-en une !",-1)]))),Pe(ii,{ref_key:"modalRef",ref:s,title:"Carte"},{body:Le(()=>{var m;return[Pe(Gg,{card:o.value,onSave:l,onClose:(m=s.value)==null?void 0:m.closeModal},null,8,["card","onClose"])]}),_:1},512)],64))}}),e_=yt(Zg,[["__scopeId","data-v-24270107"]]),t_={key:0},n_={class:"card-list-container"},r_=ht({__name:"ThemeDetailView",setup(e){const{resetCardLevel:t}=Go(),n=Um(),o=kn();let s=st(()=>o.getThemeById(n.params.themeId??""));const a=Kr(),c=Tn(),l=async H=>{s.value||await Wa.push("/404")},d=Ze(null),v=()=>{var H;(H=d.value)==null||H.openModal()},p=async H=>{var te;H&&(await o.addThemeOrUpdateIt(H),(te=d.value)==null||te.closeModal())},m=async()=>{!C.value||!s.value||C.value.forEach(H=>{t(H)})};jr(async()=>{await l(n.params.themeId??"")}),Wn(()=>n.params.themeId,H=>{l()});const _=st(()=>s.value?a.categories.find(H=>{var te;return H.id===((te=s==null?void 0:s.value)==null?void 0:te.categoryId)}):null),C=st(()=>s.value?c.cards.filter(H=>{var te;return H.themeId===((te=s==null?void 0:s.value)==null?void 0:te.id)}):null);return(H,te)=>(Q(),vt(si,null,{default:Le(()=>[Je(s)?(Q(),fe(lt,{key:0},[Pe(Xo,null,{"title-left":Le(()=>[R("h1",null,Be(Je(s).name),1)]),"title-right":Le(()=>[Pe(xt,{onClick:v,size:"large",icon:"fa-solid fa-pen",type:"fab-btn",variant:"filled",color:"secondary"})]),subtitle:Le(()=>[_.value?(Q(),vt(ta,{key:0,icon:"fa-solid fa-box-archive"},{default:Le(()=>[jt(Be(_.value.name),1)]),_:1})):ft("",!0),Pe(ta,{icon:"fa-solid fa-calendar"},{default:Le(()=>[jt("Créé le "+Be(Je(s).createdAt),1)]),_:1}),Pe(ta,{icon:"fa-solid fa-gear"},{default:Le(()=>[R("span",null,Be(Je(s).maxLevel)+" "+Be(Je(s).maxLevel>1?"niveaux":"niveau"),1),Je(s).newCardsPerDay?(Q(),fe("span",t_," - "+Be(Je(s).newCardsPerDay)+" "+Be(Je(s).newCardsPerDay>1?"nouvelles cartes":"nouvelle carte")+" par jour",1)):ft("",!0)]),_:1})]),_:1}),C.value?(Q(),vt(co,{key:0},{"title-left":Le(()=>te[0]||(te[0]=[R("h2",null,"CARTES",-1)])),content:Le(()=>[R("div",n_,[Pe(so,null,{default:Le(()=>[te[1]||(te[1]=R("b",null,"Total de cartes : ",-1)),jt(Be(C.value.length),1)]),_:1}),Pe(e_,{cards:C.value,"theme-id":Je(s).id},null,8,["cards","theme-id"])])]),_:1})):ft("",!0)],64)):ft("",!0),Pe(ii,{ref_key:"themeModalRef",ref:d,title:Je(s)?"Modifier le thème":"Créer un nouveau thème"},{body:Le(()=>{var Re;return[Je(s)?(Q(),vt(hf,{key:0,theme:Je(s)??null,onSave:p,onClose:(Re=d.value)==null?void 0:Re.closeModal,onResetProgression:m},null,8,["theme","onClose"])):ft("",!0)]}),_:1},8,["title"])]),_:1}))}}),o_=yt(r_,[["__scopeId","data-v-9927d2d2"]]),i_={key:0,class:"practice-ctn"},s_={class:"practice-form"},a_={class:"btn-container"},u_={key:1,class:"no-content padding"},l_={key:1,class:"flex column row-gap-16"},c_={key:0,class:"flex column row-gap-16"},f_={class:"subtitle"},d_={class:"details"},h_={key:0,class:"delay"},p_={key:0},m_={key:1},v_={class:"levels flex column"},y_={key:1,class:"no-content padding"},g_={key:0,class:"flex column row-gap-16"},__={class:"flex column row-gap-16"},b_={class:"details"},w_={class:"levels flex column row-gap-8"},S_={key:1,class:"no-content padding"},C_=ht({__name:"RevisionSession",setup(e){const{formatDateToLocalISO:t}=Go(),{getCardsToPractice:n,promoteCard:o,demoteCard:s,resetCardLevel:a,getThemesToPracticeByPeriod:c}=Go(),l=Tn(),d=kn(),v=Ze([]),p=Ze(!0),m=async _e=>{var ce,Z;C.value&&(_e?(await o(C.value,((ce=d.getThemeById(C.value.themeId))==null?void 0:ce.maxLevel)??5),te.value="right"):(await s(C.value,((Z=d.getThemeById(C.value.themeId))==null?void 0:Z.maxLevel)??5),te.value="left"),p.value=!1)},_=Ze(0),C=st(()=>v.value[_.value]??null);jr(()=>{H()});const H=()=>{v.value=[],d.themes.forEach(ce=>{const Z=l.getCardsByThemeId(ce.id);v.value.push(...n(Z,ce.maxLevel,ce.newCardsPerDay))})},te=Ze("left"),Re=st(()=>"card-slide-"+te.value),W=()=>{_.value++,p.value=!0},z=Ze(!1),le=()=>{z.value=!z.value,H()},re=st(()=>c(d.themes,l.cards,"future")),j=_e=>_e.reduce((ce,Z)=>(ce[Z.currentLevel]=(ce[Z.currentLevel]||0)+1,ce),{}),Se=_e=>{const ce=[];for(let Z of _e)for(let de of Z.cards){if(!de.nextReviewAt)return;let He=ce.find(ct=>ct.date==de.nextReviewAt);if(!He)ce.push({date:de.nextReviewAt,themes:[{themeId:Z.themeId,cards:[de]}]});else{let ct=He.themes.find(Ge=>Ge.themeId==de.themeId);ct?ct.cards.push(de):He.themes.push({themeId:Z.themeId,cards:[de]})}}return ce};function se(_e){const ce=new Map;for(const Z of _e){const de=Z.themeId;ce.has(de)||ce.set(de,[]),ce.get(de).push(Z)}return Array.from(ce.entries()).map(([Z,de])=>({themeId:Z,cards:de}))}function ge(_e){const ce=new Date(t(new Date)),Z=_e.filter(de=>de.nextReviewAt).map(de=>{const He=new Date(de.nextReviewAt);return He.setHours(0,0,0,0),Math.floor((ce.getTime()-He.getTime())/(1e3*60*60*24)),Math.floor((ce.getTime()-He.getTime())/(1e3*60*60*24))}).filter(de=>de>0);return{dueCount:Z.length,minDelayDays:Z.length>0?Math.min(...Z):null,maxDelayDays:Z.length>0?Math.max(...Z):null}}const ue=st(()=>se(v.value).map(_e=>({..._e,delayInfo:ge(_e.cards),newCardsCount:_e.cards.filter(ce=>!ce.currentLevel).length})));return(_e,ce)=>{var Z;return Q(),fe("div",null,[Pe(Xo,{"align-center-title":!0},aa({"title-left":Le(()=>[ce[2]||(ce[2]=R("h1",null,"Révisions du jour",-1))]),_:2},[v.value.length?{name:"title-right",fn:Le(()=>[Pe(xt,{icon:z.value?"fa-solid fa-stop":"fa-solid fa-play",label:z.value?"Arrêter la session":"Commencer la session",variant:"filled",color:"secondary",onClick:le},null,8,["icon","label"])]),key:"0"}:void 0]),1024),z.value?(Q(),fe(lt,{key:0},[v.value&&C.value?(Q(),fe("div",i_,[Pe(so,{"show-bar":!0},{default:Le(()=>{var de,He;return[R("h3",null,[ce[3]||(ce[3]=R("b",null,"Thème : ",-1)),jt(Be(((de=Je(d).getThemeById(C.value.themeId))==null?void 0:de.name)??"Thème perdu"),1)]),R("div",null,"Niveau max du thème : "+Be(((He=Je(d).getThemeById(C.value.themeId))==null?void 0:He.maxLevel)??5),1),R("div",null,"Progression de la révision : "+Be(_.value+1)+" / "+Be(v.value.length),1)]}),_:1}),R("div",s_,[Pe(Kc,{name:Re.value,onAfterLeave:W},{default:Le(()=>[p.value?(Q(),vt(pf,{key:C.value.id,"card-data":C.value},null,8,["card-data"])):ft("",!0)]),_:1},8,["name"]),R("div",a_,[Pe(xt,{onClick:ce[0]||(ce[0]=de=>m(!1)),variant:"outlined",color:"secondary",label:"Pas appris 😩"}),Pe(xt,{onClick:ce[1]||(ce[1]=de=>m(!0)),variant:"filled",color:"secondary",label:"Appris 🤌"})])])])):(Q(),fe("div",u_," Rien à réviser !"))],64)):(Q(),fe("div",l_,[Pe(co,{class:"flex column row-gap-8"},aa({"title-left":Le(()=>[ce[4]||(ce[4]=R("h2",null,"Aujourd'hui",-1))]),content:Le(()=>[ue.value.length?(Q(),fe("div",c_,[(Q(!0),fe(lt,null,hn(ue.value,de=>(Q(),vt(so,{"show-bar":!0},{default:Le(()=>{var He;return[R("h3",null,[jt(Be(((He=Je(d).getThemeById(de.themeId))==null?void 0:He.name)??"Thème perdu")+" - ",1),R("span",f_,Be(de.cards.length)+" carte"+Be(de.cards.length>1?"s":""),1)]),R("div",d_,[de.delayInfo.dueCount?(Q(),fe("div",h_,[ce[5]||(ce[5]=R("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),R("span",null,Be(de.delayInfo.dueCount)+" carte"+Be(de.delayInfo.dueCount>1?"s":"")+" en retard !",1),de.delayInfo.minDelayDays!=de.delayInfo.maxDelayDays?(Q(),fe("span",p_,"("+Be(de.delayInfo.minDelayDays)+"-"+Be(de.delayInfo.maxDelayDays)+"j)",1)):(Q(),fe("span",m_,"("+Be(de.delayInfo.minDelayDays)+"j)",1))])):ft("",!0),R("div",v_,[(Q(!0),fe(lt,null,hn(j(de.cards),(ct,Ge)=>(Q(),fe("span",null,[R("b",null,"Niveau "+Be(Ge)+":",1),jt(" "+Be(ct)+" carte"+Be(ct>1?"s":""),1)]))),256))])])]}),_:2},1024))),256))])):(Q(),fe("div",y_,"Aucune carte à apprendre aujourd'hui !"))]),_:2},[v.value.length?{name:"title-right",fn:Le(()=>[jt(Be(v.value.length)+" carte"+Be(v.value.length?"s":""),1)]),key:"0"}:void 0]),1024),R("div",null,[Pe(Xo,{class:"second"},{"title-left":Le(()=>ce[6]||(ce[6]=[R("h1",null,"Prochaines révisions",-1)])),_:1}),(Z=Se(re.value))!=null&&Z.length?(Q(),fe("div",g_,[(Q(!0),fe(lt,null,hn(Se(re.value),de=>(Q(),vt(co,{key:de.date,class:"flex column row-gap-8"},{"title-left":Le(()=>[R("h2",null,Be(de.date),1)]),content:Le(()=>[R("div",__,[(Q(!0),fe(lt,null,hn(de.themes,He=>(Q(),vt(so,{"show-bar":!0,key:He.themeId},{default:Le(()=>{var ct;return[R("h3",null,Be(((ct=Je(d).getThemeById(He.themeId))==null?void 0:ct.name)??"Thème perdu"),1),R("div",b_,[R("div",w_,[(Q(!0),fe(lt,null,hn(j(He.cards),(Ge,Ve)=>(Q(),fe("span",null,[R("b",null,"Niveau "+Be(Ve)+":",1),jt(" "+Be(Ge)+" carte"+Be(Ge>1?"s":""),1)]))),256))])])]}),_:2},1024))),128))])]),_:2},1024))),128))])):(Q(),fe("div",S_,"Aucune révision future prévue !"))])]))])}}}),x_=yt(C_,[["__scopeId","data-v-e0e92267"]]),E_=ht({__name:"PracticeView",setup(e){return(t,n)=>(Q(),vt(si,null,{default:Le(()=>[Pe(x_)]),_:1}))}}),I_=ht({__name:"LayoutEmpty",setup(e){return(t,n)=>(Q(),fe(lt,null,[R("main",null,[Bt(t.$slots,"default")]),Pe(df)],64))}}),T_={class:"not-found-container"},A_={class:"subtitle"},P_=ht({__name:"NotFoundView",setup(e){return(t,n)=>{const o=ns("router-link");return Q(),vt(I_,null,{default:Le(()=>[R("div",T_,[n[3]||(n[3]=R("span",{class:"title"},"404 Pas trouvé MDR",-1)),R("span",A_,[n[1]||(n[1]=jt("Petit ")),Pe(o,{to:"/"},{default:Le(()=>n[0]||(n[0]=[jt("retour à l'accueil")])),_:1}),n[2]||(n[2]=jt(" peut-être ?"))])])]),_:1})}}}),R_=yt(P_,[["__scopeId","data-v-53b90122"]]),k_=[{path:"/",name:"Home",component:oy},{path:"/categories",name:"Categories",component:dg},{path:"/themes",name:"ThemeListView",component:Fg},{path:"/themes/:themeId",name:"Theme",component:o_},{path:"/practice",name:"Practice",component:E_},{path:"/404",name:"Not Found !",component:R_},{path:"/:pathMatch(.*)",redirect:"/404",hidden:!0}],Wa=jm({history:mm(),routes:k_});Wa.beforeEach(async(e,t,n)=>{const o=Kr(),s=kn(),a=Tn(),c=us();await as().loadFiles(),await o.loadCategories(),await s.loadThemes(),await a.loadCards(),await c.loadSettings(),n()});Ap.config({name:"memoryApp",storeName:"pinia_store"});const mf=cp();mf.use(Ep);const za=ap(Lp);za.use(mf);za.use(Wa);za.mount("#app");navigator.serviceWorker.register("/sw.js",{type:"module"}).then(e=>{e.onupdatefound=()=>{const t=e.installing;t&&(t.onstatechange=()=>{t.state==="installed"&&(navigator.serviceWorker.controller?console.log("Service Worker mis à jour."):console.log("Service Worker installé pour la première fois."))})}}).catch(e=>{console.error("Erreur lors de l'enregistrement du Service Worker : ",e)});
